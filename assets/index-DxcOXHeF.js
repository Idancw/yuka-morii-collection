(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Yv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var md={exports:{}},ro={};var g_;function HS(){if(g_)return ro;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return ro.Fragment=t,ro.jsx=i,ro.jsxs=i,ro}var p_;function GS(){return p_||(p_=1,md.exports=HS()),md.exports}var j=GS(),gd={exports:{}},wt={};var y_;function FS(){if(y_)return wt;y_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.iterator;function Z(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var at={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lt=Object.assign,W={};function yt(O,Q,nt){this.props=O,this.context=Q,this.refs=W,this.updater=nt||at}yt.prototype.isReactComponent={},yt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},yt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ct(){}ct.prototype=yt.prototype;function dt(O,Q,nt){this.props=O,this.context=Q,this.refs=W,this.updater=nt||at}var Jt=dt.prototype=new ct;Jt.constructor=dt,lt(Jt,yt.prototype),Jt.isPureReactComponent=!0;var Ft=Array.isArray;function jt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Q,nt){var rt=nt.ref;return{$$typeof:a,type:O,key:Q,ref:rt!==void 0?rt:null,props:nt}}function x(O,Q){return C(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Q[nt]})}var w=/\/+/g;function ae(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(jt,jt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Q,nt,rt,St){var q=typeof O;(q==="undefined"||q==="boolean")&&(O=null);var Y=!1;if(O===null)Y=!0;else switch(q){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(O.$$typeof){case a:case t:Y=!0;break;case S:return Y=O._init,G(Y(O._payload),Q,nt,rt,St)}}if(Y)return St=St(O),Y=rt===""?"."+ae(O,0):rt,Ft(St)?(nt="",Y!=null&&(nt=Y.replace(w,"$&/")+"/"),G(St,Q,nt,"",function(Et){return Et})):St!=null&&(D(St)&&(St=x(St,nt+(St.key==null||O&&O.key===St.key?"":(""+St.key).replace(w,"$&/")+"/")+Y)),Q.push(St)),1;Y=0;var tt=rt===""?".":rt+":";if(Ft(O))for(var it=0;it<O.length;it++)rt=O[it],q=tt+ae(rt,it),Y+=G(rt,Q,nt,q,St);else if(it=Z(O),typeof it=="function")for(O=it.call(O),it=0;!(rt=O.next()).done;)rt=rt.value,q=tt+ae(rt,it++),Y+=G(rt,Q,nt,q,St);else if(q==="object"){if(typeof O.then=="function")return G(ye(O),Q,nt,rt,St);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Y}function st(O,Q,nt){if(O==null)return O;var rt=[],St=0;return G(O,rt,"","",function(q){return Q.call(nt,q,St++)}),rt}function ft(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qt={map:st,forEach:function(O,Q,nt){st(O,function(){Q.apply(this,arguments)},nt)},count:function(O){var Q=0;return st(O,function(){Q++}),Q},toArray:function(O){return st(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=b,wt.Children=Qt,wt.Component=yt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=dt,wt.StrictMode=r,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,Q,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=lt({},O.props),St=O.key;if(Q!=null)for(q in Q.key!==void 0&&(St=""+Q.key),Q)!A.call(Q,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&Q.ref===void 0||(rt[q]=Q[q]);var q=arguments.length-2;if(q===1)rt.children=nt;else if(1<q){for(var Y=Array(q),tt=0;tt<q;tt++)Y[tt]=arguments[tt+2];rt.children=Y}return C(O.type,St,rt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},wt.createElement=function(O,Q,nt){var rt,St={},q=null;if(Q!=null)for(rt in Q.key!==void 0&&(q=""+Q.key),Q)A.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(St[rt]=Q[rt]);var Y=arguments.length-2;if(Y===1)St.children=nt;else if(1<Y){for(var tt=Array(Y),it=0;it<Y;it++)tt[it]=arguments[it+2];St.children=tt}if(O&&O.defaultProps)for(rt in Y=O.defaultProps,Y)St[rt]===void 0&&(St[rt]=Y[rt]);return C(O,q,St)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:p,render:O}},wt.isValidElement=D,wt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ft}},wt.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},wt.startTransition=function(O){var Q=I.T,nt={};I.T=nt;try{var rt=O(),St=I.S;St!==null&&St(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(jt,Pt)}catch(q){Pt(q)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),I.T=Q}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(O){return I.H.use(O)},wt.useActionState=function(O,Q,nt){return I.H.useActionState(O,Q,nt)},wt.useCallback=function(O,Q){return I.H.useCallback(O,Q)},wt.useContext=function(O){return I.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},wt.useEffect=function(O,Q){return I.H.useEffect(O,Q)},wt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(O,Q,nt){return I.H.useImperativeHandle(O,Q,nt)},wt.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},wt.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},wt.useMemo=function(O,Q){return I.H.useMemo(O,Q)},wt.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},wt.useReducer=function(O,Q,nt){return I.H.useReducer(O,Q,nt)},wt.useRef=function(O){return I.H.useRef(O)},wt.useState=function(O){return I.H.useState(O)},wt.useSyncExternalStore=function(O,Q,nt){return I.H.useSyncExternalStore(O,Q,nt)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.3",wt}var __;function sm(){return __||(__=1,gd.exports=FS()),gd.exports}var Xe=sm();const QS=Yv(Xe);var pd={exports:{}},ao={},yd={exports:{}},_d={};var v_;function KS(){return v_||(v_=1,(function(a){function t(G,st){var ft=G.length;G.push(st);t:for(;0<ft;){var Pt=ft-1>>>1,Qt=G[Pt];if(0<o(Qt,st))G[Pt]=st,G[ft]=Qt,ft=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var st=G[0],ft=G.pop();if(ft!==st){G[0]=ft;t:for(var Pt=0,Qt=G.length,O=Qt>>>1;Pt<O;){var Q=2*(Pt+1)-1,nt=G[Q],rt=Q+1,St=G[rt];if(0>o(nt,ft))rt<Qt&&0>o(St,nt)?(G[Pt]=St,G[rt]=ft,Pt=rt):(G[Pt]=nt,G[Q]=ft,Pt=Q);else if(rt<Qt&&0>o(St,ft))G[Pt]=St,G[rt]=ft,Pt=rt;else break t}}return st}function o(G,st){var ft=G.sortIndex-st.sortIndex;return ft!==0?ft:G.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,b=null,M=3,Z=!1,at=!1,lt=!1,W=!1,yt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Jt(G){for(var st=i(v);st!==null;){if(st.callback===null)r(v);else if(st.startTime<=G)r(v),st.sortIndex=st.expirationTime,t(_,st);else break;st=i(v)}}function Ft(G){if(lt=!1,Jt(G),!at)if(i(_)!==null)at=!0,jt||(jt=!0,U());else{var st=i(v);st!==null&&ye(Ft,st.startTime-G)}}var jt=!1,I=-1,A=5,C=-1;function x(){return W?!0:!(a.unstable_now()-C<A)}function D(){if(W=!1,jt){var G=a.unstable_now();C=G;var st=!0;try{t:{at=!1,lt&&(lt=!1,ct(I),I=-1),Z=!0;var ft=M;try{e:{for(Jt(G),b=i(_);b!==null&&!(b.expirationTime>G&&x());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,M=b.priorityLevel;var Qt=Pt(b.expirationTime<=G);if(G=a.unstable_now(),typeof Qt=="function"){b.callback=Qt,Jt(G),st=!0;break e}b===i(_)&&r(_),Jt(G)}else r(_);b=i(_)}if(b!==null)st=!0;else{var O=i(v);O!==null&&ye(Ft,O.startTime-G),st=!1}}break t}finally{b=null,M=ft,Z=!1}st=void 0}}finally{st?U():jt=!1}}}var U;if(typeof dt=="function")U=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=D,U=function(){ae.postMessage(null)}}else U=function(){yt(D,0)};function ye(G,st){I=yt(function(){G(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(G){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var ft=M;M=st;try{return G()}finally{M=ft}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return st()}finally{M=ft}},a.unstable_scheduleCallback=function(G,st,ft){var Pt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,G){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ft+Qt,G={id:S++,callback:st,priorityLevel:G,startTime:ft,expirationTime:Qt,sortIndex:-1},ft>Pt?(G.sortIndex=ft,t(v,G),i(_)===null&&G===i(v)&&(lt?(ct(I),I=-1):lt=!0,ye(Ft,ft-Pt))):(G.sortIndex=Qt,t(_,G),at||Z||(at=!0,jt||(jt=!0,U()))),G},a.unstable_shouldYield=x,a.unstable_wrapCallback=function(G){var st=M;return function(){var ft=M;M=st;try{return G.apply(this,arguments)}finally{M=ft}}}})(_d)),_d}var E_;function YS(){return E_||(E_=1,yd.exports=KS()),yd.exports}var vd={exports:{}},We={};var T_;function XS(){if(T_)return We;T_=1;var a=sm();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:_,containerInfo:v,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,S)},We.flushSync=function(_){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=S,r.d.f()}},We.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},We.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},We.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,b=p(S,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,Z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:Z}):S==="script"&&r.d.X(_,{crossOrigin:b,integrity:M,fetchPriority:Z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},We.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},We.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,b=p(S,v.crossOrigin);r.d.L(_,S,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},We.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},We.requestFormReset=function(_){r.d.r(_)},We.unstable_batchedUpdates=function(_,v){return _(v)},We.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var S_;function ZS(){if(S_)return vd.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=XS(),vd.exports}var A_;function JS(){if(A_)return ao;A_=1;var a=YS(),t=sm(),i=ZS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===l)return _(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,M=Symbol.for("react.element"),Z=Symbol.for("react.transitional.element"),at=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Jt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lt:return"Fragment";case yt:return"Profiler";case W:return"StrictMode";case Ft:return"Suspense";case jt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case at:return"Portal";case dt:return e.displayName||"Context";case ct:return(e._context.displayName||"Context")+".Consumer";case Jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Qt=-1;function O(e){return{current:e}}function Q(e){0>Qt||(e.current=Pt[Qt],Pt[Qt]=null,Qt--)}function nt(e,n){Qt++,Pt[Qt]=e.current,e.current=n}var rt=O(null),St=O(null),q=O(null),Y=O(null);function tt(e,n){switch(nt(q,n),nt(St,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),nt(rt,e)}function it(){Q(rt),Q(St),Q(q)}function Et(e){e.memoizedState!==null&&nt(Y,e);var n=rt.current,s=zy(n,e.type);n!==s&&(nt(St,e),nt(rt,s))}function Xt(e){St.current===e&&(Q(rt),Q(St)),Y.current===e&&(Q(Y),eo._currentValue=ft)}var pt,Nt;function qt(e){if(pt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pt=n&&n[1]||"",Nt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+e+Nt}var me=!1;function pn(e,n){if(!e||me)return"";me=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var F=`
`+R[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=c);break}}}finally{me=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qt(s):""}function si(e,n){switch(e.tag){case 26:case 27:case 5:return qt(e.type);case 16:return qt("Lazy");case 13:return e.child!==n&&n!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return pn(e.type,!1);case 11:return pn(e.type.render,!1);case 1:return pn(e.type,!0);case 31:return qt("Activity");default:return""}}function sr(e){try{var n="",s=null;do n+=si(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Me=a.unstable_scheduleCallback,us=a.unstable_cancelCallback,gh=a.unstable_shouldYield,zo=a.unstable_requestPaint,rn=a.unstable_now,rr=a.unstable_getCurrentPriorityLevel,sl=a.unstable_ImmediatePriority,rl=a.unstable_UserBlockingPriority,cs=a.unstable_NormalPriority,ph=a.unstable_LowPriority,jo=a.unstable_IdlePriority,Bo=a.log,qo=a.unstable_setDisableYieldValue,qn=null,He=null;function Rn(e){if(typeof Bo=="function"&&qo(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(qn,e)}catch{}}var _e=Math.clz32?Math.clz32:Go,Ho=Math.log,Yr=Math.LN2;function Go(e){return e>>>=0,e===0?32:31-(Ho(e)/Yr|0)|0}var ri=256,ar=262144,be=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=ai(l):(g&=E,g!==0?c=ai(g):s||(s=E&~e,s!==0&&(c=ai(s))))):(E=l&~f,E!==0?c=ai(E):g!==0?c=ai(g):s||(s=l&~e,s!==0&&(c=ai(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function yh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function oi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _h(e,n,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-_e(s),X=1<<F;E[F]=0,R[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&or(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function or(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-_e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function al(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-_e(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function ll(e,n){var s=n&-n;return s=(s&42)!==0?1:ur(s),(s&(e.suspendedLanes|n))!==0?0:s}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qo(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Gn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Fn=Math.random().toString(36).slice(2),we="__reactFiber$"+Fn,Pe="__reactProps$"+Fn,ui="__reactContainer$"+Fn,Xr="__reactEvents$"+Fn,vh="__reactListeners$"+Fn,Ko="__reactHandles$"+Fn,Yo="__reactResources$"+Fn,ci="__reactMarker$"+Fn;function Zr(e){delete e[we],delete e[Pe],delete e[Xr],delete e[vh],delete e[Ko]}function hi(e){var n=e[we];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Qy(e);e!==null;){if(s=e[we])return s;e=Qy(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[we]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function fi(e){var n=e[Yo];return n||(n=e[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[ci]=!0}var ol=new Set,ul={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(ul[e]=n,e=0;e<n.length;e++)ol.add(n[e])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function Xo(e){return Ae.call(fl,e)?!0:Ae.call(hl,e)?!1:cl.test(e)?fl[e]=!0:(hl[e]=!0,!1)}function Jr(e,n,s){if(Xo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _n(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=hs(e)?"checked":"value";e._valueTracker=dl(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=hs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function on(e){return e.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $r(e,n,s,l,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?ml(e,g,ze(n)):s!=null?ml(e,g,ze(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function Zo(e,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function ml(e,n,s){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function fs(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Jo(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function ds(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ye(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),$t(e)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||$o.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function pl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&gl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&gl(e,f,n[f])}function Wr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var yl=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,pi=null;function fr(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if($r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Pe]||null;if(!c)throw Error(r(90));$r(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&cr(l)}break t;case"textarea":Jo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&fs(e,!!s.multiple,n,!1)}}}var ea=!1;function ps(e,n,s){if(ea)return e(n,s);ea=!0;try{var l=e(n);return l}finally{if(ea=!1,(gs!==null||pi!==null)&&(Qu(),gs&&(n=gs,e=pi,pi=gs=null,fr(n),e)))for(n=0;n<e.length;n++)fr(e[n])}}function Kn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Nn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){dr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{dr=!1}var yi=null,_l=null,mr=null;function vl(){if(mr)return mr;var e,n=_l,s=n.length,l,c="value"in yi?yi.value:yi.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return mr=c.slice(e,1<l?1-l:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Yn(){return!1}function Ge(e){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ge(ki),ys=b({},ki,{view:0,detail:0}),El=Ge(ys),_s,na,vi,ia=b({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(_s=e.screenX-vi.screenX,na=e.screenY-vi.screenY):na=_s=0,vi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Tl=Ge(ia),pr=b({},ia,{dataTransfer:0}),tu=Ge(pr),eu=b({},ys,{relatedTarget:0}),yr=Ge(eu),Sl=b({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Ge(Sl),sa=b({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iu=Ge(sa),su=b({},ki,{data:0}),Ei=Ge(su),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lu[e])?!!n[e]:!1}function vs(){return ou}var an=b({},ys,{key:function(e){if(e.key){var n=ru[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uu=Ge(an),cu=b({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Ge(cu),u=b({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=Ge(u),y=b({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ge(y),L=b({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ge(L),et=b({},ki,{newState:0,oldState:0}),Ct=Ge(et),ve=[9,13,27,32],Kt=Nn&&"CompositionEvent"in window,ce=null;Nn&&"documentMode"in document&&(ce=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ce,Ti=Nn&&(!Kt||ce&&8<ce&&11>=ce),Xn=" ",Zn=!1;function _r(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function dT(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Zn=!0,Xn);case"textInput":return e=n.data,e===Xn&&Zn?null:e;default:return null}}function mT(e,n){if(aa)return e==="compositionend"||!Kt&&_r(e,n)?(e=vl(),mr=_l=yi=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gT[e.type]:n==="textarea"}function Zm(e,n,s,l){gs?pi?pi.push(l):pi=[l]:gs=l,n=Wu(n,"onChange"),0<n.length&&(s=new _i("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Al=null,bl=null;function pT(e){xy(e,0)}function hu(e){var n=yn(e);if(cr(n))return e}function Jm(e,n){if(e==="change")return n}var $m=!1;if(Nn){var Eh;if(Nn){var Th="oninput"in document;if(!Th){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Th=typeof Wm.oninput=="function"}Eh=Th}else Eh=!1;$m=Eh&&(!document.documentMode||9<document.documentMode)}function tg(){Al&&(Al.detachEvent("onpropertychange",eg),bl=Al=null)}function eg(e){if(e.propertyName==="value"&&hu(bl)){var n=[];Zm(n,bl,e,In(e)),ps(pT,n)}}function yT(e,n,s){e==="focusin"?(tg(),Al=n,bl=s,Al.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(bl)}function vT(e,n){if(e==="click")return hu(n)}function ET(e,n){if(e==="input"||e==="change")return hu(n)}function TT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:TT;function wl(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ae.call(n,c)||!vn(e[c],n[c]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,n){var s=ng(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ng(s)}}function sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gi(e.document)}return n}function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ST=Nn&&"documentMode"in document&&11>=document.documentMode,la=null,Ah=null,Rl=null,bh=!1;function ag(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bh||la==null||la!==gi(l)||(l=la,"selectionStart"in l&&Sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&wl(Rl,l)||(Rl=l,l=Wu(Ah,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=la)))}function vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},wh={},lg={};Nn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Er(e){if(wh[e])return wh[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in lg)return wh[e]=n[s];return e}var og=Er("animationend"),ug=Er("animationiteration"),cg=Er("animationstart"),AT=Er("transitionrun"),bT=Er("transitionstart"),wT=Er("transitioncancel"),hg=Er("transitionend"),fg=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Jn(e,n){fg.set(e,n),di(n,[e])}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],ua=0,Ch=0;function du(){for(var e=ua,n=Ch=ua=0;n<e;){var s=On[n];On[n++]=null;var l=On[n];On[n++]=null;var c=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dg(s,c,f)}}function mu(e,n,s,l){On[ua++]=e,On[ua++]=n,On[ua++]=s,On[ua++]=l,Ch|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ih(e,n,s,l){return mu(e,n,s,l),gu(e)}function Tr(e,n){return mu(e,null,null,n),gu(e)}function dg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-_e(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function gu(e){if(50<Yl)throw Yl=0,Pf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function RT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,l){return new RT(e,n,s,l)}function Nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function pu(e,n,s,l,c,f){var g=0;if(l=e,typeof e=="function")Nh(e)&&(g=1);else if(typeof e=="string")g=OS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,s,n,c),e.elementType=C,e.lanes=f,e;case lt:return Sr(s.children,c,f,n);case W:g=8,c|=24;break;case yt:return e=En(12,s,n,c|2),e.elementType=yt,e.lanes=f,e;case Ft:return e=En(13,s,n,c),e.elementType=Ft,e.lanes=f,e;case jt:return e=En(19,s,n,c),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case ct:g=9;break t;case Jt:g=11;break t;case I:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=En(g,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Sr(e,n,s,l){return e=En(7,e,l,n),e.lanes=s,e}function Dh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function gg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Oh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var s=pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:sr(n)},pg.set(e,n),n)}return{value:e,source:n,stack:sr(n)}}var ha=[],fa=0,yu=null,Cl=0,Vn=[],Mn=0,Es=null,Si=1,Ai="";function ji(e,n){ha[fa++]=Cl,ha[fa++]=yu,yu=e,Cl=n}function yg(e,n,s){Vn[Mn++]=Si,Vn[Mn++]=Ai,Vn[Mn++]=Es,Es=e;var l=Si;e=Ai;var c=32-_e(l)-1;l&=~(1<<c),s+=1;var f=32-_e(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Si=1<<32-_e(n)+c|s<<c|l,Ai=f+e}else Si=1<<f|s<<c|l,Ai=e}function xh(e){e.return!==null&&(ji(e,1),yg(e,1,0))}function Vh(e){for(;e===yu;)yu=ha[--fa],ha[fa]=null,Cl=ha[--fa],ha[fa]=null;for(;e===Es;)Es=Vn[--Mn],Vn[Mn]=null,Ai=Vn[--Mn],Vn[Mn]=null,Si=Vn[--Mn],Vn[Mn]=null}function _g(e,n){Vn[Mn++]=Si,Vn[Mn++]=Ai,Vn[Mn++]=Es,Si=n.id,Ai=n.overflow,Es=e}var Fe=null,le=null,zt=!1,Ts=null,Un=!1,Mh=Error(r(519));function Ss(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(xn(n,e)),Mh}function vg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[we]=e,n[Pe]=l,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<Zl.length;s++)xt(Zl[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Zo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),ds(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ly(n.textContent,s)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Ss(e,!0)}function Eg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Fe=Fe.return}}function da(e){if(e!==Fe)return!1;if(!zt)return Eg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Wf(e.type,e.memoizedProps)),s=!s),s&&le&&Ss(e),Eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));le=Fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));le=Fy(e)}else n===27?(n=le,Ls(e.type)?(e=sd,sd=null,le=e):le=n):le=Fe?kn(e.stateNode.nextSibling):null;return!0}function Ar(){le=Fe=null,zt=!1}function Uh(){var e=Ts;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ts=null),e}function Il(e){Ts===null?Ts=[e]:Ts.push(e)}var Lh=O(null),br=null,Bi=null;function As(e,n,s){nt(Lh,n._currentValue),n._currentValue=s}function qi(e){e._currentValue=Lh.current,Q(Lh)}function kh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ph(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),kh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),kh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ma(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;vn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Y.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(eo):e=[eo])}c=c.return}e!==null&&Ph(n,e,s,l),n.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){br=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Tg(br,e)}function vu(e,n){return br===null&&wr(e),Tg(e,n)}function Tg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Bi===null){if(e===null)throw Error(r(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return s}var CT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},IT=a.unstable_scheduleCallback,NT=a.unstable_NormalPriority,Ie={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new CT,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&IT(NT,function(){e.controller.abort()})}var Dl=null,jh=0,ga=0,pa=null;function DT(e,n){if(Dl===null){var s=Dl=[];jh=0,ga=Gf(),pa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return jh++,n.then(Sg,Sg),n}function Sg(){if(--jh===0&&Dl!==null){pa!==null&&(pa.status="fulfilled");var e=Dl;Dl=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function OT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Ag=G.S;G.S=function(e,n){ay=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&DT(e,n),Ag!==null&&Ag(e,n)};var Rr=O(null);function Bh(){var e=Rr.current;return e!==null?e:re.pooledCache}function Eu(e,n){n===null?nt(Rr,Rr.current):nt(Rr,n.pool)}function bg(){var e=Bh();return e===null?null:{parent:Ie._currentValue,pool:e}}var ya=Error(r(460)),qh=Error(r(474)),Tu=Error(r(542)),Su={then:function(){}};function wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Ir=n,ya}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,ya):s}}var Ir=null;function Cg(){if(Ir===null)throw Error(r(459));var e=Ir;return Ir=null,e}function Ig(e){if(e===ya||e===Tu)throw Error(r(483))}var _a=null,Ol=0;function Au(e){var n=Ol;return Ol+=1,_a===null&&(_a=[]),Rg(_a,e,n)}function xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ng(e){function n(V,N){if(e){var k=V.deletions;k===null?(V.deletions=[N],V.flags|=16):k.push(N)}}function s(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function c(V,N){return V=zi(V,N),V.index=0,V.sibling=null,V}function f(V,N,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<N?(V.flags|=67108866,N):k):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,k,K){return N===null||N.tag!==6?(N=Dh(k,V.mode,K),N.return=V,N):(N=c(N,k),N.return=V,N)}function R(V,N,k,K){var gt=k.type;return gt===lt?F(V,N,k.props.children,K,k.key):N!==null&&(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Cr(gt)===N.type)?(N=c(N,k.props),xl(N,k),N.return=V,N):(N=pu(k.type,k.key,k.props,null,V.mode,K),xl(N,k),N.return=V,N)}function P(V,N,k,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Oh(k,V.mode,K),N.return=V,N):(N=c(N,k.children||[]),N.return=V,N)}function F(V,N,k,K,gt){return N===null||N.tag!==7?(N=Sr(k,V.mode,K,gt),N.return=V,N):(N=c(N,k),N.return=V,N)}function X(V,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Dh(""+N,V.mode,k),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Z:return k=pu(N.type,N.key,N.props,null,V.mode,k),xl(k,N),k.return=V,k;case at:return N=Oh(N,V.mode,k),N.return=V,N;case A:return N=Cr(N),X(V,N,k)}if(ye(N)||U(N))return N=Sr(N,V.mode,k,null),N.return=V,N;if(typeof N.then=="function")return X(V,Au(N),k);if(N.$$typeof===dt)return X(V,vu(V,N),k);bu(V,N)}return null}function z(V,N,k,K){var gt=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return gt!==null?null:E(V,N,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Z:return k.key===gt?R(V,N,k,K):null;case at:return k.key===gt?P(V,N,k,K):null;case A:return k=Cr(k),z(V,N,k,K)}if(ye(k)||U(k))return gt!==null?null:F(V,N,k,K,null);if(typeof k.then=="function")return z(V,N,Au(k),K);if(k.$$typeof===dt)return z(V,N,vu(V,k),K);bu(V,k)}return null}function H(V,N,k,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(k)||null,E(N,V,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return V=V.get(K.key===null?k:K.key)||null,R(N,V,K,gt);case at:return V=V.get(K.key===null?k:K.key)||null,P(N,V,K,gt);case A:return K=Cr(K),H(V,N,k,K,gt)}if(ye(K)||U(K))return V=V.get(k)||null,F(N,V,K,gt,null);if(typeof K.then=="function")return H(V,N,k,Au(K),gt);if(K.$$typeof===dt)return H(V,N,k,vu(N,K),gt);bu(N,K)}return null}function ut(V,N,k,K){for(var gt=null,Ht=null,ht=N,Dt=N=0,Mt=null;ht!==null&&Dt<k.length;Dt++){ht.index>Dt?(Mt=ht,ht=null):Mt=ht.sibling;var Gt=z(V,ht,k[Dt],K);if(Gt===null){ht===null&&(ht=Mt);break}e&&ht&&Gt.alternate===null&&n(V,ht),N=f(Gt,N,Dt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt,ht=Mt}if(Dt===k.length)return s(V,ht),zt&&ji(V,Dt),gt;if(ht===null){for(;Dt<k.length;Dt++)ht=X(V,k[Dt],K),ht!==null&&(N=f(ht,N,Dt),Ht===null?gt=ht:Ht.sibling=ht,Ht=ht);return zt&&ji(V,Dt),gt}for(ht=l(ht);Dt<k.length;Dt++)Mt=H(ht,V,Dt,k[Dt],K),Mt!==null&&(e&&Mt.alternate!==null&&ht.delete(Mt.key===null?Dt:Mt.key),N=f(Mt,N,Dt),Ht===null?gt=Mt:Ht.sibling=Mt,Ht=Mt);return e&&ht.forEach(function(Bs){return n(V,Bs)}),zt&&ji(V,Dt),gt}function vt(V,N,k,K){if(k==null)throw Error(r(151));for(var gt=null,Ht=null,ht=N,Dt=N=0,Mt=null,Gt=k.next();ht!==null&&!Gt.done;Dt++,Gt=k.next()){ht.index>Dt?(Mt=ht,ht=null):Mt=ht.sibling;var Bs=z(V,ht,Gt.value,K);if(Bs===null){ht===null&&(ht=Mt);break}e&&ht&&Bs.alternate===null&&n(V,ht),N=f(Bs,N,Dt),Ht===null?gt=Bs:Ht.sibling=Bs,Ht=Bs,ht=Mt}if(Gt.done)return s(V,ht),zt&&ji(V,Dt),gt;if(ht===null){for(;!Gt.done;Dt++,Gt=k.next())Gt=X(V,Gt.value,K),Gt!==null&&(N=f(Gt,N,Dt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt);return zt&&ji(V,Dt),gt}for(ht=l(ht);!Gt.done;Dt++,Gt=k.next())Gt=H(ht,V,Dt,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ht.delete(Gt.key===null?Dt:Gt.key),N=f(Gt,N,Dt),Ht===null?gt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ht.forEach(function(qS){return n(V,qS)}),zt&&ji(V,Dt),gt}function se(V,N,k,K){if(typeof k=="object"&&k!==null&&k.type===lt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Z:t:{for(var gt=k.key;N!==null;){if(N.key===gt){if(gt=k.type,gt===lt){if(N.tag===7){s(V,N.sibling),K=c(N,k.props.children),K.return=V,V=K;break t}}else if(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Cr(gt)===N.type){s(V,N.sibling),K=c(N,k.props),xl(K,k),K.return=V,V=K;break t}s(V,N);break}else n(V,N);N=N.sibling}k.type===lt?(K=Sr(k.props.children,V.mode,K,k.key),K.return=V,V=K):(K=pu(k.type,k.key,k.props,null,V.mode,K),xl(K,k),K.return=V,V=K)}return g(V);case at:t:{for(gt=k.key;N!==null;){if(N.key===gt)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){s(V,N.sibling),K=c(N,k.children||[]),K.return=V,V=K;break t}else{s(V,N);break}else n(V,N);N=N.sibling}K=Oh(k,V.mode,K),K.return=V,V=K}return g(V);case A:return k=Cr(k),se(V,N,k,K)}if(ye(k))return ut(V,N,k,K);if(U(k)){if(gt=U(k),typeof gt!="function")throw Error(r(150));return k=gt.call(k),vt(V,N,k,K)}if(typeof k.then=="function")return se(V,N,Au(k),K);if(k.$$typeof===dt)return se(V,N,vu(V,k),K);bu(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(s(V,N.sibling),K=c(N,k),K.return=V,V=K):(s(V,N),K=Dh(k,V.mode,K),K.return=V,V=K),g(V)):s(V,N)}return function(V,N,k,K){try{Ol=0;var gt=se(V,N,k,K);return _a=null,gt}catch(ht){if(ht===ya||ht===Tu)throw ht;var Ht=En(29,ht,null,V.mode);return Ht.lanes=K,Ht.return=V,Ht}}}var Nr=Ng(!0),Dg=Ng(!1),bs=!1;function Hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=gu(e),dg(e,null,s),n}return mu(e,l,n,s),gu(e)}function Vl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}function Fh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Qh=!1;function Ml(){if(Qh){var e=pa;if(e!==null)throw e}}function Ul(e,n,s,l){Qh=!1;var c=e.updateQueue;bs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;g=0,F=P=R=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Vt&z)===z:(l&z)===z){z!==0&&z===ga&&(Qh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,vt=E;z=n;var se=s;switch(vt.tag){case 1:if(ut=vt.payload,typeof ut=="function"){X=ut.call(se,X,z);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=vt.payload,z=typeof ut=="function"?ut.call(se,X,z):ut,z==null)break t;X=b({},X,z);break t;case 2:bs=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,R=X):F=F.next=H,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Os|=g,e.lanes=g,e.memoizedState=X}}function Og(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Og(s[e],n)}var va=O(null),wu=O(0);function Vg(e,n){e=Ji,nt(wu,e),nt(va,n),Ji=e|n.baseLanes}function Kh(){nt(wu,Ji),nt(va,va.current)}function Yh(){Ji=wu.current,Q(va),Q(wu)}var Tn=O(null),Ln=null;function Cs(e){var n=e.alternate;nt(Ee,Ee.current&1),nt(Tn,e),Ln===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Ln=e)}function Xh(e){nt(Ee,Ee.current),nt(Tn,e),Ln===null&&(Ln=e)}function Mg(e){e.tag===22?(nt(Ee,Ee.current),nt(Tn,e),Ln===null&&(Ln=e)):Is()}function Is(){nt(Ee,Ee.current),nt(Tn,Tn.current)}function Sn(e){Q(Tn),Ln===e&&(Ln=null),Q(Ee)}var Ee=O(0);function Ru(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||nd(s)||id(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,It=null,ne=null,Ne=null,Cu=!1,Ea=!1,Dr=!1,Iu=0,Ll=0,Ta=null,xT=0;function ge(){throw Error(r(321))}function Zh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function Jh(e,n,s,l,c,f){return Hi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?yp:df,Dr=!1,f=s(l,c),Dr=!1,Ea&&(f=Lg(n,s,l,c)),Ug(e),f}function Ug(e){G.H=zl;var n=ne!==null&&ne.next!==null;if(Hi=0,Ne=ne=It=null,Cu=!1,Ll=0,Ta=null,n)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&_u(e)&&(De=!0))}function Lg(e,n,s,l){It=e;var c=0;do{if(Ea&&(Ta=null),Ll=0,Ea=!1,25<=c)throw Error(r(301));if(c+=1,Ne=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=_p,f=n(s,l)}while(Ea);return f}function VT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?kl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(It.flags|=1024),n}function $h(){var e=Iu!==0;return Iu=0,e}function Wh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function tf(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Hi=0,Ne=ne=It=null,Ea=!1,Ll=Iu=0,Ta=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Te(){if(ne===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Ne===null?It.memoizedState:Ne.next;if(n!==null)Ne=n,ne=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var n=Ll;return Ll+=1,Ta===null&&(Ta=[]),e=Rg(Ta,e,n),n=It,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?yp:df),e}function Du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===dt)return Qe(e)}throw Error(r(438,String(e)))}function ef(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Nu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=x;return n.index++,s}function Gi(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=Te();return nf(n,ne,e)}function nf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,R=null,P=n,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Vt&X)===X:(Hi&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===ga&&(F=!0);else if((Hi&z)===z){P=P.next,z===ga&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,It.lanes|=z,Os|=z;X=P.action,Dr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,It.lanes|=X,Os|=X;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!vn(f,e.memoizedState)&&(De=!0,F&&(s=pa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sf(e){var n=Te(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);vn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function kg(e,n,s){var l=It,c=Te(),f=zt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!vn((ne||c).memoizedState,s);if(g&&(c.memoizedState=s,De=!0),c=c.queue,lf(jg.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,Sa(9,{destroy:void 0},zg.bind(null,l,c,s,n),null),re===null)throw Error(r(349));f||(Hi&127)!==0||Pg(l,n,s)}return s}function Pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Nu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zg(e,n,s,l){n.value=s,n.getSnapshot=l,Bg(n)&&qg(e)}function jg(e,n,s){return s(function(){Bg(n)&&qg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function qg(e){var n=Tr(e,2);n!==null&&mn(n,e,2)}function rf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),Dr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function Hg(e,n,s,l){return e.baseState=s,nf(e,ne,typeof l=="function"?l:Gi)}function MT(e,n,s,l,c){if(Mu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Gg(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(c,l),R=G.S;R!==null&&R(g,E),Fg(e,n,E)}catch(P){af(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(c,l),Fg(e,n,f)}catch(P){af(e,n,P)}}function Fg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Qg(e,n,l)},function(l){return af(e,n,l)}):Qg(e,n,s)}function Qg(e,n,s){n.status="fulfilled",n.value=s,Kg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Gg(e,s)))}function af(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Kg(n),n=n.next;while(n!==l)}e.action=null}function Kg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yg(e,n){return n}function Xg(e,n){if(zt){var s=re.formState;if(s!==null){t:{var l=It;if(zt){if(le){e:{for(var c=le,f=Un;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=kn(c.nextSibling),l=c.data==="F!";break t}}Ss(l)}l=!1}l&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},s.queue=l,s=mp.bind(null,It,l),l.dispatch=s,l=rf(!1),f=ff.bind(null,It,!1,l.queue),l=ln(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=MT.bind(null,It,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function Zg(e){var n=Te();return Jg(n,ne,e)}function Jg(e,n,s){if(n=nf(e,n,Yg)[0],e=Ou(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=kl(n)}catch(g){throw g===ya?Tu:g}else l=n;n=Te();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Sa(9,{destroy:void 0},UT.bind(null,c,s),null)),[l,f,e]}function UT(e,n){e.action=n}function $g(e){var n=Te(),s=ne;if(s!==null)return Jg(n,s,e);Te(),n=n.memoizedState,s=Te();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Sa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Nu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Wg(){return Te().memoizedState}function xu(e,n,s,l){var c=ln();It.flags|=e,c.memoizedState=Sa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Vu(e,n,s,l){var c=Te();l=l===void 0?null:l;var f=c.memoizedState.inst;ne!==null&&l!==null&&Zh(l,ne.memoizedState.deps)?c.memoizedState=Sa(n,f,s,l):(It.flags|=e,c.memoizedState=Sa(1|n,f,s,l))}function tp(e,n){xu(8390656,8,e,n)}function lf(e,n){Vu(2048,8,e,n)}function LT(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Nu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ep(e){var n=Te().memoizedState;return LT({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function np(e,n){return Vu(4,2,e,n)}function ip(e,n){return Vu(4,4,e,n)}function sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,s){s=s!=null?s.concat([e]):null,Vu(4,4,sp.bind(null,n,e),s)}function of(){}function ap(e,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Zh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function lp(e,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Zh(n,l[1]))return l[0];if(l=e(),Dr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[l,n],l}function uf(e,n,s){return s===void 0||(Hi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=oy(),It.lanes|=e,Os|=e,s)}function op(e,n,s,l){return vn(s,n)?s:va.current!==null?(e=uf(e,s,l),vn(e,n)||(De=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Vt&261930)===0?(De=!0,e.memoizedState=s):(e=oy(),It.lanes|=e,Os|=e,n)}function up(e,n,s,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,ff(e,!1,n,s);try{var R=c(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=OT(R,l);Pl(e,n,F,wn(e))}else Pl(e,n,l,wn(e))}catch(X){Pl(e,n,{then:function(){},status:"rejected",reason:X},wn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function kT(){}function cf(e,n,s,l){if(e.tag!==5)throw Error(r(476));var c=cp(e).queue;up(e,c,n,ft,s===null?kT:function(){return hp(e),s(l)})}function cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hp(e){var n=cp(e);n.next===null&&(n=e.alternate.memoizedState),Pl(e,n.next.queue,{},wn())}function hf(){return Qe(eo)}function fp(){return Te().memoizedState}function dp(){return Te().memoizedState}function PT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=ws(s);var l=Rs(n,e,s);l!==null&&(mn(l,n,s),Vl(l,n,s)),n={cache:zh()},e.payload=n;return}n=n.return}}function zT(e,n,s){var l=wn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(e)?gp(n,s):(s=Ih(e,n,s,l),s!==null&&(mn(s,e,l),pp(s,n,l)))}function mp(e,n,s){var l=wn();Pl(e,n,s,l)}function Pl(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))gp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,vn(E,g))return mu(e,n,c,0),re===null&&du(),!1}catch{}if(s=Ih(e,n,c,l),s!==null)return mn(s,e,l),pp(s,n,l),!0}return!1}function ff(e,n,s,l){if(l={lane:2,revertLane:Gf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(n)throw Error(r(479))}else n=Ih(e,s,l,2),n!==null&&mn(n,e,2)}function Mu(e){var n=e.alternate;return e===It||n!==null&&n===It}function gp(e,n){Ea=Cu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function pp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}var zl={readContext:Qe,use:Du,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};zl.useEffectEvent=ge;var yp={readContext:Qe,use:Du,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:tp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,xu(4194308,4,sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var l=e();if(Dr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=ln();if(s!==void 0){var c=s(n);if(Dr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=zT.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=rf(e);var n=e.queue,s=mp.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:of,useDeferredValue:function(e,n){var s=ln();return uf(s,e,n)},useTransition:function(){var e=rf(!1);return e=up.bind(null,It,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,c=ln();if(zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),re===null)throw Error(r(349));(Vt&127)!==0||Pg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,tp(jg.bind(null,l,f,e),[e]),l.flags|=2048,Sa(9,{destroy:void 0},zg.bind(null,l,f,s,n),null),s},useId:function(){var e=ln(),n=re.identifierPrefix;if(zt){var s=Ai,l=Si;s=(l&~(1<<32-_e(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Iu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=xT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ff.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:ef,useCacheRefresh:function(){return ln().memoizedState=PT.bind(null,It)},useEffectEvent:function(e){var n=ln(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},df={readContext:Qe,use:Du,useCallback:ap,useContext:Qe,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:lp,useReducer:Ou,useRef:Wg,useState:function(){return Ou(Gi)},useDebugValue:of,useDeferredValue:function(e,n){var s=Te();return op(s,ne.memoizedState,e,n)},useTransition:function(){var e=Ou(Gi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:kl(e),n]},useSyncExternalStore:kg,useId:fp,useHostTransitionStatus:hf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=Te();return Hg(s,ne,e,n)},useMemoCache:ef,useCacheRefresh:dp};df.useEffectEvent=ep;var _p={readContext:Qe,use:Du,useCallback:ap,useContext:Qe,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:lp,useReducer:sf,useRef:Wg,useState:function(){return sf(Gi)},useDebugValue:of,useDeferredValue:function(e,n){var s=Te();return ne===null?uf(s,e,n):op(s,ne.memoizedState,e,n)},useTransition:function(){var e=sf(Gi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:kl(e),n]},useSyncExternalStore:kg,useId:fp,useHostTransitionStatus:hf,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var s=Te();return ne!==null?Hg(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ef,useCacheRefresh:dp};_p.useEffectEvent=ep;function mf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var gf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=wn(),c=ws(l);c.payload=n,s!=null&&(c.callback=s),n=Rs(e,c,l),n!==null&&(mn(n,e,l),Vl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=wn(),c=ws(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Rs(e,c,l),n!==null&&(mn(n,e,l),Vl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),l=ws(s);l.tag=2,n!=null&&(l.callback=n),n=Rs(e,l,s),n!==null&&(mn(n,e,s),Vl(n,e,s))}};function vp(e,n,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!wl(s,l)||!wl(c,f):!0}function Ep(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&gf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Tp(e){fu(e)}function Sp(e){console.error(e)}function Ap(e){fu(e)}function Uu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function pf(e,n,s){return s=ws(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(e,n)},s}function wp(e){return e=ws(e),e.tag=3,e}function Rp(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){bp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){bp(n,s,l),typeof c!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function jT(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ma(n,s,c,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?Ku():s.alternate===null&&pe===0&&(pe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Su?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Bf(e,l,c)),!1;case 22:return s.flags|=65536,l===Su?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Bf(e,l,c)),!1}throw Error(r(435,s.tag))}return Bf(e,l,c),Ku(),!1}if(zt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Mh&&(e=Error(r(422),{cause:l}),Il(xn(e,s)))):(l!==Mh&&(n=Error(r(423),{cause:l}),Il(xn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=xn(l,s),c=pf(e.stateNode,l,c),Fh(e,c),pe!==4&&(pe=2)),!1;var f=Error(r(520),{cause:l});if(f=xn(f,s),Kl===null?Kl=[f]:Kl.push(f),pe!==4&&(pe=2),n===null)return!0;l=xn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=pf(s.stateNode,l,e),Fh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=wp(c),Rp(c,e,s,l),Fh(s,c),!1}s=s.return}while(s!==null);return!1}var yf=Error(r(461)),De=!1;function Ke(e,n,s,l){n.child=e===null?Dg(n,null,s,l):Nr(n,e.child,s,l)}function Cp(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return wr(n),l=Jh(e,n,s,g,f,c),E=$h(),e!==null&&!De?(Wh(e,n,c),Fi(e,n,c)):(zt&&E&&xh(n),n.flags|=1,Ke(e,n,l,c),n.child)}function Ip(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!Nh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Np(e,n,f,l,c)):(e=pu(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!wf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(g,l)&&e.ref===n.ref)return Fi(e,n,c)}return n.flags|=1,e=zi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(wl(f,l)&&e.ref===n.ref)if(De=!1,n.pendingProps=l=f,wf(e,c))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Fi(e,n,c)}return _f(e,n,s,l,c)}function Dp(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Op(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(n,f!==null?f.cachePool:null),f!==null?Vg(n,f):Kh(),Mg(n);else return l=n.lanes=536870912,Op(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Eu(n,f.cachePool),Vg(n,f),Is(),n.memoizedState=null):(e!==null&&Eu(n,null),Kh(),Is());return Ke(e,n,c,s),n.child}function jl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(e,n,s,l,c){var f=Bh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Eu(n,null),Kh(),Mg(n),e!==null&&ma(e,n,l,!0),n.childLanes=c,null}function Lu(e,n){return n=Pu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,s){return Nr(n,e.child,null,s),e=Lu(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function BT(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=Lu(n,l),n.lanes=536870912,jl(null,e);if(Xh(n),(e=le)?(e=Gy(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Es!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=gg(e),s.return=n,n.child=s,Fe=n,le=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return Lu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Xh(n),c)if(n.flags&256)n.flags&=-257,n=xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(De||ma(e,n,s,!1),c=(s&e.childLanes)!==0,De||c){if(l=re,l!==null&&(g=ll(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(e,g),mn(l,e,g),yf;Ku(),n=xp(e,n,s)}else e=f.treeContext,le=kn(g.nextSibling),Fe=n,zt=!0,Ts=null,Un=!1,e!==null&&_g(n,e),n=Lu(n,l),n.flags|=4096;return n}return e=zi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function _f(e,n,s,l,c){return wr(n),s=Jh(e,n,s,l,void 0,c),l=$h(),e!==null&&!De?(Wh(e,n,c),Fi(e,n,c)):(zt&&l&&xh(n),n.flags|=1,Ke(e,n,s,c),n.child)}function Vp(e,n,s,l,c,f){return wr(n),n.updateQueue=null,s=Lg(n,l,s,c),Ug(e),l=$h(),e!==null&&!De?(Wh(e,n,f),Fi(e,n,f)):(zt&&l&&xh(n),n.flags|=1,Ke(e,n,s,f),n.child)}function Mp(e,n,s,l,c){if(wr(n),n.stateNode===null){var f=ca,g=s.contextType;typeof g=="object"&&g!==null&&(f=Qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Hh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Qe(g):ca,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(mf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&gf.enqueueReplaceState(f,f.state,null),Ul(n,l,f,c),Ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Or(s,E);f.props=R;var P=f.context,F=s.contextType;g=ca,typeof F=="object"&&F!==null&&(g=Qe(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Ep(n,f,l,g),bs=!1;var z=n.memoizedState;f.state=z,Ul(n,l,f,c),Ml(),P=n.memoizedState,E||z!==P||bs?(typeof X=="function"&&(mf(n,s,X,l),P=n.memoizedState),(R=bs||vp(n,s,R,l,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Gh(e,n),g=n.memoizedProps,F=Or(s,g),f.props=F,X=n.pendingProps,z=f.context,P=s.contextType,R=ca,typeof P=="object"&&P!==null&&(R=Qe(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==R)&&Ep(n,f,l,R),bs=!1,z=n.memoizedState,f.state=z,Ul(n,l,f,c),Ml();var H=n.memoizedState;g!==X||z!==H||bs||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof E=="function"&&(mf(n,s,E,l),H=n.memoizedState),(F=bs||vp(n,s,F,l,z,H,R)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ku(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Nr(n,e.child,null,c),n.child=Nr(n,null,s,c)):Ke(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Fi(e,n,c),e}function Up(e,n,s,l){return Ar(),n.flags|=256,Ke(e,n,s,l),n.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(e){return{baseLanes:e,cachePool:bg()}}function Tf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=bn),e}function Lp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(c?Cs(n):Is(),(e=le)?(e=Gy(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Es!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=gg(e),s.return=n,n.child=s,Fe=n,le=null)):e=null,e===null)throw Ss(n);return id(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Is(),c=n.mode,E=Pu({mode:"hidden",children:E},c),l=Sr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ef(s),l.childLanes=Tf(e,g,s),n.memoizedState=vf,jl(null,l)):(Cs(n),Sf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Af(e,n,s)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),E=l.fallback,c=n.mode,l=Pu({mode:"visible",children:l.children},c),E=Sr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Nr(n,e.child,null,s),l=n.child,l.memoizedState=Ef(s),l.childLanes=Tf(e,g,s),n.memoizedState=vf,n=jl(null,l));else if(Cs(n),id(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,Il({value:l,source:null,stack:null}),n=Af(e,n,s)}else if(De||ma(e,n,s,!1),g=(s&e.childLanes)!==0,De||g){if(g=re,g!==null&&(l=ll(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Tr(e,l),mn(g,e,l),yf;nd(E)||Ku(),n=Af(e,n,s)}else nd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=kn(E.nextSibling),Fe=n,zt=!0,Ts=null,Un=!1,e!==null&&_g(n,e),n=Sf(n,l.children),n.flags|=4096);return n}return c?(Is(),E=l.fallback,c=n.mode,R=e.child,P=R.sibling,l=zi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=zi(P,E):(E=Sr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,jl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Ef(s):(c=E.cachePool,c!==null?(R=Ie._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=bg(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Tf(e,g,s),n.memoizedState=vf,jl(e.child,l)):(Cs(n),s=e.child,e=s.sibling,s=zi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Sf(e,n){return n=Pu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Pu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Af(e,n,s){return Nr(n,e.child,null,s),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),kh(e.return,n,s)}function bf(e,n,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Pp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(Ee,g),Ke(e,n,l,s),l=zt?Cl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,s,n);else if(e.tag===19)kp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Ru(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),bf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ru(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}bf(n,!0,s,null,f,l);break;case"together":bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ma(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function wf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function qT(e,n,s){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),As(n,Ie,e.memoizedState.cache),Ar();break;case 27:case 5:Et(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Lp(e,n,s):(Cs(n),e=Fi(e,n,s),e!==null?e.sibling:null);Cs(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ma(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Pp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(Ee,Ee.current),l)break;return null;case 22:return n.lanes=0,Dp(e,n,s,n.pendingProps);case 24:As(n,Ie,e.memoizedState.cache)}return Fi(e,n,s)}function zp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!wf(e,s)&&(n.flags&128)===0)return De=!1,qT(e,n,s);De=(e.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&yg(n,Cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Nh(e)?(l=Or(e,l),n.tag=1,n=Mp(null,n,e,l,s)):(n.tag=0,n=_f(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===Jt){n.tag=11,n=Cp(null,n,e,l,s);break t}else if(c===I){n.tag=14,n=Ip(null,n,e,l,s);break t}}throw n=ae(e)||e,Error(r(306,n,""))}}return n;case 0:return _f(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Or(l,n.pendingProps),Mp(e,n,l,c,s);case 3:t:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Gh(e,n),Ul(n,l,null,s);var g=n.memoizedState;if(l=g.cache,As(n,Ie,l),l!==f.cache&&Ph(n,[Ie],s,!0),Ml(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,l,s);break t}else if(l!==c){c=xn(Error(r(424)),n),Il(c),n=Up(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=kn(e.firstChild),Fe=n,zt=!0,Ts=null,Un=!0,s=Dg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ar(),l===c){n=Fi(e,n,s);break t}Ke(e,n,l,s)}n=n.child}return n;case 26:return ku(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,l=tc(q.current).createElement(s),l[we]=n,l[Pe]=e,Ye(l,s,e),Re(l),n.stateNode=l):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Et(n),e===null&&zt&&(l=n.stateNode=Ky(n.type,n.pendingProps,q.current),Fe=n,Un=!0,c=le,Ls(n.type)?(sd=c,le=kn(l.firstChild)):le=c),Ke(e,n,n.pendingProps.children,s),ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((c=l=le)&&(l=_S(l,n.type,n.pendingProps,Un),l!==null?(n.stateNode=l,Fe=n,le=kn(l.firstChild),Un=!1,c=!0):c=!1),c||Ss(n)),Et(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Wf(c,f)?l=null:g!==null&&Wf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Jh(e,n,VT,null,null,s),eo._currentValue=c),ku(e,n),Ke(e,n,l,s),n.child;case 6:return e===null&&zt&&((e=s=le)&&(s=vS(s,n.pendingProps,Un),s!==null?(n.stateNode=s,Fe=n,le=null,e=!0):e=!1),e||Ss(n)),null;case 13:return Lp(e,n,s);case 4:return tt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Nr(n,null,l,s):Ke(e,n,l,s),n.child;case 11:return Cp(e,n,n.type,n.pendingProps,s);case 7:return Ke(e,n,n.pendingProps,s),n.child;case 8:return Ke(e,n,n.pendingProps.children,s),n.child;case 12:return Ke(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,As(n,n.type,l.value),Ke(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,wr(n),c=Qe(c),l=l(c),n.flags|=1,Ke(e,n,l,s),n.child;case 14:return Ip(e,n,n.type,n.pendingProps,s);case 15:return Np(e,n,n.type,n.pendingProps,s);case 19:return Pp(e,n,s);case 31:return BT(e,n,s);case 22:return Dp(e,n,s,n.pendingProps);case 24:return wr(n),l=Qe(Ie),e===null?(c=Bh(),c===null&&(c=re,f=zh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Hh(n),As(n,Ie,c)):((e.lanes&s)!==0&&(Gh(e,n),Ul(n,null,null,s),Ml()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),As(n,Ie,l)):(l=f.cache,As(n,Ie,l),l!==c.cache&&Ph(n,[Ie],s,!0))),Ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qi(e){e.flags|=4}function Rf(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(fy())e.flags|=8192;else throw Ir=Su,qh}else e.flags&=-16777217}function jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e_(n))if(fy())e.flags|=8192;else throw Ir=Su,qh}function zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fo():536870912,e.lanes|=n,Ra|=n)}function Bl(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function HT(e,n,s){var l=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qi(Ie),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(da(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Uh())),oe(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(oe(n),jp(n,f)):(oe(n),Rf(n,c,null,l,s))):f?f!==e.memoizedState?(Qi(n),oe(n),jp(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qi(n),oe(n),Rf(n,c,e,l,s)),null;case 27:if(Xt(n),s=q.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return oe(n),null}e=rt.current,da(n)?vg(n):(e=Ky(c,l,s),n.stateNode=e,Qi(n))}return oe(n),null;case 5:if(Xt(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(f=rt.current,da(n))vg(n);else{var g=tc(q.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[we]=n,f[Pe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ye(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qi(n)}}return oe(n),Rf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=q.current,da(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=Fe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[we]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ly(e.nodeValue,s)),e||Ss(n,!0)}else e=tc(e).createTextNode(l),e[we]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=da(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[we]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return oe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=da(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[we]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),c=!1}else c=Uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),zu(n,n.updateQueue),oe(n),null);case 4:return it(),e===null&&Yf(n.stateNode.containerInfo),oe(n),null;case 10:return qi(n.type),oe(n),null;case 19:if(Q(Ee),l=n.memoizedState,l===null)return oe(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Bl(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ru(e),f!==null){for(n.flags|=128,Bl(l,!1),e=f.updateQueue,n.updateQueue=e,zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)mg(s,e),s=s.sibling;return nt(Ee,Ee.current&1|2),zt&&ji(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&rn()>Gu&&(n.flags|=128,c=!0,Bl(l,!1),n.lanes=4194304)}else{if(!c)if(e=Ru(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,zu(n,e),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return oe(n),null}else 2*rn()-l.renderingStartTime>Gu&&s!==536870912&&(n.flags|=128,c=!0,Bl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,s=Ee.current,nt(Ee,c?s&1|2:s&1),zt&&ji(n,l.treeForkCount),e):(oe(n),null);case 22:case 23:return Sn(n),Yh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Q(Rr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qi(Ie),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function GT(e,n){switch(Vh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(Ie),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xt(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(r(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ee),null;case 4:return it(),null;case 10:return qi(n.type),null;case 22:case 23:return Sn(n),Yh(),e!==null&&Q(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(Ie),null;case 25:return null;default:return null}}function Bp(e,n){switch(Vh(n),n.tag){case 3:qi(Ie),it();break;case 26:case 27:case 5:Xt(n);break;case 4:it();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:Q(Ee);break;case 10:qi(n.type);break;case 22:case 23:Sn(n),Yh(),e!==null&&Q(Rr);break;case 24:qi(Ie)}}function ql(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){te(n,n.return,E)}}function Ns(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=s,P=E;try{P()}catch(F){te(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){te(n,n.return,F)}}function qp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{xg(n,s)}catch(l){te(e,e.return,l)}}}function Hp(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){te(e,n,l)}}function Hl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){te(e,n,c)}}function bi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){te(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){te(e,n,c)}else s.current=null}function Gp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){te(e,e.return,c)}}function Cf(e,n,s){try{var l=e.stateNode;fS(l,e.type,s,n),l[Pe]=n}catch(c){te(e,e.return,c)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function If(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(l!==4&&(l===27&&Ls(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Nf(e,n,s),e=e.sibling;e!==null;)Nf(e,n,s),e=e.sibling}function ju(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ls(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ju(e,n,s),e=e.sibling;e!==null;)ju(e,n,s),e=e.sibling}function Qp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ye(n,l,s),n[we]=e,n[Pe]=s}catch(f){te(e,e.return,f)}}var Ki=!1,Oe=!1,Df=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,je=null;function FT(e,n){if(e=e.containerInfo,Jf=lc,e=rg(e),Sh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,F=0,X=e,z=null;e:for(;;){for(var H;X!==s||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===s&&++P===c&&(E=g),z===f&&++F===l&&(R=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for($f={focusedElem:e,selectionRange:s},lc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ut=Or(s.type,c);e=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){te(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ed(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function Yp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(e,s),l&4&&ql(5,s);break;case 1:if(Xi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){te(s,s.return,g)}else{var c=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(s,s.return,g)}}l&64&&qp(s),l&512&&Hl(s,s.return);break;case 3:if(Xi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{xg(e,n)}catch(g){te(s,s.return,g)}}break;case 27:n===null&&l&4&&Qp(s);case 26:case 5:Xi(e,s),n===null&&l&4&&Gp(s),l&512&&Hl(s,s.return);break;case 12:Xi(e,s);break;case 31:Xi(e,s),l&4&&Jp(e,s);break;case 13:Xi(e,s),l&4&&$p(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=tS.bind(null,s),ES(e,s))));break;case 22:if(l=s.memoizedState!==null||Ki,!l){n=n!==null&&n.memoizedState!==null||Oe,c=Ki;var f=Oe;Ki=l,(Oe=n)&&!f?Zi(e,s,(s.subtreeFlags&8772)!==0):Xi(e,s),Ki=c,Oe=f}break;case 30:break;default:Xi(e,s)}}function Xp(e){var n=e.alternate;n!==null&&(e.alternate=null,Xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,cn=!1;function Yi(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:Oe||bi(s,n),Yi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||bi(s,n);var l=he,c=cn;Ls(s.type)&&(he=s.stateNode,cn=!1),Yi(e,n,s),$l(s.stateNode),he=l,cn=c;break;case 5:Oe||bi(s,n);case 6:if(l=he,c=cn,he=null,Yi(e,n,s),he=l,cn=c,he!==null)if(cn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){te(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){te(s,n,f)}break;case 18:he!==null&&(cn?(e=he,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):qy(he,s.stateNode));break;case 4:l=he,c=cn,he=s.stateNode.containerInfo,cn=!0,Yi(e,n,s),he=l,cn=c;break;case 0:case 11:case 14:case 15:Ns(2,s,n),Oe||Ns(4,s,n),Yi(e,n,s);break;case 1:Oe||(bi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Hp(s,n,l)),Yi(e,n,s);break;case 21:Yi(e,n,s);break;case 22:Oe=(l=Oe)||s.memoizedState!==null,Yi(e,n,s),Oe=l;break;default:Yi(e,n,s)}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){te(n,n.return,s)}}}function $p(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){te(n,n.return,s)}}function QT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kp),n;default:throw Error(r(435,e.tag))}}function Bu(e,n){var s=QT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=eS.bind(null,e,l);l.then(c,c)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){he=E.stateNode,cn=!1;break t}break;case 5:he=E.stateNode,cn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(he===null)throw Error(r(160));Zp(f,g,c),he=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}var $n=null;function Wp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),l&4&&(Ns(3,e,e.return),ql(3,e),Ns(5,e,e.return));break;case 1:hn(n,e),fn(e),l&512&&(Oe||s===null||bi(s,s.return)),l&64&&Ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=$n;if(hn(n,e),fn(e),l&512&&(Oe||s===null||bi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ci]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ye(f,l,s),f[we]=e,Re(f),l=f;break t;case"link":var g=Wy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ye(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Wy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ye(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[we]=e,Re(f),l=f}e.stateNode=l}else t_(c,e.type,e.stateNode);else e.stateNode=$y(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?t_(c,e.type,e.stateNode):$y(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),l&512&&(Oe||s===null||bi(s,s.return)),s!==null&&l&4&&Cf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),l&512&&(Oe||s===null||bi(s,s.return)),e.flags&32){c=e.stateNode;try{un(c,"")}catch(ut){te(e,e.return,ut)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Cf(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Df=!0);break;case 6:if(hn(n,e),fn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ut){te(e,e.return,ut)}}break;case 3:if(ic=null,c=$n,$n=ec(n.containerInfo),hn(n,e),$n=c,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(ut){te(e,e.return,ut)}Df&&(Df=!1,ty(e));break;case 4:l=$n,$n=ec(e.stateNode.containerInfo),hn(n,e),fn(e),$n=l;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hu=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 22:c=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Ki,F=Oe;if(Ki=P||c,Oe=F||R,hn(n,e),Oe=F,Ki=P,fn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Ki||Oe||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ut){te(R,R.return,ut)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(ut){te(R,R.return,ut)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;c?Hy(H,!0):Hy(R.stateNode,!1)}catch(ut){te(R,R.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Bu(e,s))));break;case 19:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Fp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=If(e);ju(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(un(g,""),s.flags&=-33);var E=If(e);ju(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=If(e);Nf(e,P,R);break;default:throw Error(r(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),xr(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hp(n,n.return,s),xr(n);break;case 27:$l(n.stateNode);case 26:case 5:bi(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Zi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(c,f,s),ql(4,f);break;case 1:if(Zi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){te(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Og(R[c],E)}catch(P){te(l,l.return,P)}}s&&g&64&&qp(f),Hl(f,f.return);break;case 27:Qp(f);case 26:case 5:Zi(c,f,s),s&&l===null&&g&4&&Gp(f),Hl(f,f.return);break;case 12:Zi(c,f,s);break;case 31:Zi(c,f,s),s&&g&4&&Jp(c,f);break;case 13:Zi(c,f,s),s&&g&4&&$p(c,f);break;case 22:f.memoizedState===null&&Zi(c,f,s),Hl(f,f.return);break;case 30:break;default:Zi(c,f,s)}n=n.sibling}}function Of(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Nl(s))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function Wn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,s,l),n=n.sibling}function ey(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,l),c&2048&&ql(9,n);break;case 1:Wn(e,n,s,l);break;case 3:Wn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(c&2048){Wn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(n,n.return,R)}}else Wn(e,n,s,l);break;case 31:Wn(e,n,s,l);break;case 13:Wn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,l):Gl(e,n):f._visibility&2?Wn(e,n,s,l):(f._visibility|=2,Aa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Of(g,n);break;case 24:Wn(e,n,s,l),c&2048&&xf(n.alternate,n);break;default:Wn(e,n,s,l)}}function Aa(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,R,c),ql(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Aa(f,g,E,R,c):Gl(f,g):(F._visibility|=2,Aa(f,g,E,R,c)),c&&P&2048&&Of(g.alternate,g);break;case 24:Aa(f,g,E,R,c),c&&P&2048&&xf(g.alternate,g);break;default:Aa(f,g,E,R,c)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Gl(s,l),c&2048&&Of(l.alternate,l);break;case 24:Gl(s,l),c&2048&&xf(l.alternate,l);break;default:Gl(s,l)}n=n.sibling}}var Fl=8192;function ba(e,n,s){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)ny(e,n,s),e=e.sibling}function ny(e,n,s){switch(e.tag){case 26:ba(e,n,s),e.flags&Fl&&e.memoizedState!==null&&xS(s,$n,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,s);break;case 3:case 4:var l=$n;$n=ec(e.stateNode.containerInfo),ba(e,n,s),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,ba(e,n,s),Fl=l):ba(e,n,s));break;default:ba(e,n,s)}}function iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,ry(l,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,qu(e)):Ql(e);break;default:Ql(e)}}function qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,ry(l,e)}iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qu(n));break;default:qu(n)}e=e.sibling}}function ry(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:Ns(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=e;je!==null;){l=je;var c=l.sibling,f=l.return;if(Xp(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var KT={getCacheForType:function(e){var n=Qe(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Qe(Ie).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Ot=null,Vt=0,Wt=0,An=null,Ds=!1,wa=!1,Vf=!1,Ji=0,pe=0,Os=0,Vr=0,Mf=0,bn=0,Ra=0,Kl=null,dn=null,Uf=!1,Hu=0,ay=0,Gu=1/0,Fu=null,xs=null,Ue=0,Vs=null,Ca=null,$i=0,Lf=0,kf=null,ly=null,Yl=0,Pf=null;function wn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:G.T!==null?Gf():Qo()}function oy(){if(bn===0)if((Vt&536870912)===0||zt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function mn(e,n,s){(e===re&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Ms(e,Vt,bn,!1)),lr(e,s),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(Vr|=s),pe===4&&Ms(e,Vt,bn,!1)),wi(e))}function uy(e,n,s){if((Yt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),c=l?JT(e,n):jf(e,n,!0),f=l;do{if(c===0){wa&&!l&&Ms(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!XT(s)){c=jf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Kl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,g).flags|=256),g=jf(E,g,!1),g!==2){if(Vf&&!R){E.errorRecoveryDisabledLanes|=f,Vr|=f,c=4;break t}f=dn,dn=c,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ia(e,0),Ms(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,bn,!Ds);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Hu+300-rn(),10<c)){if(Ms(l,n,bn,!Ds),li(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=jy(cy.bind(null,l,s,dn,Fu,Uf,n,bn,Vr,Ra,Ds,f,"Throttled",-0,0),c);break t}cy(l,s,dn,Fu,Uf,n,bn,Vr,Ra,Ds,f,null,-0,0)}}break}while(!0);wi(e)}function cy(e,n,s,l,c,f,g,E,R,P,F,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},ny(n,f,X);var ut=(f&62914560)===f?Hu-rn():(f&4194048)===f?ay-rn():0;if(ut=VS(X,ut),ut!==null){$i=f,e.cancelPendingCommit=ut(_y.bind(null,e,n,f,s,l,c,g,E,R,F,X,null,z,H)),Ms(e,f,g,!P);return}}_y(e,n,f,s,l,c,g,E,R)}function XT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!vn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,s,l){n&=~Mf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-_e(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&or(e,s,n)}function Qu(){return(Yt&6)===0?(Xl(0),!1):!0}function zf(){if(Ot!==null){if(Wt===0)var e=Ot.return;else e=Ot,Bi=br=null,tf(e),_a=null,Ol=0,e=Ot;for(;e!==null;)Bp(e.alternate,e),e=e.return;Ot=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,gS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$i=0,zf(),re=e,Ot=s=zi(e.current,null),Vt=n,Wt=0,An=null,Ds=!1,wa=Hn(e,n),Vf=!1,Ra=bn=Mf=Vr=Os=pe=0,dn=Kl=null,Uf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-_e(l),f=1<<c;n|=e[c],l&=~f}return Ji=n,du(),s}function hy(e,n){It=null,G.H=zl,n===ya||n===Tu?(n=Cg(),Wt=3):n===qh?(n=Cg(),Wt=4):Wt=n===yf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ot===null&&(pe=1,Uu(e,xn(n,e.current)))}function fy(){var e=Tn.current;return e===null?!0:(Vt&4194048)===Vt?Ln===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Ln:!1}function dy(){var e=G.H;return G.H=zl,e===null?zl:e}function my(){var e=G.A;return G.A=KT,e}function Ku(){pe=4,Ds||(Vt&4194048)!==Vt&&Tn.current!==null||(wa=!0),(Os&134217727)===0&&(Vr&134217727)===0||re===null||Ms(re,Vt,bn,!1)}function jf(e,n,s){var l=Yt;Yt|=2;var c=dy(),f=my();(re!==e||Vt!==n)&&(Fu=null,Ia(e,n)),n=!1;var g=pe;t:do try{if(Wt!==0&&Ot!==null){var E=Ot,R=An;switch(Wt){case 8:zf(),g=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Wt;if(Wt=0,An=null,Na(e,E,R,P),s&&wa){g=0;break t}break;default:P=Wt,Wt=0,An=null,Na(e,E,R,P)}}ZT(),g=pe;break}catch(F){hy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Bi=br=null,Yt=l,G.H=c,G.A=f,Ot===null&&(re=null,Vt=0,du()),g}function ZT(){for(;Ot!==null;)gy(Ot)}function JT(e,n){var s=Yt;Yt|=2;var l=dy(),c=my();re!==e||Vt!==n?(Fu=null,Gu=rn()+500,Ia(e,n)):wa=Hn(e,n);t:do try{if(Wt!==0&&Ot!==null){n=Ot;var f=An;e:switch(Wt){case 1:Wt=0,An=null,Na(e,n,f,1);break;case 2:case 9:if(wg(f)){Wt=0,An=null,py(n);break}n=function(){Wt!==2&&Wt!==9||re!==e||(Wt=7),wi(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:wg(f)?(Wt=0,An=null,py(n)):(Wt=0,An=null,Na(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?e_(g):E.stateNode.complete){Wt=0,An=null;var R=E.sibling;if(R!==null)Ot=R;else{var P=E.return;P!==null?(Ot=P,Yu(P)):Ot=null}break e}}Wt=0,An=null,Na(e,n,f,5);break;case 6:Wt=0,An=null,Na(e,n,f,6);break;case 8:zf(),pe=6;break t;default:throw Error(r(462))}}$T();break}catch(F){hy(e,F)}while(!0);return Bi=br=null,G.H=l,G.A=c,Yt=s,Ot!==null?0:(re=null,Vt=0,du(),pe)}function $T(){for(;Ot!==null&&!gh();)gy(Ot)}function gy(e){var n=zp(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?Yu(e):Ot=n}function py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Vp(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Vp(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:tf(n);default:Bp(s,n),n=Ot=mg(n,Ji),n=zp(s,n,Ji)}e.memoizedProps=e.pendingProps,n===null?Yu(e):Ot=n}function Na(e,n,s,l){Bi=br=null,tf(n),_a=null,Ol=0;var c=n.return;try{if(jT(e,c,n,s,Vt)){pe=1,Uu(e,xn(s,e.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;pe=1,Uu(e,xn(s,e.current)),Ot=null;return}n.flags&32768?(zt||l===1?e=!0:wa||(Vt&536870912)!==0?e=!1:(Ds=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yy(n,e)):Yu(n)}function Yu(e){var n=e;do{if((n.flags&32768)!==0){yy(n,Ds);return}e=n.return;var s=HT(n.alternate,n,Ji);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);pe===0&&(pe=5)}function yy(e,n){do{var s=GT(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);pe=6,Ot=null}function _y(e,n,s,l,c,f,g,E,R){e.cancelPendingCommit=null;do Xu();while(Ue!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ch,_h(e,s,f,g,E,R),e===re&&(Ot=re=null,Vt=0),Ca=n,Vs=e,$i=s,Lf=f,kf=c,ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nS(cs,function(){return Ay(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=st.p,st.p=2,g=Yt,Yt|=4;try{FT(e,n,s)}finally{Yt=g,st.p=c,G.T=l}}Ue=1,vy(),Ey(),Ty()}}function vy(){if(Ue===1){Ue=0;var e=Vs,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=st.p;st.p=2;var c=Yt;Yt|=4;try{Wp(n,e);var f=$f,g=rg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&sg(E.ownerDocument.documentElement,E)){if(R!==null&&Sh(E)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ut=E.textContent.length,vt=Math.min(R.start,ut),se=R.end===void 0?vt:Math.min(R.end,ut);!H.extend&&vt>se&&(g=se,se=vt,vt=g);var V=ig(E,vt),N=ig(E,se);if(V&&N&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var k=X.createRange();k.setStart(V.node,V.offset),H.removeAllRanges(),vt>se?(H.addRange(k),H.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),H.addRange(k))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}lc=!!Jf,$f=Jf=null}finally{Yt=c,st.p=l,G.T=s}}e.current=n,Ue=2}}function Ey(){if(Ue===2){Ue=0;var e=Vs,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=st.p;st.p=2;var c=Yt;Yt|=4;try{Yp(e,n.alternate,n)}finally{Yt=c,st.p=l,G.T=s}}Ue=3}}function Ty(){if(Ue===4||Ue===3){Ue=0,zo();var e=Vs,n=Ca,s=$i,l=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ca=Vs=null,Sy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(xs=null),Ui(s),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=st.p,st.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,st.p=c}}($i&3)!==0&&Xu(),wi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Pf?Yl++:(Yl=0,Pf=e):Yl=0,Xl(0)}}function Sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function Xu(){return vy(),Ey(),Ty(),Ay()}function Ay(){if(Ue!==5)return!1;var e=Vs,n=Lf;Lf=0;var s=Ui($i),l=G.T,c=st.p;try{st.p=32>s?32:s,G.T=null,s=kf,kf=null;var f=Vs,g=$i;if(Ue=0,Ca=Vs=null,$i=0,(Yt&6)!==0)throw Error(r(331));var E=Yt;if(Yt|=4,sy(f.current),ey(f,f.current,g,s),Yt=E,Xl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{st.p=c,G.T=l,Sy(e,n)}}function by(e,n,s){n=xn(s,n),n=pf(e.stateNode,n,2),e=Rs(e,n,2),e!==null&&(lr(e,2),wi(e))}function te(e,n,s){if(e.tag===3)by(e,e,s);else for(;n!==null;){if(n.tag===3){by(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xs===null||!xs.has(l))){e=xn(s,e),s=wp(2),l=Rs(n,s,2),l!==null&&(Rp(s,l,n,e),lr(l,2),wi(l));break}}n=n.return}}function Bf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new YT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Vf=!0,c.add(s),e=WT.bind(null,e,n,s),n.then(e,e))}function WT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Vt&s)===s&&(pe===4||pe===3&&(Vt&62914560)===Vt&&300>rn()-Hu?(Yt&2)===0&&Ia(e,0):Mf|=s,Ra===Vt&&(Ra=0)),wi(e)}function wy(e,n){n===0&&(n=Fo()),e=Tr(e,n),e!==null&&(lr(e,n),wi(e))}function tS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),wy(e,s)}function eS(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),wy(e,s)}function nS(e,n){return Me(e,n)}var Zu=null,Da=null,qf=!1,Ju=!1,Hf=!1,Us=0;function wi(e){e!==Da&&e.next===null&&(Da===null?Zu=Da=e:Da=Da.next=e),Ju=!0,qf||(qf=!0,sS())}function Xl(e,n){if(!Hf&&Ju){Hf=!0;do for(var s=!1,l=Zu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ny(l,f))}else f=Vt,f=li(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Hn(l,f)||(s=!0,Ny(l,f));l=l.next}while(s);Hf=!1}}function iS(){Ry()}function Ry(){Ju=qf=!1;var e=0;Us!==0&&mS()&&(e=Us);for(var n=rn(),s=null,l=Zu;l!==null;){var c=l.next,f=Cy(l,n);f===0?(l.next=null,s===null?Zu=c:s.next=c,c===null&&(Da=s)):(s=l,(e!==0||(f&3)!==0)&&(Ju=!0)),l=c}Ue!==0&&Ue!==5||Xl(e),Us!==0&&(Us=0)}function Cy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,R=c[g];R===-1?((E&s)===0||(E&l)!==0)&&(c[g]=yh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Vt,s=li(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&us(l),Ui(s)){case 2:case 8:s=rl;break;case 32:s=cs;break;case 268435456:s=jo;break;default:s=cs}return l=Iy.bind(null,e),s=Me(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&us(l),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xu()&&e.callbackNode!==s)return null;var l=Vt;return l=li(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(uy(e,l,n),Cy(e,rn()),e.callbackNode!=null&&e.callbackNode===s?Iy.bind(null,e):null)}function Ny(e,n){if(Xu())return null;uy(e,n,!0)}function sS(){pS(function(){(Yt&6)!==0?Me(sl,iS):Ry()})}function Gf(){if(Us===0){var e=ga;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Us=e}return Us}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Oy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function rS(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Dy((c[Pe]||null).action),g=l.submitter;g&&(n=(n=g[Pe]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new _i("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var R=g?Oy(c,g):new FormData(c);cf(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Oy(c,g):new FormData(c),cf(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Ff=0;Ff<Rh.length;Ff++){var Qf=Rh[Ff],aS=Qf.toLowerCase(),lS=Qf[0].toUpperCase()+Qf.slice(1);Jn(aS,"on"+lS)}Jn(og,"onAnimationEnd"),Jn(ug,"onAnimationIteration"),Jn(cg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(AT,"onTransitionRun"),Jn(bT,"onTransitionStart"),Jn(wT,"onTransitionCancel"),Jn(hg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(F){fu(F)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(F){fu(F)}c.currentTarget=null,f=R}}}}function xt(e,n){var s=n[Xr];s===void 0&&(s=n[Xr]=new Set);var l=e+"__bubble";s.has(l)||(Vy(n,e,2,!1),s.add(l))}function Kf(e,n,s){var l=0;n&&(l|=4),Vy(s,e,l,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[$u]){e[$u]=!0,ol.forEach(function(s){s!=="selectionchange"&&(oS.has(s)||Kf(s,!1,e),Kf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$u]||(n[$u]=!0,Kf("selectionchange",!1,n))}}function Vy(e,n,s,l){switch(o_(n)){case 2:var c=LS;break;case 8:c=kS;break;default:c=ud}s=c.bind(null,n,s,e),c=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Xf(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ps(function(){var P=f,F=In(s),X=[];t:{var z=fg.get(e);if(z!==void 0){var H=_i,ut=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":H=uu;break;case"focusin":ut="focus",H=yr;break;case"focusout":ut="blur",H=yr;break;case"beforeblur":case"afterblur":H=yr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case og:case ug:case cg:H=nu;break;case hg:H=T;break;case"scroll":case"scrollend":H=El;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=Ct}var vt=(n&4)!==0,se=!vt&&(e==="scroll"||e==="scrollend"),V=vt?z!==null?z+"Capture":null:z;vt=[];for(var N=P,k;N!==null;){var K=N;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||V===null||(K=Kn(N,V),K!=null&&vt.push(Jl(N,K,k))),se)break;N=N.return}0<vt.length&&(z=new H(z,ut,null,s,F),X.push({event:z,listeners:vt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==yl&&(ut=s.relatedTarget||s.fromElement)&&(hi(ut)||ut[ui]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=P,ut=ut?hi(ut):null,ut!==null&&(se=h(ut),vt=ut.tag,ut!==se||vt!==5&&vt!==27&&vt!==6)&&(ut=null)):(H=null,ut=P),H!==ut)){if(vt=Tl,K="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Pi,K="onPointerLeave",V="onPointerEnter",N="pointer"),se=H==null?z:yn(H),k=ut==null?z:yn(ut),z=new vt(K,N+"leave",H,s,F),z.target=se,z.relatedTarget=k,K=null,hi(F)===P&&(vt=new vt(V,N+"enter",ut,s,F),vt.target=k,vt.relatedTarget=se,K=vt),se=K,H&&ut)e:{for(vt=uS,V=H,N=ut,k=0,K=V;K;K=vt(K))k++;K=0;for(var gt=N;gt;gt=vt(gt))K++;for(;0<k-K;)V=vt(V),k--;for(;0<K-k;)N=vt(N),K--;for(;k--;){if(V===N||N!==null&&V===N.alternate){vt=V;break e}V=vt(V),N=vt(N)}vt=null}else vt=null;H!==null&&My(X,z,H,vt,!1),ut!==null&&se!==null&&My(X,se,ut,vt,!0)}}t:{if(z=P?yn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ht=Jm;else if(Xm(z))if($m)Ht=ET;else{Ht=_T;var ht=yT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Wr(P.elementType)&&(Ht=Jm):Ht=vT;if(Ht&&(Ht=Ht(e,P))){Zm(X,Ht,s,F);break t}ht&&ht(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&ml(z,"number",z.value)}switch(ht=P?yn(P):window,e){case"focusin":(Xm(ht)||ht.contentEditable==="true")&&(la=ht,Ah=P,Rl=null);break;case"focusout":Rl=Ah=la=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,ag(X,s,F);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":ag(X,s,F)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else aa?_r(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ti&&s.locale!=="ko"&&(aa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&aa&&(Dt=vl()):(yi=F,_l="value"in yi?yi.value:yi.textContent,aa=!0)),ht=Wu(P,Mt),0<ht.length&&(Mt=new Ei(Mt,e,null,s,F),X.push({event:Mt,listeners:ht}),Dt?Mt.data=Dt:(Dt=ra(s),Dt!==null&&(Mt.data=Dt)))),(Dt=Dn?dT(e,s):mT(e,s))&&(Mt=Wu(P,"onBeforeInput"),0<Mt.length&&(ht=new Ei("onBeforeInput","beforeinput",null,s,F),X.push({event:ht,listeners:Mt}),ht.data=Dt)),rS(X,e,P,s,F)}xy(X,n)})}function Jl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Wu(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Kn(e,s),c!=null&&l.unshift(Jl(e,c,f)),c=Kn(e,n),c!=null&&l.push(Jl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function uS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Kn(s,f),P!=null&&g.unshift(Jl(s,P,R))):c||(P=Kn(s,f),P!=null&&g.push(Jl(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var cS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function Uy(e){return(typeof e=="string"?e:""+e).replace(cS,`
`).replace(hS,"")}function Ly(e,n){return n=Uy(n),Uy(e)===n}function ie(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,s,l);break;case"style":pl(e,l,f);break;case"data":if(n!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ta(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",c.name,c,null),ie(e,n,"formEncType",c.formEncType,c,null),ie(e,n,"formMethod",c.formMethod,c,null),ie(e,n,"formTarget",c.formTarget,c,null)):(ie(e,n,"encType",c.encType,c,null),ie(e,n,"method",c.method,c,null),ie(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ta(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Jr(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Wo.get(s)||s,Jr(e,s,l))}}function Zf(e,n,s,l,c,f){switch(s){case"style":pl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Jr(e,s,l)}}}function Ye(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,f,g,s,null)}}c&&ie(e,n,"srcSet",s.srcSet,s,null),l&&ie(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=c=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:ie(e,n,l,F,s,null)}}Zo(e,f,E,R,P,g,c,!1);return;case"select":xt("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ie(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?fs(e,!!l,n,!1):s!=null&&fs(e,!!l,s,!0);return;case"textarea":xt("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ie(e,n,g,E,s,null)}ds(e,l,c,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ie(e,n,R,l,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Zl.length;l++)xt(Zl[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,P,l,s,null)}return;default:if(Wr(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Zf(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ie(e,n,E,l,s,null))}function fS(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,P=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(H)||ie(e,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=s[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&ie(e,n,z,H,l,X)}}$r(e,g,E,R,P,F,f,c);return;case"select":H=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||ie(e,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ie(e,n,c,f,l,R)}n=E,s=g,l=H,z!=null?fs(e,!!s,z,!1):!!l!=!!s&&(n!=null?fs(e,!!s,n,!0):fs(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ie(e,n,g,c,l,f)}Jo(e,z,H);return;case"option":for(var ut in s)z=s[ut],s.hasOwnProperty(ut)&&z!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:ie(e,n,ut,null,l,z));for(R in l)z=l[R],H=s[R],l.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ie(e,n,R,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)z=s[vt],s.hasOwnProperty(vt)&&z!=null&&!l.hasOwnProperty(vt)&&ie(e,n,vt,null,l,z);for(P in l)if(z=l[P],H=s[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:ie(e,n,P,z,l,H)}return;default:if(Wr(n)){for(var se in s)z=s[se],s.hasOwnProperty(se)&&z!==void 0&&!l.hasOwnProperty(se)&&Zf(e,n,se,void 0,l,z);for(F in l)z=l[F],H=s[F],!l.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||Zf(e,n,F,z,l,H);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&ie(e,n,V,null,l,z);for(X in l)z=l[X],H=s[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||ie(e,n,X,z,l,H)}function ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&ky(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>E)break;var F=R.transferSize,X=R.initiatorType;F&&ky(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-P)/(R-P)))}if(--l,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jf=null,$f=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var td=null;function mS(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(yS)}:jy;function yS(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function qy(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),Ma(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")$l(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,$l(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&$l(e.ownerDocument.body);s=c}while(s);Ma(n)}function Hy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ed(s),Zr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function _S(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function vS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$?"||e.data==="$~"}function id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ES(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sd=null;function Fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ky(e,n,s){switch(n=tc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function $l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zr(e)}var Pn=new Map,Yy=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=st.d;st.d={f:TS,r:SS,D:AS,C:bS,L:wS,m:RS,X:IS,S:CS,M:NS};function TS(){var e=Wi.f(),n=Qu();return e||n}function SS(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?hp(n):Wi.r(e)}var Oa=typeof document>"u"?null:document;function Xy(e,n,s){var l=Oa;if(l&&typeof n=="string"&&n){var c=on(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Yy.has(c)||(Yy.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ye(n,"link",e),Re(n),l.head.appendChild(n)))}}function AS(e){Wi.D(e),Xy("dns-prefetch",e,null)}function bS(e,n){Wi.C(e,n),Xy("preconnect",e,n)}function wS(e,n,s){Wi.L(e,n,s);var l=Oa;if(l&&e&&n){var c='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+on(s.imageSizes)+'"]')):c+='[href="'+on(e)+'"]';var f=c;switch(n){case"style":f=xa(e);break;case"script":f=Va(e)}Pn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Wl(f))||n==="script"&&l.querySelector(to(f))||(n=l.createElement("link"),Ye(n,"link",e),Re(n),l.head.appendChild(n)))}}function RS(e,n){Wi.m(e,n);var s=Oa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Pn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Pn.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(to(f)))return}l=s.createElement("link"),Ye(l,"link",e),Re(l),s.head.appendChild(l)}}}function CS(e,n,s){Wi.S(e,n,s);var l=Oa;if(l&&e){var c=fi(l).hoistableStyles,f=xa(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Wl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(f))&&rd(e,s);var R=g=l.createElement("link");Re(R),Ye(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function IS(e,n){Wi.X(e,n);var s=Oa;if(s&&e){var l=fi(s).hoistableScripts,c=Va(e),f=l.get(c);f||(f=s.querySelector(to(c)),f||(e=b({src:e,async:!0},n),(n=Pn.get(c))&&ad(e,n),f=s.createElement("script"),Re(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function NS(e,n){Wi.M(e,n);var s=Oa;if(s&&e){var l=fi(s).hoistableScripts,c=Va(e),f=l.get(c);f||(f=s.querySelector(to(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Pn.get(c))&&ad(e,n),f=s.createElement("script"),Re(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zy(e,n,s,l){var c=(c=q.current)?ec(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xa(s.href),s=fi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xa(s.href);var f=fi(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Wl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),f||DS(c,e,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=fi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function xa(e){return'href="'+on(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function DS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ye(n,"link",s),Re(n),e.head.appendChild(n))}function Va(e){return'[src="'+on(e)+'"]'}function to(e){return"script[async]"+e}function $y(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(l)return n.instance=l,Re(l),l;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),Ye(l,"style",c),nc(l,s.precedence,e),n.instance=l;case"stylesheet":c=xa(s.href);var f=e.querySelector(Wl(c));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;l=Jy(s),(c=Pn.get(c))&&rd(l,c),f=(e.ownerDocument||e).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ye(f,"link",l),n.state.loading|=4,nc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(c=e.querySelector(to(f)))?(n.instance=c,Re(c),c):(l=s,(c=Pn.get(f))&&(l=b({},s),ad(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Re(c),Ye(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,nc(l,s.precedence,e));return n.instance}function nc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ic=null;function Wy(e,n,s){if(ic===null){var l=new Map,c=ic=new Map;c.set(s,l)}else c=ic,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ci]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function t_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function OS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function e_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=xa(l.href),f=n.querySelector(Wl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=sc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,l=Jy(l),(c=Pn.get(c))&&rd(l,c),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ye(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=sc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ld=0;function VS(e,n){return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*dS());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rc=null;function ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rc=new Map,n.forEach(MS,e),rc=null,sc.call(e))}function MS(e,n){if(!(n.state.loading&4)){var s=rc.get(e);if(s)var l=s.get(null);else{s=new Map,rc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=sc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var eo={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function US(e,n,s,l,c,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function n_(e,n,s,l,c,f,g,E,R,P,F,X){return e=new US(e,n,s,g,R,P,F,X,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Hh(f),e}function i_(e){return e?(e=ca,e):ca}function s_(e,n,s,l,c,f){c=i_(c),l.context===null?l.context=c:l.pendingContext=c,l=ws(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Rs(e,l,n),s!==null&&(mn(s,e,n),Vl(s,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function od(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function a_(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&mn(n,e,67108864),od(e,67108864)}}function l_(e){if(e.tag===13||e.tag===31){var n=wn();n=ur(n);var s=Tr(e,n);s!==null&&mn(s,e,n),od(e,n)}}var lc=!0;function LS(e,n,s,l){var c=G.T;G.T=null;var f=st.p;try{st.p=2,ud(e,n,s,l)}finally{st.p=f,G.T=c}}function kS(e,n,s,l){var c=G.T;G.T=null;var f=st.p;try{st.p=8,ud(e,n,s,l)}finally{st.p=f,G.T=c}}function ud(e,n,s,l){if(lc){var c=cd(l);if(c===null)Xf(e,n,l,oc,s),u_(e,l);else if(zS(c,e,n,s,l))l.stopPropagation();else if(u_(e,l),n&4&&-1<PS.indexOf(e)){for(;c!==null;){var f=Cn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-_e(g);E.entanglements[1]|=R,g&=~R}wi(f),(Yt&6)===0&&(Gu=rn()+500,Xl(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&mn(E,f,2),Qu(),od(f,2)}if(f=cd(l),f===null&&Xf(e,n,l,oc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xf(e,n,l,null,s)}}function cd(e){return e=In(e),hd(e)}var oc=null;function hd(e){if(oc=null,e=hi(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return oc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case sl:return 2;case rl:return 8;case cs:case ph:return 32;case jo:return 268435456;default:return 32}default:return 32}}var fd=!1,ks=null,Ps=null,zs=null,no=new Map,io=new Map,js=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function so(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Cn(n),n!==null&&a_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function zS(e,n,s,l,c){switch(n){case"focusin":return ks=so(ks,e,n,s,l,c),!0;case"dragenter":return Ps=so(Ps,e,n,s,l,c),!0;case"mouseover":return zs=so(zs,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return no.set(f,so(no.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,io.set(f,so(io.get(f)||null,e,n,s,l,c)),!0}return!1}function c_(e){var n=hi(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){l_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){l_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=cd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);yl=l,s.target.dispatchEvent(l),yl=null}else return n=Cn(s),n!==null&&a_(n),e.blockedOn=s,!1;n.shift()}return!0}function h_(e,n,s){uc(e)&&s.delete(n)}function jS(){fd=!1,ks!==null&&uc(ks)&&(ks=null),Ps!==null&&uc(Ps)&&(Ps=null),zs!==null&&uc(zs)&&(zs=null),no.forEach(h_),io.forEach(h_)}function cc(e,n){e.blockedOn===n&&(e.blockedOn=null,fd||(fd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jS)))}var hc=null;function f_(e){hc!==e&&(hc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(hd(l||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,cf(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ma(e){function n(R){return cc(R,e)}ks!==null&&cc(ks,e),Ps!==null&&cc(Ps,e),zs!==null&&cc(zs,e),no.forEach(n),io.forEach(n);for(var s=0;s<js.length;s++){var l=js[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<js.length&&(s=js[0],s.blockedOn===null);)c_(s),s.blockedOn===null&&js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Pe]||null;if(typeof f=="function")g||f_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Pe]||null)E=g.formAction;else if(hd(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),f_(s)}}}function d_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function dd(e){this._internalRoot=e}fc.prototype.render=dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=wn();s_(s,l,e,n,null,null)},fc.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s_(e.current,2,null,e,null,null),Qu(),n[ui]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<js.length&&n!==0&&n<js[s].priority;s++);js.splice(s,0,e),s===0&&c_(e)}};var m_=t.version;if(m_!=="19.2.3")throw Error(r(527,m_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var BS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{qn=dc.inject(BS),He=dc}catch{}}return ao.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",c=Tp,f=Sp,g=Ap;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=n_(e,1,!1,null,null,s,l,null,c,f,g,d_),e[ui]=n.current,Yf(e),new dd(n)},ao.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,c="",f=Tp,g=Sp,E=Ap,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=n_(e,1,!0,n,s??null,l,c,R,f,g,E,d_),n.context=i_(null),s=n.current,l=wn(),l=ur(l),c=ws(l),c.callback=null,Rs(s,c,l),s=l,n.current.lanes=s,lr(n,s),wi(n),e[ui]=n.current,Yf(e),new fc(n)},ao.version="19.2.3",ao}var b_;function $S(){if(b_)return pd.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),pd.exports=JS(),pd.exports}var WS=$S();const tA=Yv(WS),eA=()=>{};var w_={};const Xv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},nA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];t[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,S=h>>2,b=(h&3)<<4|p>>4;let M=(p&15)<<2|v>>6,Z=v&63;_||(Z=64,d||(M=64)),r.push(i[S],i[b],i[M],i[Z])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Xv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):nA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||v==null||b==null)throw new iA;const M=h<<2|p>>4;if(r.push(M),v!==64){const Z=p<<4&240|v>>2;if(r.push(Z),b!==64){const at=v<<6&192|b;r.push(at)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sA=function(a){const t=Xv(a);return Zv.encodeByteArray(t,!0)},Vc=function(a){return sA(a).replace(/\./g,"")},Jv=function(a){try{return Zv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aA=()=>rA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof w_>"u")return;const a=w_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},oA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Jv(a[1]);return t&&JSON.parse(t)},Wc=()=>{try{return eA()||aA()||lA()||oA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},$v=a=>Wc()?.emulatorHosts?.[a],uA=a=>{const t=$v(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Wv=()=>Wc()?.config,t0=a=>Wc()?.[`_${a}`];class cA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ja(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e0(a){return(await fetch(a,{credentials:"include"})).ok}function hA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Vc(JSON.stringify(i)),Vc(JSON.stringify(d)),""].join(".")}const ho={};function fA(){const a={prod:[],emulator:[]};for(const t of Object.keys(ho))ho[t]?a.emulator.push(t):a.prod.push(t);return a}function dA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let R_=!1;function n0(a,t){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||ho[a]===t||ho[a]||R_)return;ho[a]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=fA().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Z){M.setAttribute("width","24"),M.setAttribute("id",Z),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{R_=!0,d()},M}function S(M,Z){M.setAttribute("id",Z),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function b(){const M=dA(r),Z=i("text"),at=document.getElementById(Z)||document.createElement("span"),lt=i("learnmore"),W=document.getElementById(lt)||document.createElement("a"),yt=i("preprendIcon"),ct=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;p(dt),S(W,lt);const Jt=v();_(ct,yt),dt.append(ct,at,W,Jt),document.body.appendChild(dt)}h?(at.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,at.innerText="Preview backend running in this workspace."),at.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function gA(){const a=Wc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function _A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const a=sn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function EA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const AA="FirebaseError";class os extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=AA,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?bA(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new os(o,p,r)}}function bA(a,t){return a.replace(wA,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const wA=/\{\$([^}]+)}/g;function RA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function zr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=t[o];if(C_(h)&&C_(d)){if(!zr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}function Do(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function CA(a,t){const i=new IA(a,t);return i.subscribe.bind(i)}class IA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");NA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Ed),o.error===void 0&&(o.error=Ed),o.complete===void 0&&(o.complete=Ed);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ed(){}function Bn(a){return a&&a._delegate?a._delegate:a}class jr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class DA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new cA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xA(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&t(h,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(a){return a===Mr?void 0:a}function xA(a){return a.instantiationMode==="EAGER"}class VA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new DA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ut||(Ut={}));const MA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},UA=Ut.INFO,LA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},kA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=LA[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=UA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const PA=(a,t)=>t.some(i=>a instanceof i);let I_,N_;function zA(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i0=new WeakMap,Md=new WeakMap,s0=new WeakMap,Td=new WeakMap,am=new WeakMap;function BA(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ks(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&i0.set(i,a)}).catch(()=>{}),am.set(t,a),t}function qA(a){if(Md.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Md.set(a,t)}let Ud={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Md.get(a);if(t==="objectStoreNames")return a.objectStoreNames||s0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function HA(a){Ud=a(Ud)}function GA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Sd(this),t,...i);return s0.set(r,t.sort?t.sort():[t]),Ks(r)}:jA().includes(a)?function(...t){return a.apply(Sd(this),t),Ks(i0.get(this))}:function(...t){return Ks(a.apply(Sd(this),t))}}function FA(a){return typeof a=="function"?GA(a):(a instanceof IDBTransaction&&qA(a),PA(a,zA())?new Proxy(a,Ud):a)}function Ks(a){if(a instanceof IDBRequest)return BA(a);if(Td.has(a))return Td.get(a);const t=FA(a);return t!==a&&(Td.set(a,t),am.set(t,a)),t}const Sd=a=>am.get(a);function QA(a,t,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,t),p=Ks(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ks(d.result),_.oldVersion,_.newVersion,Ks(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const KA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],Ad=new Map;function D_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=YA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||KA.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return Ad.set(t,h),h}HA(a=>({...a,get:(t,i,r)=>D_(t,i)||a.get(t,i,r),has:(t,i)=>!!D_(t,i)||a.has(t,i)}));class XA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(a){return a.getComponent()?.type==="VERSION"}const Ld="@firebase/app",O_="0.14.6";const ss=new rm("@firebase/app"),JA="@firebase/app-compat",$A="@firebase/analytics-compat",WA="@firebase/analytics",tb="@firebase/app-check-compat",eb="@firebase/app-check",nb="@firebase/auth",ib="@firebase/auth-compat",sb="@firebase/database",rb="@firebase/data-connect",ab="@firebase/database-compat",lb="@firebase/functions",ob="@firebase/functions-compat",ub="@firebase/installations",cb="@firebase/installations-compat",hb="@firebase/messaging",fb="@firebase/messaging-compat",db="@firebase/performance",mb="@firebase/performance-compat",gb="@firebase/remote-config",pb="@firebase/remote-config-compat",yb="@firebase/storage",_b="@firebase/storage-compat",vb="@firebase/firestore",Eb="@firebase/ai",Tb="@firebase/firestore-compat",Sb="firebase",Ab="12.6.0";const kd="[DEFAULT]",bb={[Ld]:"fire-core",[JA]:"fire-core-compat",[WA]:"fire-analytics",[$A]:"fire-analytics-compat",[eb]:"fire-app-check",[tb]:"fire-app-check-compat",[nb]:"fire-auth",[ib]:"fire-auth-compat",[sb]:"fire-rtdb",[rb]:"fire-data-connect",[ab]:"fire-rtdb-compat",[lb]:"fire-fn",[ob]:"fire-fn-compat",[ub]:"fire-iid",[cb]:"fire-iid-compat",[hb]:"fire-fcm",[fb]:"fire-fcm-compat",[db]:"fire-perf",[mb]:"fire-perf-compat",[gb]:"fire-rc",[pb]:"fire-rc-compat",[yb]:"fire-gcs",[_b]:"fire-gcs-compat",[vb]:"fire-fst",[Tb]:"fire-fst-compat",[Eb]:"fire-vertex","fire-js":"fire-js",[Sb]:"fire-js-all"};const Mc=new Map,wb=new Map,Pd=new Map;function x_(a,t){try{a.container.addComponent(t)}catch(i){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a){const t=a.name;if(Pd.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of Mc.values())x_(i,a);for(const i of wb.values())x_(i,a);return!0}function lm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ti(a){return a==null?!1:a.settings!==void 0}const Rb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new No("app","Firebase",Rb);class Cb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const $a=Ab;function r0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:kd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(i||(i=Wv()),!i)throw Ys.create("no-options");const h=Mc.get(o);if(h){if(zr(i,h.options)&&zr(r,h.config))return h;throw Ys.create("duplicate-app",{appName:o})}const d=new VA(o);for(const _ of Pd.values())d.addComponent(_);const p=new Cb(i,r,d);return Mc.set(o,p),p}function a0(a=kd){const t=Mc.get(a);if(!t&&a===kd&&Wv())return r0();if(!t)throw Ys.create("no-app",{appName:a});return t}function Xs(a,t,i){let r=bb[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Ha(new jr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Ib="firebase-heartbeat-database",Nb=1,vo="firebase-heartbeat-store";let bd=null;function l0(){return bd||(bd=QA(Ib,Nb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(vo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ys.create("idb-open",{originalErrorMessage:a.message})})),bd}async function Db(a){try{const i=(await l0()).transaction(vo),r=await i.objectStore(vo).get(o0(a));return await i.done,r}catch(t){if(t instanceof os)ss.warn(t.message);else{const i=Ys.create("idb-get",{originalErrorMessage:t?.message});ss.warn(i.message)}}}async function V_(a,t){try{const r=(await l0()).transaction(vo,"readwrite");await r.objectStore(vo).put(t,o0(a)),await r.done}catch(i){if(i instanceof os)ss.warn(i.message);else{const r=Ys.create("idb-set",{originalErrorMessage:i?.message});ss.warn(r.message)}}}function o0(a){return`${a.name}!${a.options.appId}`}const Ob=1024,xb=30;class Vb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ub(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>xb){const o=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:i,unsentEntries:r}=Mb(this._heartbeatsCache.heartbeats),o=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ss.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function Mb(a,t=Ob){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),U_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),U_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Ub{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?SA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Db(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function U_(a){return Vc(JSON.stringify({version:2,heartbeats:a})).length}function Lb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function kb(a){Ha(new jr("platform-logger",t=>new XA(t),"PRIVATE")),Ha(new jr("heartbeat",t=>new Vb(t),"PRIVATE")),Xs(Ld,O_,a),Xs(Ld,O_,"esm2020"),Xs("fire-js","")}kb("");var Pb="firebase",zb="12.7.0";Xs(Pb,zb,"app");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,u0;(function(){var a;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,D,U){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return A.prototype[D].apply(x,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const x=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)x[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],D=I.g[2];let U=I.g[3],w;w=A+(U^C&(D^U))+x[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(D^A&(C^D))+x[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=D+(C^U&(A^C))+x[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(A^D&(U^A))+x[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(U^C&(D^U))+x[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(D^A&(C^D))+x[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=D+(C^U&(A^C))+x[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(A^D&(U^A))+x[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(U^C&(D^U))+x[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(D^A&(C^D))+x[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=D+(C^U&(A^C))+x[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(A^D&(U^A))+x[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(U^C&(D^U))+x[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(D^A&(C^D))+x[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=D+(C^U&(A^C))+x[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=C+(A^D&(U^A))+x[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=A+(D^U&(C^D))+x[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(A^C))+x[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(U^A))+x[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(D^U))+x[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^U&(C^D))+x[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(A^C))+x[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(U^A))+x[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(D^U))+x[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^U&(C^D))+x[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(A^C))+x[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(U^A))+x[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(D^U))+x[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(D^U&(C^D))+x[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^D&(A^C))+x[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=D+(A^C&(U^A))+x[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(D^U))+x[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=A+(C^D^U)+x[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^D)+x[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=D+(U^A^C)+x[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^A)+x[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^U)+x[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^D)+x[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=D+(U^A^C)+x[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^A)+x[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^U)+x[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^D)+x[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=D+(U^A^C)+x[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^A)+x[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(C^D^U)+x[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^D)+x[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=D+(U^A^C)+x[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=C+(D^U^A)+x[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=A+(D^(C|~U))+x[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~D))+x[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=D+(A^(U|~C))+x[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~A))+x[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~U))+x[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~D))+x[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=D+(A^(U|~C))+x[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~A))+x[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~U))+x[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~D))+x[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=D+(A^(U|~C))+x[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~A))+x[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=A+(D^(C|~U))+x[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~D))+x[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=D+(A^(U|~C))+x[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=C+(U^(D|~A))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,x=this.C;let D=this.h,U=0;for(;U<A;){if(D==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(x[D++]=I.charCodeAt(U++),D==this.blockSize){o(this,x),D=0;break}}else for(;U<A;)if(x[D++]=I[U++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[A++]=this.g[C]>>>x&255;return I};function h(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let x=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;x&&U==A||(C[D]=U,x=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?h(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return W(v(-I));const A=[];let C=1;for(let x=0;I>=C;x++)A[x]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return W(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(A,8));let x=b;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+D),A);D<8?(D=v(Math.pow(A,D)),x=x.j(D).add(v(w))):(x=x.j(C),x=x.add(v(w)))}return x}var b=_(0),M=_(1),Z=_(16777216);a=d.prototype,a.m=function(){if(lt(this))return-W(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*A,A*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(at(this))return"0";if(lt(this))return"-"+W(this).toString(I);const A=v(Math.pow(I,6));var C=this;let x="";for(;;){const D=Jt(C,A).g;C=yt(C,D.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,at(C))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function at(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function lt(I){return I.h==-1}a.l=function(I){return I=yt(this,I),lt(I)?-1:at(I)?0:1};function W(I){const A=I.g.length,C=[];for(let x=0;x<A;x++)C[x]=~I.g[x];return new d(C,~I.h).add(M)}a.abs=function(){return lt(this)?W(this):this},a.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let D=0;D<=A;D++){let U=x+(this.i(D)&65535)+(I.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);x=w>>>16,U&=65535,w&=65535,C[D]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function yt(I,A){return I.add(W(A))}a.j=function(I){if(at(this)||at(I))return b;if(lt(this))return lt(I)?W(this).j(W(I)):W(W(this).j(I));if(lt(I))return W(this.j(W(I)));if(this.l(Z)<0&&I.l(Z)<0)return v(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var x=0;x<2*A;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<I.g.length;D++){const U=this.i(x)>>>16,w=this.i(x)&65535,ae=I.i(D)>>>16,ye=I.i(D)&65535;C[2*x+2*D]+=w*ye,ct(C,2*x+2*D),C[2*x+2*D+1]+=U*ye,ct(C,2*x+2*D+1),C[2*x+2*D+1]+=w*ae,ct(C,2*x+2*D+1),C[2*x+2*D+2]+=U*ae,ct(C,2*x+2*D+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function ct(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function dt(I,A){this.g=I,this.h=A}function Jt(I,A){if(at(A))throw Error("division by zero");if(at(I))return new dt(b,b);if(lt(I))return A=Jt(W(I),A),new dt(W(A.g),W(A.h));if(lt(A))return A=Jt(I,W(A)),new dt(W(A.g),A.h);if(I.g.length>30){if(lt(I)||lt(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,x=A;x.l(I)<=0;)C=Ft(C),x=Ft(x);var D=jt(C,1),U=jt(x,1);for(x=jt(x,2),C=jt(C,2);!at(x);){var w=U.add(x);w.l(I)<=0&&(D=D.add(C),U=w),x=jt(x,1),C=jt(C,1)}return A=yt(I,D.j(A)),new dt(D,A)}for(D=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=v(C),w=U.j(A);lt(w)||w.l(I)>0;)C-=x,U=v(C),w=U.j(A);at(U)&&(U=M),D=D.add(U),I=yt(I,w)}return new dt(D,I)}a.B=function(I){return Jt(this,I).h},a.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},a.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},a.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function Ft(I){const A=I.g.length+1,C=[];for(let x=0;x<A;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function jt(I,A){const C=A>>5;A%=32;const x=I.g.length-C,D=[];for(let U=0;U<x;U++)D[U]=A>0?I.i(U+C)>>>A|I.i(U+C+1)<<32-A:I.i(U+C);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Zs=d}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c0,lo,h0,Ac,zd,f0,d0,m0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Z(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function at(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let et=0;et<B;et++)u[y+et]=L[et]}else u.push(L)}}class lt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,y){const T=dt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new lt(()=>new Jt,u=>u.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,jt=!1,I=new ct,A=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(C)}};function C(){for(var u;u=yt();){try{u.h.call(u.g)}catch(y){W(y)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}jt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ae,D),ae.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Qt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<Q.length;B++)y=Q[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=q(u,m,T,L);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new st(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function St(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function q(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Y="closure_lm_"+(Math.random()*1e6|0),tt={};function it(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)it(u,m[B],y,T,L);return null}return y=sr(y),u&&u[ye]?u.J(m,y,p(T)?!!T.capture:!1,L):Et(u,m,y,!1,T,L)}function Et(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let Ct=pn(u);if(Ct||(u[Y]=Ct=new rt(u)),y=Ct.add(m,y,T,et,B),y.proxy)return y;if(T=Xt(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(qt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Xt(){function u(y){return m.call(u.src,u.listener,y)}const m=me;return u}function pt(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)pt(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=sr(y),u&&u[ye]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=q(m,y,T,L),y>-1&&(ft(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=pn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=q(m,y,T,L)),(y=u>-1?m[u]:null)&&Nt(y))}function Nt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])St(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(qt(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=pn(m))?(St(y,u),y.h==0&&(y.src=null,m[Y]=null)):ft(u)}}}function qt(u){return u in tt?tt[u]:tt[u]="on"+u}function me(u,m){if(u.da)u=!0;else{m=new ae(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Nt(u),u=y.call(T,m)}return u}function pn(u){return u=u[Y],u instanceof rt?u:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function sr(u){return typeof u=="function"?u:(u[si]||(u[si]=function(m){return u.handleEvent(m)}),u[si])}function Ae(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}b(Ae,x),Ae.prototype[ye]=!0,Ae.prototype.removeEventListener=function(u,m,y,T){pt(this,u,m,y,T)};function Me(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),nt(m,L)}L=!0;let B,et;if(y)for(et=y.length-1;et>=0;et--)B=m.g=y[et],L=us(B,T,!0,m)&&L;if(B=m.g=u,L=us(B,T,!0,m)&&L,L=us(B,T,!1,m)&&L,y)for(et=0;et<y.length;et++)B=m.g=y[et],L=us(B,T,!1,m)&&L}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ft(y[T]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Ae.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function us(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==y){const Ct=et.listener,ve=et.ha||et.src;et.fa&&St(u.i,et),L=Ct.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function gh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zo(u){u.g=gh(()=>{u.g=null,u.i&&(u.i=!1,zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends x{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){x.call(this),this.h=u,this.g={}}b(rr,x);var sl=[];function rl(u){Pt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Nt(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),rl(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,ph=d.JSON.parse,jo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bo(){}function qo(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){D.call(this,"d")}b(He,D);function Rn(){D.call(this,"c")}b(Rn,D);var _e={},Ho=null;function Yr(){return Ho=Ho||new Ae}_e.Ia="serverreachability";function Go(u){D.call(this,_e.Ia,u)}b(Go,D);function ri(u){const m=Yr();Me(m,new Go(m))}_e.STAT_EVENT="statevent";function ar(u,m){D.call(this,_e.STAT_EVENT,u),this.stat=m}b(ar,D);function be(u){const m=Yr();Me(m,new ar(m,u))}_e.Ja="timingevent";function ai(u,m){D.call(this,_e.Ja,u),this.size=m}b(ai,D);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function yh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var et="",Ct=B.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var ve=Ct[Kt].split("=");if(ve.length>1){const ce=ve[0];ve=ve[1];const Dn=ce.split("_");et=Dn.length>=2&&Dn[1]=="type"?et+(ce+"="+ve+"&"):et+(ce+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+et})}function Fo(u,m,y,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+et})}function oi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+_h(u,y)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function _h(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return cs(B)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function ur(){}b(ur,Bo),ur.prototype.g=function(){return new XMLHttpRequest},ll=new ur;function Ui(u){return encodeURIComponent(String(u))}function Qo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Gn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var we={},Pe={};function ui(u,m,y){u.M=1,u.A=cr(Ce(m)),u.u=y,u.R=!0,Xr(u,null)}function Xr(u,m){u.F=Date.now(),ci(u),u.B=Ce(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Wr(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Fn,u.g=lu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new rn(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(sl[0]=L.toString()),L=sl);for(let B=0;B<L.length;B++){const et=it(y,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),yh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=Yn(this.g),ve=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Ct!=4||ve==7||(ve==8||Kt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var y=vh(this);if(this.o=m==200,Fo(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,be(12),yn(this),Cn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<y.length;)if(ce=Yo(this,y),ce==Pe){Ct==4&&(this.m=4,be(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==we){this.m=4,be(15),oi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ce,null),fi(this,ce);if(Ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||y.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,y,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Sl(et),et.P=!0,be(11))}}else oi(this.i,this.l,y,null),fi(this,y);Ct==4&&yn(this),this.o&&!this.K&&(Ct==4?iu(this.j,this):(this.o=!1,ci(this)))}else ki(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),yn(this),Cn(this)}}}catch{}};function vh(u){if(!Ko(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let y="";const T=m.length,L=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Ko(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Yo(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Pe:(y=Number(m.substring(y,T)),isNaN(y)?we:(T+=1,T+y>m.length?Pe:(m=m.slice(T,T+y),u.C=T+y,m)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function ci(u){u.T=Date.now()+u.H,Zr(u,u.H)}function Zr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(v(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ri(),be(17)),yn(this),this.m=2,Cn(this)):Zr(this,this.T-u)};function Cn(u){u.j.I==0||u.K||iu(u.j,u)}function yn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,rl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||mi(y.h,u))){if(!u.L&&mi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)sa(y),_s(y);else break t;yr(y),be(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=li(v(y.Va,y),6e3));di(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ei(y,11)}else if((u.L||y.g==u)&&sa(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const ce=Kt[0];if(!(ce<=y.K))if(y.K=ce,Kt=Kt[1],y.I==2)if(Kt[0]=="c"){y.M=Kt[1],y.ba=Kt[2];const Dn=Kt[3];Dn!=null&&(y.ka=Dn,y.j.info("VER="+y.ka));const Ti=Kt[4];Ti!=null&&(y.za=Ti,y.j.info("SVER="+y.za));const Xn=Kt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(T=1.5*Xn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Zn=u.g;if(Zn){const _r=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var B=T.h;B.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(cl(B,B.h),B.h=null))}if(T.G){const ra=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,$t(T.J,T.G,ra))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var et=u;if(T.na=au(T,T.L?T.ba:null,T.W),et.L){hl(T.h,et);var Ct=et,ve=T.O;ve&&(Ct.H=ve),Ct.D&&(hi(Ct),ci(Ct)),T.g=et}else eu(T);y.i.length>0&&vi(y)}else Kt[0]!="stop"&&Kt[0]!="close"||Ei(y,7);else y.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ei(y,7):El(y):Kt[0]!="noop"&&y.l&&y.l.qa(Kt),y.A=0)}}ri(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function cl(u,m){u.g?u.g.add(m):u.h=m}function hl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Z(u.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,dl(this,Wo(u.i)),this.m=u.m):u&&(m=String(u).match(Xo))?(this.l=!1,ze(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),hs(this,m[4]),this.h=gi(m[5]||"",!0),dl(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,$r,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,$r,!0),"@"),u.push(Ui(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(hr(y,y.charAt(0)=="/"?ml:Zo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",hr(y,Jo)),u.join("")},_n.prototype.resolve=function(u){const m=Ce(this);let y=!!u.j;y?ze(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)hs(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Ct=L[et++];Ct=="."?T&&et==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?dl(m,Wo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ce(u){return new _n(u)}function ze(u,m,y){u.j=y?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function dl(u,m,y){m instanceof ds?(u.i=m,ta(u.i,u.l)):(y||(m=hr(m,fs)),u.i=new ds(m,u.l))}function $t(u,m,y){u.i.set(m,y)}function cr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,on),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $r=/[#\/\?@]/g,Zo=/[#\?:]/g,ml=/[#\?]/g,fs=/[#\?@]/g,Jo=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=ds.prototype,a.add=function(u,m){un(this),this.i=null,u=ms(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function $o(u,m){un(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gl(u,m){return un(u),m=ms(u,m),u.g.has(m)}a.forEach=function(u,m){un(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function pl(u,m){un(u);let y=[];if(typeof m=="string")gl(u,m)&&(y=y.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return un(this),this.i=null,u=ms(this,u),gl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=pl(this,u),u.length>0?String(u[0]):m):m};function Wr(u,m,y){$o(u,m),y.length>0&&(u.i=null,u.g.set(ms(u,m),Z(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ui(y);y=pl(this,y);for(let B=0;B<y.length;B++){let et=L;y[B]!==""&&(et+="="+Ui(y[B])),u.push(et)}}return this.i=u.join("&")};function Wo(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&($o(this,T),Wr(this,L,y))},u)),u.j=m}function Qn(u,m){const y=new Hn;if(d.Image){const T=new Image;T.onload=S(In,y,"TestLoadImage: loaded",!0,m,T),T.onerror=S(In,y,"TestLoadImage: error",!1,m,T),T.onabort=S(In,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(In,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function yl(u,m){const y=new Hn,T=new AbortController,L=setTimeout(()=>{T.abort(),In(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?In(y,"TestPingServer: ok",!0,m):In(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(y,"TestPingServer: error",!1,m)})}function In(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function gs(){this.g=new jo}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(pi,Bo),pi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fr,Ae),a=fr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Kn(this),this.readyState==3&&ea(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},a.Na=function(u){this.g&&(this.response=u,ps(this))},a.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Pt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function dr(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Nn(y),typeof u=="string"?y!=null&&Ui(y):$t(u,m,y))}function ee(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ee,Ae);var yi=/^https?$/i,_l=["POST","PUT"];a=ee.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){mr(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(_l,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of y)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){mr(this,B)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,vl(u),Li(u)}function vl(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),Li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),ee.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},a.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof h<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let et=String(u.D).match(Xo)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!yi.test(et?et.toLowerCase():"")}y=T}if(y)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var L=Yn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",vl(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Me(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ph(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Qo(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Qt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ys.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){be(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=au(this,null,this.W),vi(this)};function El(u){if(na(u),u.I==3){var m=u.V++,y=Ce(u.J);if($t(y,"SID",u.M),$t(y,"RID",m),$t(y,"TYPE","terminate"),pr(u,y),m=new Gn(u,u.j,m),m.M=2,m.A=cr(Ce(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}ru(u)}function _s(u){u.g&&(Sl(u),u.g.cancel(),u.g=null)}function na(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!ul(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||A(),jt||(Ft(),jt=!0),I.add(m,u),u.D=0}}function ia(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(v(u.Ea,u,m),su(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Gn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=tu(this,L,m),y=Ce(this.J),$t(y,"RID",u),$t(y,"CVER",22),this.G&&$t(y,"X-HTTP-Session-Id",this.G),pr(this,y),B&&(this.R?m="headers="+Ui(Nn(B))+"&"+m:this.u&&dr(y,this.u,B)),cl(this.h,L),this.Ra&&$t(y,"TYPE","init"),this.S?($t(y,"$req",m),$t(y,"SID","null"),L.U=!0,ui(L,y,null)):ui(L,y,m),this.I=2}}else this.I==3&&(u?Tl(this,u):this.i.length==0||ul(this.h)||Tl(this))};function Tl(u,m){var y;m?y=m.l:y=u.V++;const T=Ce(u.J);$t(T,"SID",u.M),$t(T,"RID",y),$t(T,"AID",u.K),pr(u,T),u.u&&u.o&&dr(T,u.u,u.o),y=new Gn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=tu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),cl(u.h,y),ui(y,T,m)}function pr(u,m){u.H&&Pt(u.H,function(y,T){$t(m,T,y)}),u.l&&Pt({},function(y,T){$t(m,T,y)})}function tu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const ve=["count="+y];Ct==-1?y>0?(Ct=L[0].g,ve.push("ofs="+Ct)):Ct=0:ve.push("ofs="+Ct);let Kt=!0;for(let ce=0;ce<y;ce++){var B=L[ce].g;const Dn=L[ce].map;if(B-=Ct,B<0)Ct=Math.max(0,L[ce].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var et=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Xn]of et){let Zn=Xn;p(Xn)&&(Zn=cs(Xn)),ve.push(B+Ti+"="+encodeURIComponent(Zn))}}catch(Ti){throw ve.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{T&&T(Dn)}}if(Kt){et=ve.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||A(),jt||(Ft(),jt=!0),I.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(v(u.Da,u),su(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),_s(this),nu(this))};function Sl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function nu(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),pr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=cr(Ce(m)),y.u=null,y.R=!0,Xr(y,u)}a.Va=function(){this.C!=null&&(this.C=null,_s(this),yr(this),be(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function iu(u,m){var y=null;if(u.g==m){sa(u),Sl(u),u.g=null;var T=2}else if(mi(u.h,m))y=m.G,hl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Yr(),Me(T,new ai(T,y)),vi(u)}else eu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&yr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function su(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const L=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),cr(T),L?Qn(T.toString(),y):yl(T.toString(),y)}else be(2);u.I=0,u.l&&u.l.pa(m),ru(u),na(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function ru(u){if(u.I=0,u.ja=[],u.l){const m=fl(u.h);(m.length!=0||u.i.length!=0)&&(at(u.ja,m),at(u.ja,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.oa()}}function au(u,m,y){var T=y instanceof _n?Ce(y):new _n(y);if(T.g!="")m&&(T.g=m+"."+T.g),hs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new _n(null);T&&ze(B,T),m&&(B.g=m),L&&hs(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&$t(T,y,m),$t(T,"VER",u.ka),pr(u,T),T}function lu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new pi({ab:y})):new ee(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}a=ou.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new an(u,m)};function an(u,m){Ae.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}b(an,Ae),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){El(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=cs(u),u=y);m.i.push(new Re(m.Ya++,u)),m.I==3&&vi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,an.Z.N.call(this)};function uu(u){He.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(uu,He);function cu(){Rn.call(this),this.status=1}b(cu,Rn);function Pi(u){this.g=u}b(Pi,ou),Pi.prototype.ra=function(){Me(this.g,"a")},Pi.prototype.qa=function(u){Me(this.g,new uu(u))},Pi.prototype.pa=function(u){Me(this.g,new cu)},Pi.prototype.oa=function(){Me(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,m0=function(){return new vs},d0=function(){return Yr()},f0=_e,zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Ac=or,al.COMPLETE="complete",h0=al,qo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,lo=qo,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,c0=ee}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",P_="4.9.3";class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Wa="12.7.0";const Br=new rm("@firebase/firestore");function Ua(){return Br.logLevel}function ot(a,...t){if(Br.logLevel<=Ut.DEBUG){const i=t.map(om);Br.debug(`Firestore (${Wa}): ${a}`,...i)}}function rs(a,...t){if(Br.logLevel<=Ut.ERROR){const i=t.map(om);Br.error(`Firestore (${Wa}): ${a}`,...i)}}function Ga(a,...t){if(Br.logLevel<=Ut.WARN){const i=t.map(om);Br.warn(`Firestore (${Wa}): ${a}`,...i)}}function om(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Tt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,g0(a,r,i)}function g0(a,t,i){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw rs(r),new Error(r)}function Zt(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||g0(t,o,r)}function Rt(a,t){return a}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class p0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class Bb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qb{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Js,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new p0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class Hb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Hb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const r=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new z_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Qb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=t.charAt(o[h]%62))}return r}}function Lt(a,t){return a<t?-1:a>t?1:0}function jd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=t.charAt(r);if(o!==h)return wd(o)===wd(h)?Lt(o,h):wd(o)?1:-1}return Lt(a.length,t.length)}const Kb=55296,Yb=57343;function wd(a){const t=a.charCodeAt(0);return t>=Kb&&t<=Yb}function Fa(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}const j_="__name__";class Ri{constructor(t,i,r){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Tt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const h=Ri.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Lt(t.length,i.length)}static compareSegments(t,i){const r=Ri.isNumericId(t),o=Ri.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class fe extends Ri{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const Xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ri{construct(t,i,r){return new Je(t,i,r)}static isValidIdentifier(t){return Xb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new Je([j_])}static fromServerFormat(t){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new mt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new mt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new mt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new mt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(fe.fromString(t))}static fromName(t){return new _t(fe.fromString(t).popFirst(5))}static empty(){return new _t(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new fe(t.slice()))}}function Zb(a,t,i){if(!i)throw new mt($.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Jb(a,t,i,r){if(t===!0&&r===!0)throw new mt($.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function B_(a){if(!_t.isDocumentKey(a))throw new mt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function y0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function cm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Tt(12329,{type:typeof a})}function Eo(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new mt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cm(a);throw new mt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Ve(a,t){const i={typeString:a};return t&&(i.value=t),i}function Oo(a,t){if(!y0(a))throw new mt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new mt($.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,H_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*H_);return new ue(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<q_)throw new mt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Oo(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ve("string",ue._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ue(0,0))}static max(){return new bt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const To=-1;function $b(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new ue(i+1,0):new ue(i,r));return new $s(o,_t.empty(),t)}function Wb(a){return new $s(a.readTime,a.key,To)}class $s{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new $s(bt.min(),_t.empty(),To)}static max(){return new $s(bt.max(),_t.empty(),To)}}function t1(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(a.documentKey,t.documentKey),i!==0?i:Lt(a.largestBatchId,t.largestBatchId))}const e1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(a){if(a.code!==$.FAILED_PRECONDITION||a.message!==e1)throw a;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let o=0,h=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(_=>r(_)))})),d=!0,h===o&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,o)=>{const h=t.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((S=>{d[v]=S,++p,p===h&&r(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new J(((r,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):r()};h()}))}}function i1(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function el(a){return a.name==="IndexedDbTransactionError"}class th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}th.ce=-1;const hm=-1;function eh(a){return a==null}function Uc(a){return a===0&&1/a==-1/0}function s1(a){return typeof a=="number"&&Number.isInteger(a)&&!Uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const _0="";function r1(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=G_(t)),t=a1(a.get(i),t);return G_(t)}function a1(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case _0:i+="";break;default:i+=h}}return i}function G_(a){return a+_0+""}function F_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Gr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function v0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,o,h){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=o??Ze.EMPTY,this.right=h??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,h){return new Ze(t??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const h=r(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,r,o,h){return this}insert(t,i,r){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(t){return new Q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class Q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ei([])}unionWith(t){let i=new ke(Je.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ei(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new E0("Invalid base64 string: "+h):h}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const l1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(a){if(Zt(!!a,39018),typeof a=="string"){let t=0;const i=l1.exec(a);if(Zt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(a.seconds),nanos:Se(a.nanos)}}function Se(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function tr(a){return typeof a=="string"?$e.fromBase64String(a):$e.fromUint8Array(a)}const T0="server_timestamp",S0="__type__",A0="__previous_value__",b0="__local_write_time__";function fm(a){return(a?.mapValue?.fields||{})[S0]?.stringValue===T0}function nh(a){const t=a.mapValue.fields[A0];return fm(t)?nh(t):t}function So(a){const t=Ws(a.mapValue.fields[b0].timestampValue);return new ue(t.seconds,t.nanos)}class o1{constructor(t,i,r,o,h,d,p,_,v,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S}}const Lc="(default)";class Ao{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Ao&&t.projectId===this.projectId&&t.database===this.database}}const w0="__type__",u1="__max__",pc={mapValue:{}},R0="__vector__",kc="value";function er(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?fm(a)?4:h1(a)?9007199254740991:c1(a)?10:11:Tt(28295,{value:a})}function xi(a,t){if(a===t)return!0;const i=er(a);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return So(a).isEqual(So(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ws(o.timestampValue),p=Ws(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,h){return tr(o.bytesValue).isEqual(tr(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,h){return Se(o.geoPointValue.latitude)===Se(h.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(h.geoPointValue.longitude)})(a,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Se(o.integerValue)===Se(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Se(o.doubleValue),p=Se(h.doubleValue);return d===p?Uc(d)===Uc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Fa(a.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(F_(d)!==F_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!xi(d[_],p[_])))return!1;return!0})(a,t);default:return Tt(52216,{left:a})}}function bo(a,t){return(a.values||[]).find((i=>xi(i,t)))!==void 0}function Qa(a,t){if(a===t)return 0;const i=er(a),r=er(t);if(i!==r)return Lt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=Se(h.integerValue||h.doubleValue),_=Se(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return K_(a.timestampValue,t.timestampValue);case 4:return K_(So(a),So(t));case 5:return jd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=tr(h),_=tr(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Lt(p[v],_[v]);if(S!==0)return S}return Lt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Lt(Se(h.latitude),Se(d.latitude));return p!==0?p:Lt(Se(h.longitude),Se(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Y_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},_=d.fields||{},v=p[kc]?.arrayValue,S=_[kc]?.arrayValue,b=Lt(v?.values?.length||0,S?.values?.length||0);return b!==0?b:Y_(v,S)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===pc.mapValue&&d===pc.mapValue)return 0;if(h===pc.mapValue)return 1;if(d===pc.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let b=0;b<_.length&&b<S.length;++b){const M=jd(_[b],S[b]);if(M!==0)return M;const Z=Qa(p[_[b]],v[S[b]]);if(Z!==0)return Z}return Lt(_.length,S.length)})(a.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function K_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Lt(a,t);const i=Ws(a),r=Ws(t),o=Lt(i.seconds,r.seconds);return o!==0?o:Lt(i.nanos,r.nanos)}function Y_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Qa(i[o],r[o]);if(h)return h}return Lt(i.length,r.length)}function Ka(a){return Bd(a)}function Bd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ws(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return tr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return _t.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Bd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Bd(i.fields[d])}`;return o+"}"})(a.mapValue):Tt(61005,{value:a})}function bc(a){switch(er(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(a);return t?16+bc(t):16;case 5:return 2*a.stringValue.length;case 6:return tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+bc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Gr(r.fields,((h,d)=>{o+=h.length+bc(d)})),o})(a.mapValue);default:throw Tt(13486,{value:a})}}function qd(a){return!!a&&"integerValue"in a}function dm(a){return!!a&&"arrayValue"in a}function X_(a){return!!a&&"nullValue"in a}function Z_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function wc(a){return!!a&&"mapValue"in a}function c1(a){return(a?.mapValue?.fields||{})[w0]?.stringValue===R0}function fo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Gr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=fo(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=fo(a.arrayValue.values[i]);return t}return{...a}}function h1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===u1}class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=fo(i)}setAll(t){let i=Je.emptyPath(),r={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=fo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(t){const i=this.field(t.popLast());wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Gr(i,((o,h)=>t[o]=h));for(const o of r)delete t[o]}clone(){return new zn(fo(this.value))}}function C0(a){const t=[];return Gr(a.fields,((i,r)=>{const o=new Je([i]);if(wc(r)){const h=C0(r.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)})),new ei(t)}class nn{constructor(t,i,r,o,h,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,bt.min(),bt.min(),bt.min(),zn.empty(),0)}static newFoundDocument(t,i,r,o){return new nn(t,1,i,bt.min(),r,o,0)}static newNoDocument(t,i){return new nn(t,2,i,bt.min(),bt.min(),zn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,bt.min(),bt.min(),zn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const h=t[o],d=a.position[o];if(h.field.isKeyField()?r=_t.comparator(_t.fromName(d.referenceValue),i.key):r=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!xi(a.position[i],t.position[i]))return!1;return!0}class zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function f1(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class I0{}class Le extends I0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new m1(t,i,r):i==="array-contains"?new y1(t,r):i==="in"?new _1(t,r):i==="not-in"?new v1(t,r):i==="array-contains-any"?new E1(t,r):new Le(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new g1(t,r):new p1(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends I0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Vi(t,i)}matches(t){return N0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N0(a){return a.op==="and"}function D0(a){return d1(a)&&N0(a)}function d1(a){for(const t of a.filters)if(t instanceof Vi)return!1;return!0}function Hd(a){if(a instanceof Le)return a.field.canonicalString()+a.op.toString()+Ka(a.value);if(D0(a))return a.filters.map((t=>Hd(t))).join(",");{const t=a.filters.map((i=>Hd(i))).join(",");return`${a.op}(${t})`}}function O0(a,t){return a instanceof Le?(function(r,o){return o instanceof Le&&r.op===o.op&&r.field.isEqual(o.field)&&xi(r.value,o.value)})(a,t):a instanceof Vi?(function(r,o){return o instanceof Vi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&O0(d,o.filters[p])),!0):!1})(a,t):void Tt(19439)}function x0(a){return a instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(a):a instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(x0).join(" ,")+"}"})(a):"Filter"}class m1 extends Le{constructor(t,i,r){super(t,i,r),this.key=_t.fromName(r.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class g1 extends Le{constructor(t,i){super(t,"in",i),this.keys=V0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class p1 extends Le{constructor(t,i){super(t,"not-in",i),this.keys=V0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function V0(a,t){return(t.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class y1 extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&bo(i.arrayValue,this.value)}}class _1 extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&bo(this.value.arrayValue,i)}}class v1 extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!bo(this.value.arrayValue,i)}}class E1 extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>bo(this.value.arrayValue,r)))}}class T1{constructor(t,i=null,r=[],o=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function W_(a,t=null,i=[],r=[],o=null,h=null,d=null){return new T1(a,t,i,r,o,h,d)}function mm(a){const t=Rt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Hd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ka(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ka(r))).join(",")),t.Te=i}return t.Te}function gm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!f1(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!O0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!$_(a.startAt,t.startAt)&&$_(a.endAt,t.endAt)}function Gd(a){return _t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class ih{constructor(t,i=null,r=[],o=[],h=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S1(a,t,i,r,o,h,d,p){return new ih(a,t,i,r,o,h,d,p)}function pm(a){return new ih(a)}function tv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function A1(a){return a.collectionGroup!==null}function mo(a){const t=Rt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ke(Je.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new zc(h,r))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new zc(Je.keyField(),r))}return t.Ie}function Ci(a){const t=Rt(a);return t.Ee||(t.Ee=b1(t,mo(a))),t.Ee}function b1(a,t){if(a.limitType==="F")return W_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new zc(o.field,h)}));const i=a.endAt?new Pc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Pc(a.startAt.position,a.startAt.inclusive):null;return W_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Fd(a,t,i){return new ih(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function sh(a,t){return gm(Ci(a),Ci(t))&&a.limitType===t.limitType}function M0(a){return`${mm(Ci(a))}|lt:${a.limitType}`}function La(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>x0(o))).join(", ")}]`),eh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ka(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ka(o))).join(",")),`Target(${r})`})(Ci(a))}; limitType=${a.limitType})`}function rh(a,t){return t.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):_t.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,o){for(const h of mo(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=J_(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,mo(r),o)||r.endAt&&!(function(d,p,_){const v=J_(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,mo(r),o))})(a,t)}function w1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function U0(a){return(t,i)=>{let r=!1;for(const o of mo(a)){const h=R1(o,t,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function R1(a,t,i){const r=a.field.isKeyField()?_t.comparator(t.key,i.key):(function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Qa(_,v):Tt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:a.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Gr(this.inner,((i,r)=>{for(const[o,h]of r)t(o,h)}))}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}const C1=new de(_t.comparator);function as(){return C1}const L0=new de(_t.comparator);function oo(...a){let t=L0;for(const i of a)t=t.insert(i.key,i);return t}function k0(a){let t=L0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Ur(){return go()}function P0(){return go()}function go(){return new Fr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const I1=new de(_t.comparator),N1=new ke(_t.comparator);function kt(...a){let t=N1;for(const i of a)t=t.add(i);return t}const D1=new ke(Lt);function O1(){return D1}function ym(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function z0(a){return{integerValue:""+a}}function x1(a,t){return s1(t)?z0(t):ym(a,t)}class ah{constructor(){this._=void 0}}function V1(a,t,i){return a instanceof jc?(function(o,h){const d={fields:{[S0]:{stringValue:T0},[b0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&fm(h)&&(h=nh(h)),h&&(d.fields[A0]=h),{mapValue:d}})(i,t):a instanceof wo?B0(a,t):a instanceof Ro?q0(a,t):(function(o,h){const d=j0(o,h),p=ev(d)+ev(o.Ae);return qd(d)&&qd(o.Ae)?z0(p):ym(o.serializer,p)})(a,t)}function M1(a,t,i){return a instanceof wo?B0(a,t):a instanceof Ro?q0(a,t):i}function j0(a,t){return a instanceof Bc?(function(r){return qd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class jc extends ah{}class wo extends ah{constructor(t){super(),this.elements=t}}function B0(a,t){const i=H0(t);for(const r of a.elements)i.some((o=>xi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ro extends ah{constructor(t){super(),this.elements=t}}function q0(a,t){let i=H0(t);for(const r of a.elements)i=i.filter((o=>!xi(o,r)));return{arrayValue:{values:i}}}class Bc extends ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ev(a){return Se(a.integerValue||a.doubleValue)}function H0(a){return dm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function U1(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof wo&&o instanceof wo||r instanceof Ro&&o instanceof Ro?Fa(r.elements,o.elements,xi):r instanceof Bc&&o instanceof Bc?xi(r.Ae,o.Ae):r instanceof jc&&o instanceof jc})(a.transform,t.transform)}class L1{constructor(t,i){this.version=t,this.transformResults=i}}class is{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new is}static exists(t){return new is(void 0,t)}static updateTime(t){return new is(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class lh{}function G0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Q0(a.key,is.none()):new xo(a.key,a.data,is.none());{const i=a.data,r=zn.empty();let o=new ke(Je.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Qr(a.key,r,new ei(o.toArray()),is.none())}}function k1(a,t,i){a instanceof xo?(function(o,h,d){const p=o.value.clone(),_=iv(o.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Qr?(function(o,h,d){if(!Rc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=iv(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(F0(o)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function po(a,t,i,r){return a instanceof xo?(function(h,d,p,_){if(!Rc(h.precondition,d))return p;const v=h.value.clone(),S=sv(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,r):a instanceof Qr?(function(h,d,p,_){if(!Rc(h.precondition,d))return p;const v=sv(h.fieldTransforms,_,d),S=d.data;return S.setAll(F0(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(a,t,i,r):(function(h,d,p){return Rc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function P1(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),h=j0(r.transform,o||null);h!=null&&(i===null&&(i=zn.empty()),i.set(r.field,h))}return i||null}function nv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Fa(r,o,((h,d)=>U1(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class xo extends lh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends lh{constructor(t,i,r,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function F0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function iv(a,t,i){const r=new Map;Zt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=t.data.field(h.field);r.set(h.field,M1(d,p,i[o]))}return r}function sv(a,t,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,V1(h,d,t))}return r}class Q0 extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z1 extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j1{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&k1(h,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=po(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=po(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=P0();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const _=G0(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,r)=>nv(i,r)))&&Fa(this.baseMutations,t.baseMutations,((i,r)=>nv(i,r)))}}class _m{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Zt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return I1})();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new _m(t,i,r,o)}}class B1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class q1{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Bt;function H1(a){switch(a){case $.OK:return Tt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Tt(15467,{code:a})}}function K0(a){if(a===void 0)return rs("GRPC error has no .code"),$.UNKNOWN;switch(a){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return Tt(39323,{code:a})}}(Bt=xe||(xe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function G1(){return new TextEncoder}const F1=new Zs([4294967295,4294967295],0);function rv(a){const t=G1().encode(a),i=new u0;return i.update(t),new Uint8Array(i.digest())}function av(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Zs([i,r],0),new Zs([o,h],0)]}class vm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new uo(`Invalid padding: ${i}`);if(r<0)throw new uo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new uo(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Zs.fromNumber(r)));return o.compare(F1)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=rv(t),[r,o]=av(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new vm(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=rv(t),[r,o]=av(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oh{constructor(t,i,r,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Vo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new oh(bt.min(),o,new de(Lt),as(),kt())}}class Vo{constructor(t,i,r,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Vo(r,i,kt(),kt(),kt())}}class Cc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class Y0{constructor(t,i){this.targetId=t,this.Ce=i}}class X0{constructor(t,i,r=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class lv{constructor(){this.ve=0,this.Fe=ov(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),r=kt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:h})}})),new Vo(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=ov()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q1{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.Je=yc(),this.He=yc(),this.Ye=new de(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Gd(h))if(r===0){const d=new _t(h.path);this.et(i,d,nn.newNoDocument(d,bt.min()))}else Zt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=tr(r).toUint8Array()}catch(_){if(_ instanceof E0)return Ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new vm(d,o,h)}catch(_){return Ga(_ instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Gd(p.target)){const _=new _t(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,nn.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=kt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new oh(t,i,this.Ye,this.je,r);return this.je=as(),this.Je=yc(),this.He=yc(),this.Ye=new de(Lt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function yc(){return new de(_t.comparator)}function ov(){return new de(_t.comparator)}const K1={asc:"ASCENDING",desc:"DESCENDING"},Y1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X1={and:"AND",or:"OR"};class Z1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Qd(a,t){return a.useProto3Json||eh(t)?t:{value:t}}function qc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function J1(a,t){return qc(a,t.toTimestamp())}function Ii(a){return Zt(!!a,49232),bt.fromTimestamp((function(i){const r=Ws(i);return new ue(r.seconds,r.nanos)})(a))}function Em(a,t){return Kd(a,t).canonicalString()}function Kd(a,t){const i=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function J0(a){const t=fe.fromString(a);return Zt(nE(t),10190,{key:t.toString()}),t}function Yd(a,t){return Em(a.databaseId,t.path)}function Rd(a,t){const i=J0(t);if(i.get(1)!==a.databaseId.projectId)throw new mt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new mt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new _t(W0(i))}function $0(a,t){return Em(a.databaseId,t)}function $1(a){const t=J0(a);return t.length===4?fe.emptyPath():W0(t)}function Xd(a){return new fe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function W0(a){return Zt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function uv(a,t,i){return{name:Yd(a,t),fields:i.value.mapValue.fields}}function W1(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Tt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(v,S){return v.useProto3Json?(Zt(S===void 0||typeof S=="string",58123),$e.fromBase64String(S||"")):(Zt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),$e.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?$.UNKNOWN:K0(v.code);return new mt(S,v.message||"")})(d);i=new X0(r,o,h,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Rd(a,r.document.name),h=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):bt.min(),p=new zn({mapValue:{fields:r.document.fields}}),_=nn.newFoundDocument(o,h,d,p),v=r.targetIds||[],S=r.removedTargetIds||[];i=new Cc(v,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Rd(a,r.document),h=r.readTime?Ii(r.readTime):bt.min(),d=nn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new Cc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Rd(a,r.document),h=r.removedTargetIds||[];i=new Cc([],h,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new q1(o,h),p=r.targetId;i=new Y0(p,d)}}return i}function tw(a,t){let i;if(t instanceof xo)i={update:uv(a,t.key,t.value)};else if(t instanceof Q0)i={delete:Yd(a,t.key)};else if(t instanceof Qr)i={update:uv(a,t.key,t.data),updateMask:uw(t.fieldMask)};else{if(!(t instanceof z1))return Tt(16599,{Vt:t.type});i={verify:Yd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Tt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:J1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Tt(27497)})(a,t.precondition)),i}function ew(a,t){return a&&a.length>0?(Zt(t!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ii(o.updateTime):Ii(h);return d.isEqual(bt.min())&&(d=Ii(h)),new L1(d,o.transformResults||[])})(i,t)))):[]}function nw(a,t){return{documents:[$0(a,t.path)]}}function iw(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=$0(a,o);const h=(function(v){if(v.length!==0)return eE(Vi.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((S=>(function(M){return{field:ka(M.field),direction:aw(M.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Qd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function sw(a){let t=$1(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Zt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(b){const M=tE(b);return M instanceof Vi&&D0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((M=>(function(at){return new zc(Pa(at.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(at.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let M;return M=typeof b=="object"?b.value:b,eh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(b){const M=!!b.before,Z=b.values||[];return new Pc(Z,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const M=!b.before,Z=b.values||[];return new Pc(Z,M)})(i.endAt)),S1(t,o,d,h,p,"F",_,v)}function rw(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function tE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Pa(i.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Pa(i.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pa(i.unaryFilter.field);return Le.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Le.create(Pa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((r=>tE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(a):Tt(30097,{filter:a})}function aw(a){return K1[a]}function lw(a){return Y1[a]}function ow(a){return X1[a]}function ka(a){return{fieldPath:a.canonicalString()}}function Pa(a){return Je.fromServerFormat(a.fieldPath)}function eE(a){return a instanceof Le?(function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:lw(i.op),value:i.value}}})(a):a instanceof Vi?(function(i){const r=i.getFilters().map((o=>eE(o)));return r.length===1?r[0]:{compositeFilter:{op:ow(i.op),filters:r}}})(a):Tt(54877,{filter:a})}function uw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function nE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Qs{constructor(t,i,r,o,h=bt.min(),d=bt.min(),p=$e.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cw{constructor(t){this.yt=t}}function hw(a){const t=sw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Fd(t,t.limit,"L"):t}class fw{constructor(){this.Cn=new dw}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve($s.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class dw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new ke(fe.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ke(fe.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(iE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}const hv="LruGarbageCollector",mw=1048576;function fv([a,t],[i,r]){const o=Lt(a,i);return o===0?Lt(t,r):o}class gw{constructor(t){this.Ir=t,this.buffer=new ke(fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();fv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){el(i)?ot(hv,"Ignoring IndexedDB error during garbage collection: ",i):await tl(i)}await this.Vr(3e5)}))}}class yw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(th.ce);const r=new gw(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(cv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,h,d,p,_,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(h=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(v=Date.now(),Ua()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function _w(a,t){return new yw(a,t)}class vw{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ew{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Tw{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&po(r.mutation,o,ei.empty(),ue.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=kt()){const o=Ur();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((h=>{let d=oo();return h.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Ur();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,kt())))}populateOverlays(t,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,o){let h=as();const d=go(),p=(function(){return go()})();return i.forEach(((_,v)=>{const S=r.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Qr)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),po(S.mutation,v,S.mutation.getFieldMask(),ue.now())):d.set(v.key,ei.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new Ew(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=go();let o=new de(((d,p)=>d-p)),h=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=r.get(_)||ei.empty();S=p.applyToLocalView(v,S),r.set(_,S);const b=(o.get(p.batchId)||kt()).add(_);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,b=P0();S.forEach((M=>{if(!h.has(M)){const Z=G0(i.get(M),r.get(M));Z!==null&&b.set(M,Z),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):A1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-h.size):J.resolve(Ur());let p=To,_=h;return d.next((v=>J.forEach(v,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(S)?J.resolve():this.remoteDocumentCache.getEntry(t,S).next((M=>{_=_.insert(S,M)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,kt()))).next((S=>({batchId:p,changes:k0(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next((r=>{let o=oo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const h=i.collectionGroup;let d=oo();return this.indexManager.getCollectionParents(t,h).next((p=>J.forEach(p,(_=>{const v=(function(b,M){return new ih(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((S=>{S.forEach(((b,M)=>{d=d.insert(b,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,o)))).next((d=>{h.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,nn.newInvalidDocument(S)))}));let p=oo();return d.forEach(((_,v)=>{const S=h.get(_);S!==void 0&&po(S.mutation,v,ei.empty(),ue.now()),rh(i,v)&&(p=p.insert(_,v))})),p}))}}class Sw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:hw(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),J.resolve()}}class Aw{constructor(){this.overlays=new de(_t.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Ur();return J.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,h)=>{this.St(t,i,h)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Ur(),h=i.length+1,d=new _t(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let h=new de(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=h.get(v.largestBatchId);S===null&&(S=Ur(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=Ur(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return J.resolve(p)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new B1(i,r));let h=this.qr.get(i);h===void 0&&(h=kt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class bw{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Tm{constructor(){this.Qr=new ke(Be.$r),this.Ur=new ke(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Be(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new _t(new fe([])),r=new Be(i,t),o=new Be(i,t+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new _t(new fe([])),r=new Be(i,t),o=new Be(i,t+1);let h=kt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Be(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return _t.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||_t.comparator(t.key,i.key)}}class ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(Be.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new j1(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Be(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(Lt);return i.forEach((o=>{const h=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let h=r;_t.isDocumentKey(h)||(h=h.child(""));const d=new Be(new _t(h),0);let p=new ke(Lt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const h=new Be(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Be(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Rw{constructor(t){this.ri=t,this.docs=(function(){return new de(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let r=as();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():nn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let h=as();const d=i.path,p=new _t(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||t1(Wb(S),r)<=0||(o.has(S.key)||rh(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(t,i,r,o){Tt(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Cw(this)}getSize(t){return J.resolve(this.size)}}class Cw extends vw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Iw{constructor(t){this.persistence=t,this.si=new Fr((i=>mm(i)),gm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Tm,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class sE{constructor(t,i){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new bw,this.referenceDelegate=t(this),this.Pi=new Iw(this),this.indexManager=new fw,this.remoteDocumentCache=(function(o){return new Rw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cw(i),this.Ii=new Sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Aw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new ww(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const o=new Nw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Nw extends n1{constructor(t){super(),this.currentSequenceNumber=t}}class Sm{constructor(t){this.persistence=t,this.Ri=new Tm,this.Vi=null}static mi(t){return new Sm(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=_t.fromPath(r);return this.gi(t,o).next((h=>{h||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Hc{constructor(t,i){this.persistence=t,this.pi=new Fr((r=>r1(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_w(this,i)}static mi(t,i){return new Hc(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,o)=>this.br(t,r,o).next((h=>h?J.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,h.removeEntry(d,bt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=bc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Am{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=kt(),o=kt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Am(t,i.fromCache,r,o)}}class Dw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Ow{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EA()?8:i1(sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Dw;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Ua()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ua()<=Ut.DEBUG&&ot("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ua()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):J.resolve())}ys(t,i){if(tv(i))return J.resolve(null);let r=Ci(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Fd(i,null,"F"),r=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=kt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(t,Fd(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,r,o){return tv(i)||o.isEqual(bt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?J.resolve(null):(Ua()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(i)),this.vs(t,d,i,$b(o,To)).next((p=>p)))}))}Ds(t,i){let r=new ke(U0(t));return i.forEach(((o,h)=>{rh(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,r){return Ua()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const bm="LocalStore",xw=3e8;class Vw{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new de(Lt),this.xs=new Fr((h=>mm(h)),gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Tw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Mw(a,t,i,r){return new Vw(a,t,i,r)}async function rE(a,t){const i=Rt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let _=kt();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Uw(a,t){const i=Rt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,S){const b=v.batch,M=b.keys();let Z=J.resolve();return M.forEach((at=>{Z=Z.next((()=>S.getEntry(_,at))).next((lt=>{const W=v.docVersions.get(at);Zt(W!==null,48541),lt.version.compareTo(W)<0&&(b.applyToRemoteDocument(lt,v),lt.isValidDocument()&&(lt.setReadTime(v.commitVersion),S.addEntry(lt)))}))})),Z.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=kt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function aE(a){const t=Rt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Lw(a,t){const i=Rt(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((S,b)=>{const M=o.get(b);if(!M)return;p.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,b))));let Z=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?Z=Z.withResumeToken($e.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,r)),o=o.insert(b,Z),(function(lt,W,yt){return lt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=xw?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(M,Z,S)&&p.push(i.Pi.updateTargetData(h,Z))}));let _=as(),v=kt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(kw(h,d,t.documentUpdates).next((S=>{_=S.ks,v=S.qs}))),!r.isEqual(bt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(S)}return J.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function kw(a,t,i){let r=kt(),o=kt();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=as();return i.forEach(((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot(bm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Pw(a,t){const i=Rt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=hm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function zw(a,t){const i=Rt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Zd(a,t,i){const r=Rt(a),o=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!el(d))throw d;ot(bm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function dv(a,t,i){const r=Rt(a);let o=bt.min(),h=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const b=Rt(_),M=b.xs.get(S);return M!==void 0?J.resolve(b.Ms.get(M)):b.Pi.getTargetData(v,S)})(r,d,Ci(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?o:bt.min(),i?h:kt()))).next((p=>(jw(r,w1(t),p),{documents:p,Qs:h})))))}function jw(a,t,i){let r=a.Os.get(t)||bt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class mv{constructor(){this.activeTargetIds=O1()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Bw{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qw{Oo(t){}shutdown(){}}const gv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _c=null;function Jd(){return _c===null?_c=(function(){return 268435456+Math.round(2147483648*Math.random())})():_c++,"0x"+_c.toString(16)}const Cd="RestConnection",Hw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Lc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,h){const d=Jd(),p=this.zo(t,i.toUriEncodedString());ot(Cd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(p),S=Ja(v);return this.Jo(t,p,_,r,S).then((b=>(ot(Cd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ga(Cd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,o,h,d){return this.Go(t,i,r,o,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),r&&r.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const r=Hw[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Fw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class Qw extends Gw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,h){const d=Jd();return new Promise(((p,_)=>{const v=new c0;v.setWithCredentials(!0),v.listenOnce(h0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ac.NO_ERROR:const b=v.getResponseJson();ot(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Ac.TIMEOUT:ot(tn,`RPC '${t}' ${d} timed out`),_(new mt($.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const M=v.getStatus();if(ot(tn,`RPC '${t}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let Z=v.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const at=Z?.error;if(at&&at.status&&at.message){const lt=(function(yt){const ct=yt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN})(at.status);_(new mt(lt,at.message))}else _(new mt($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new mt($.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ot(tn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);ot(tn,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",S,r,15)}))}T_(t,i,r){const o=Jd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=m0(),p=d0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const S=h.join("");ot(tn,`Creating RPC '${t}' stream ${o}: ${S}`,_);const b=d.createWebChannel(S,_);this.I_(b);let M=!1,Z=!1;const at=new Fw({Yo:W=>{Z?ot(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(M||(ot(tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),M=!0),ot(tn,`RPC '${t}' stream ${o} sending:`,W),b.send(W))},Zo:()=>b.close()}),lt=(W,yt,ct)=>{W.listen(yt,(dt=>{try{ct(dt)}catch(Jt){setTimeout((()=>{throw Jt}),0)}}))};return lt(b,lo.EventType.OPEN,(()=>{Z||(ot(tn,`RPC '${t}' stream ${o} transport opened.`),at.o_())})),lt(b,lo.EventType.CLOSE,(()=>{Z||(Z=!0,ot(tn,`RPC '${t}' stream ${o} transport closed`),at.a_(),this.E_(b))})),lt(b,lo.EventType.ERROR,(W=>{Z||(Z=!0,Ga(tn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),at.a_(new mt($.UNAVAILABLE,"The operation could not be completed")))})),lt(b,lo.EventType.MESSAGE,(W=>{if(!Z){const yt=W.data[0];Zt(!!yt,16349);const ct=yt,dt=ct?.error||ct[0]?.error;if(dt){ot(tn,`RPC '${t}' stream ${o} received error:`,dt);const Jt=dt.status;let Ft=(function(A){const C=xe[A];if(C!==void 0)return K0(C)})(Jt),jt=dt.message;Ft===void 0&&(Ft=$.INTERNAL,jt="Unknown error status: "+Jt+" with message "+dt.message),Z=!0,at.a_(new mt(Ft,jt)),b.close()}else ot(tn,`RPC '${t}' stream ${o} received:`,yt),at.u_(yt)}})),lt(p,f0.STAT_EVENT,(W=>{W.stat===zd.PROXY?ot(tn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===zd.NOPROXY&&ot(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{at.__()}),0),at}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Id(){return typeof document<"u"?document:null}function uh(a){return new Z1(a,!0)}class lE{constructor(t,i,r=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class oE{constructor(t,i,r,o,h,d,p,_){this.Mi=t,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new mt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kw extends oE{constructor(t,i,r,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=W1(this.serializer,t),r=(function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Ii(d.readTime):bt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Xd(this.serializer),i.addTarget=(function(h,d){let p;const _=d.target;if(p=Gd(_)?{documents:nw(h,_)}:{query:iw(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Z0(h,d.resumeToken);const v=Qd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=qc(h,d.snapshotVersion.toTimestamp());const v=Qd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=rw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Xd(this.serializer),i.removeTarget=t,this.q_(i)}}class Yw extends oE{constructor(t,i,r,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=ew(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Xd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>tw(this.serializer,r)))};this.q_(i)}}class Xw{}class Zw extends Xw{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Kd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt($.UNKNOWN,h.toString())}))}Ho(t,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Kd(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Jw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qr="RemoteStore";class $w{constructor(t,i,r,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Kr(this)&&(ot(qr,"Restarting streams for network reachability change."),await(async function(_){const v=Rt(_);v.Ea.add(4),await Mo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await ch(v)})(this))}))})),this.Ra=new Jw(r,o)}}async function ch(a){if(Kr(a))for(const t of a.da)await t(!0)}async function Mo(a){for(const t of a.da)await t(!1)}function uE(a,t){const i=Rt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Im(i)?Cm(i):nl(i).O_()&&Rm(i,t))}function wm(a,t){const i=Rt(a),r=nl(i);i.Ia.delete(t),r.O_()&&cE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Kr(i)&&i.Ra.set("Unknown"))}function Rm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}nl(a).Y_(t)}function cE(a,t){a.Va.Ue(t),nl(a).Z_(t)}function Cm(a){a.Va=new Q1({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),nl(a).start(),a.Ra.ua()}function Im(a){return Kr(a)&&!nl(a).x_()&&a.Ia.size>0}function Kr(a){return Rt(a).Ea.size===0}function hE(a){a.Va=void 0}async function Ww(a){a.Ra.set("Online")}async function tR(a){a.Ia.forEach(((t,i)=>{Rm(a,t)}))}async function eR(a,t){hE(a),Im(a)?(a.Ra.ha(t),Cm(a)):a.Ra.set("Unknown")}async function nR(a,t,i){if(a.Ra.set("Online"),t instanceof X0&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(r){ot(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Gc(a,r)}else if(t instanceof Cc?a.Va.Ze(t):t instanceof Y0?a.Va.st(t):a.Va.tt(t),!i.isEqual(bt.min()))try{const r=await aE(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.Ia.get(v);S&&h.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const S=h.Ia.get(_);if(!S)return;h.Ia.set(_,S.withResumeToken($e.EMPTY_BYTE_STRING,S.snapshotVersion)),cE(h,_);const b=new Qs(S.target,_,v,S.sequenceNumber);Rm(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){ot(qr,"Failed to raise snapshot:",r),await Gc(a,r)}}async function Gc(a,t,i){if(!el(t))throw t;a.Ea.add(1),await Mo(a),a.Ra.set("Offline"),i||(i=()=>aE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ot(qr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await ch(a)}))}function fE(a,t){return t().catch((i=>Gc(a,i,t)))}async function hh(a){const t=Rt(a),i=nr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hm;for(;iR(t);)try{const o=await Pw(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,sR(t,o)}catch(o){await Gc(t,o)}dE(t)&&mE(t)}function iR(a){return Kr(a)&&a.Ta.length<10}function sR(a,t){a.Ta.push(t);const i=nr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function dE(a){return Kr(a)&&!nr(a).x_()&&a.Ta.length>0}function mE(a){nr(a).start()}async function rR(a){nr(a).ra()}async function aR(a){const t=nr(a);for(const i of a.Ta)t.ea(i.mutations)}async function lR(a,t,i){const r=a.Ta.shift(),o=_m.from(r,t,i);await fE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await hh(a)}async function oR(a,t){t&&nr(a).X_&&await(async function(r,o){if((function(d){return H1(d)&&d!==$.ABORTED})(o.code)){const h=r.Ta.shift();nr(r).B_(),await fE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await hh(r)}})(a,t),dE(a)&&mE(a)}async function _v(a,t){const i=Rt(a);i.asyncQueue.verifyOperationInProgress(),ot(qr,"RemoteStore received new credentials");const r=Kr(i);i.Ea.add(3),await Mo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ch(i)}async function uR(a,t){const i=Rt(a);t?(i.Ea.delete(2),await ch(i)):t||(i.Ea.add(2),await Mo(i),i.Ra.set("Unknown"))}function nl(a){return a.ma||(a.ma=(function(i,r,o){const h=Rt(i);return h.sa(),new Kw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:Ww.bind(null,a),t_:tR.bind(null,a),r_:eR.bind(null,a),H_:nR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Im(a)?Cm(a):a.Ra.set("Unknown")):(await a.ma.stop(),hE(a))}))),a.ma}function nr(a){return a.fa||(a.fa=(function(i,r,o){const h=Rt(i);return h.sa(),new Yw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:rR.bind(null,a),r_:oR.bind(null,a),ta:aR.bind(null,a),na:lR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await hh(a)):(await a.fa.stop(),a.Ta.length>0&&(ot(qr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Nm{constructor(t,i,r,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,h){const d=Date.now()+r,p=new Nm(t,i,d,o,h);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(a,t){if(rs("AsyncQueue",`${t}: ${a}`),el(a))return new mt($.UNAVAILABLE,`${t}: ${a}`);throw a}class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||_t.comparator(i.key,r.key):(i,r)=>_t.comparator(i.key,r.key),this.keyedMap=oo(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new za;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class vv{constructor(){this.ga=new de(_t.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Xa{constructor(t,i,r,o,h,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,za.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class cR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hR{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Rt(i),h=o.queries;o.queries=Ev(),h.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new mt($.ABORTED,"Firestore shutting down"))}}function Ev(){return new Fr((a=>M0(a)),sh)}async function fR(a,t){const i=Rt(a);let r=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(r=2):(h=new cR,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Dm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Om(i)}async function dR(a,t){const i=Rt(a),r=t.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function mR(a,t){const i=Rt(a);let r=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Om(i)}function gR(a,t,i){const r=Rt(a),o=r.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(t)}function Om(a){a.Ca.forEach((t=>{t.next()}))}var $d,Tv;(Tv=$d||($d={})).Ma="default",Tv.Cache="cache";class pR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Xa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$d.Cache}}class gE{constructor(t){this.key=t}}class pE{constructor(t){this.key=t}}class yR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=U0(t),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new vv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,b)=>{const M=o.get(S),Z=rh(this.query,b)?b:null,at=!!M&&this.mutatedKeys.has(M.key),lt=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let W=!1;M&&Z?M.data.isEqual(Z.data)?at!==lt&&(r.track({type:3,doc:Z}),W=!0):this.su(M,Z)||(r.track({type:2,doc:Z}),W=!0,(_&&this.eu(Z,_)>0||v&&this.eu(Z,v)<0)&&(p=!0)):!M&&Z?(r.track({type:0,doc:Z}),W=!0):M&&!Z&&(r.track({type:1,doc:M}),W=!0,(_||v)&&(p=!0)),W&&(Z?(d=d.add(Z),h=lt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(Z,at){const lt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:W})}};return lt(Z)-lt(at)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Xa(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new pE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new gE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xm="SyncEngine";class _R{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class vR{constructor(t){this.key=t,this.hu=!1}}class ER{constructor(t,i,r,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>M0(p)),sh),this.Iu=new Map,this.Eu=new Set,this.du=new de(_t.comparator),this.Au=new Map,this.Ru=new Tm,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TR(a,t,i=!0){const r=SE(a);let o;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await yE(r,t,i,!0),o}async function SR(a,t){const i=SE(a);await yE(i,t,!0,!1)}async function yE(a,t,i,r){const o=await zw(a.localStore,Ci(t)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await AR(a,t,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&uE(a.remoteStore,o),p}async function AR(a,t,i,r,o){a.pu=(b,M,Z)=>(async function(lt,W,yt,ct){let dt=W.view.ru(yt);dt.Cs&&(dt=await dv(lt.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,dt))));const Jt=ct&&ct.targetChanges.get(W.targetId),Ft=ct&&ct.targetMismatches.get(W.targetId)!=null,jt=W.view.applyChanges(dt,lt.isPrimaryClient,Jt,Ft);return Av(lt,W.targetId,jt.au),jt.snapshot})(a,b,M,Z);const h=await dv(a.localStore,t,!0),d=new yR(t,h.Qs),p=d.ru(h.documents),_=Vo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,_);Av(a,i,v.au);const S=new _R(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function bR(a,t,i){const r=Rt(a),o=r.Tu.get(t),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!sh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&wm(r.remoteStore,o.targetId),Wd(r,o.targetId)})).catch(tl)):(Wd(r,o.targetId),await Zd(r.localStore,o.targetId,!0))}async function wR(a,t){const i=Rt(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),wm(i.remoteStore,r.targetId))}async function RR(a,t,i){const r=VR(a);try{const o=await(function(d,p){const _=Rt(d),v=ue.now(),S=p.reduce(((Z,at)=>Z.add(at.key)),kt());let b,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Z=>{let at=as(),lt=kt();return _.Ns.getEntries(Z,S).next((W=>{at=W,at.forEach(((yt,ct)=>{ct.isValidDocument()||(lt=lt.add(yt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Z,at))).next((W=>{b=W;const yt=[];for(const ct of p){const dt=P1(ct,b.get(ct.key).overlayedDocument);dt!=null&&yt.push(new Qr(ct.key,dt,C0(dt.value.mapValue),is.exists(!0)))}return _.mutationQueue.addMutationBatch(Z,v,yt,p)})).next((W=>{M=W;const yt=W.applyToLocalDocumentSet(b,lt);return _.documentOverlayCache.saveOverlays(Z,W.batchId,yt)}))})).then((()=>({batchId:M.batchId,changes:k0(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new de(Lt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await Uo(r,o.changes),await hh(r.remoteStore)}catch(o){const h=Dm(o,"Failed to persist write");i.reject(h)}}async function _E(a,t){const i=Rt(a);try{const r=await Lw(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Zt(d.hu,14607):o.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Uo(i,r,t)}catch(r){await tl(r)}}function Sv(a,t,i){const r=Rt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Rt(d);_.onlineState=p;let v=!1;_.queries.forEach(((S,b)=>{for(const M of b.Sa)M.va(p)&&(v=!0)})),v&&Om(_)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CR(a,t,i){const r=Rt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),h=o&&o.key;if(h){let d=new de(_t.comparator);d=d.insert(h,nn.newNoDocument(h,bt.min()));const p=kt().add(h),_=new oh(bt.min(),new Map,new de(Lt),d,p);await _E(r,_),r.du=r.du.remove(h),r.Au.delete(t),Vm(r)}else await Zd(r.localStore,t,!1).then((()=>Wd(r,t,i))).catch(tl)}async function IR(a,t){const i=Rt(a),r=t.batch.batchId;try{const o=await Uw(i.localStore,t);EE(i,r,null),vE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Uo(i,o)}catch(o){await tl(o)}}async function NR(a,t,i){const r=Rt(a);try{const o=await(function(d,p){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next((b=>(Zt(b!==null,37113),S=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(r.localStore,t);EE(r,t,i),vE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Uo(r,o)}catch(o){await tl(o)}}function vE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function EE(a,t,i){const r=Rt(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Wd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||TE(a,r)}))}function TE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(wm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Vm(a))}function Av(a,t,i){for(const r of i)r instanceof gE?(a.Ru.addReference(r.key,t),DR(a,r)):r instanceof pE?(ot(xm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||TE(a,r.key)):Tt(19791,{wu:r})}function DR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ot(xm,"New document in limbo: "+i),a.Eu.add(r),Vm(a))}function Vm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new _t(fe.fromString(t)),r=a.fu.next();a.Au.set(r,new vR(i)),a.du=a.du.insert(i,r),uE(a.remoteStore,new Qs(Ci(pm(i.path)),r,"TargetPurposeLimboResolution",th.ce))}}async function Uo(a,t,i){const r=Rt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((v=>{if((v||i)&&r.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Am.As(_.targetId,v);h.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const S=Rt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(v,(M=>J.forEach(M.Es,(Z=>S.persistence.referenceDelegate.addReference(b,M.targetId,Z))).next((()=>J.forEach(M.ds,(Z=>S.persistence.referenceDelegate.removeReference(b,M.targetId,Z)))))))))}catch(b){if(!el(b))throw b;ot(bm,"Failed to update sequence numbers: "+b)}for(const b of v){const M=b.targetId;if(!b.fromCache){const Z=S.Ms.get(M),at=Z.snapshotVersion,lt=Z.withLastLimboFreeSnapshotVersion(at);S.Ms=S.Ms.insert(M,lt)}}})(r.localStore,h))}async function OR(a,t){const i=Rt(a);if(!i.currentUser.isEqual(t)){ot(xm,"User change. New user:",t.toKey());const r=await rE(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((_=>{_.reject(new mt($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Uo(i,r.Ls)}}function xR(a,t){const i=Rt(a),r=i.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let o=kt();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function SE(a){const t=Rt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CR.bind(null,t),t.Pu.H_=mR.bind(null,t.eventManager),t.Pu.yu=gR.bind(null,t.eventManager),t}function VR(a){const t=Rt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Mw(this.persistence,new Ow,t.initialUser,this.serializer)}Cu(t){return new sE(Sm.mi,this.serializer)}Du(t){return new Bw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class MR extends Fc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof Hc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new sE((r=>Hc.mi(r,i)),this.serializer)}}class tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OR.bind(null,this.syncEngine),await uR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hR})()}createDatastore(t){const i=uh(t.databaseInfo.databaseId),r=(function(h){return new Qw(h)})(t.databaseInfo);return(function(h,d,p,_){return new Zw(h,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,h,d,p){return new $w(r,o,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Sv(this.syncEngine,i,0)),(function(){return pv.v()?new pv:new qw})())}createSyncEngine(t,i){return(function(o,h,d,p,_,v,S){const b=new ER(o,h,d,p,_,v);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);ot(qr,"RemoteStore shutting down."),r.Ea.add(5),await Mo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class UR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class LR{constructor(t,i,r,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ot(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Dm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Nd(a,t){a.asyncQueue.verifyOperationInProgress(),ot(ir,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await rE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function bv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await kR(a);ot(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>_v(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>_v(t.remoteStore,o))),a._onlineComponents=t}async function kR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(ir,"Using user provided OfflineComponentProvider");try{await Nd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Nd(a,new Fc)}}else ot(ir,"Using default OfflineComponentProvider"),await Nd(a,new MR(void 0));return a._offlineComponents}async function AE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(ir,"Using user provided OnlineComponentProvider"),await bv(a,a._uninitializedComponentsProvider._online)):(ot(ir,"Using default OnlineComponentProvider"),await bv(a,new tm))),a._onlineComponents}function PR(a){return AE(a).then((t=>t.syncEngine))}async function zR(a){const t=await AE(a),i=t.eventManager;return i.onListen=TR.bind(null,t.syncEngine),i.onUnlisten=bR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=SR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=wR.bind(null,t.syncEngine),i}function jR(a,t,i={}){const r=new Js;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,_,v){const S=new UR({next:M=>{S.Nu(),d.enqueueAndForget((()=>dR(h,b)));const Z=M.docs.has(p);!Z&&M.fromCache?v.reject(new mt($.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&M.fromCache&&_&&_.source==="server"?v.reject(new mt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),b=new pR(pm(p.path),S,{includeMetadataChanges:!0,qa:!0});return fR(h,b)})(await zR(a),a.asyncQueue,t,i,r))),r.promise}function bE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const wv=new Map;const wE="firestore.googleapis.com",Rv=!0;class Cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=Rv}else this.host=t.host,this.ssl=t.ssl??Rv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mw)throw new mt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mm{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jb;switch(r.type){case"firstParty":return new Gb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=wv.get(i);r&&(ot("ComponentProvider","Removing Datastore"),wv.delete(i),r.terminate())})(this),Promise.resolve()}}function BR(a,t,i,r={}){a=Eo(a,Mm);const o=Ja(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(e0(`https://${p}`),n0("Firestore",!0)),h.host!==wE&&h.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:o,emulatorOptions:r};if(!zr(_,d)&&(a._setSettings(_),r.mockUserToken)){let v,S;if(typeof r.mockUserToken=="string")v=r.mockUserToken,S=en.MOCK_USER;else{v=hA(r.mockUserToken,a._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new mt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(b)}a._authCredentials=new Bb(new p0(v,S))}}class Um{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Um(this.firestore,t,this._query)}}class qe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Oo(i,qe._jsonSchema))return new qe(t,r||null,new _t(fe.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ve("string",qe._jsonSchemaVersion),referencePath:Ve("string")};class Co extends Um{constructor(t,i,r){super(t,i,pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new _t(t))}withConverter(t){return new Co(this.firestore,t,this._path)}}function vc(a,t,...i){if(a=Bn(a),arguments.length===1&&(t=um.newId()),Zb("doc","path",t),a instanceof Mm){const r=fe.fromString(t,...i);return B_(r),new qe(a,null,new _t(r))}{if(!(a instanceof qe||a instanceof Co))throw new mt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(fe.fromString(t,...i));return B_(r),new qe(a.firestore,a instanceof Co?a.converter:null,new _t(r))}}const Iv="AsyncQueue";class Nv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const r=Id();r&&ot(Iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;ot(Iv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",Dv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Nm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:Dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Dv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Lm extends Mm{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new Nv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Nv(t),this._firestoreClient=void 0,await t}}}function qR(a,t){const i=typeof a=="object"?a:a0(),r=typeof a=="string"?a:Lc,o=lm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=uA("firestore");h&&BR(o,...h)}return o}function RE(a){if(a._terminated)throw new mt($.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||HR(a),a._firestoreClient}function HR(a){const t=a._freezeSettings(),i=(function(o,h,d,p){return new o1(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new LR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn($e.fromBase64String(t))}catch(i){throw new mt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Oo(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ve("string",jn._jsonSchemaVersion),bytes:Ve("string")};class km{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class CE{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Oo(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ve("string",Ni._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Oo(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new mt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ve("string",Di._jsonSchemaVersion),vectorValues:Ve("object")};const GR=/^__.*__$/;class FR{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new xo(t,this.data,i,this.fieldTransforms)}}function IE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:a})}}class Pm{constructor(t,i,r,o,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Pm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Qc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IE(this.Ac)&&GR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class QR{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||uh(t)}Cc(t,i,r,o=!1){return new Pm({Ac:t,methodName:i,Dc:r,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KR(a){const t=a._freezeSettings(),i=uh(a._databaseId);return new QR(a._databaseId,!!t.ignoreUndefinedProperties,i)}function YR(a,t,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,o);xE("Data must be an object, but it was:",d,r);const p=DE(r,d);let _,v;if(h.merge)_=new ei(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const b of h.mergeFields){const M=XR(t,b,i);if(!d.contains(M))throw new mt($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);JR(S,M)||S.push(M)}_=new ei(S),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new FR(new zn(p),_,v)}function NE(a,t){if(OE(a=Bn(a)))return xE("Unsupported field value:",t,a),DE(a,t);if(a instanceof CE)return(function(r,o){if(!IE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let _=NE(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(a,t)}return(function(r,o){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ue.fromDate(r);return{timestampValue:qc(o.serializer,h)}}if(r instanceof ue){const h=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qc(o.serializer,h)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:Z0(o.serializer,r._byteString)};if(r instanceof qe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Em(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,p){return{mapValue:{fields:{[w0]:{stringValue:R0},[kc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return ym(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${cm(r)}`)})(a,t)}function DE(a,t){const i={};return v0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gr(a,((r,o)=>{const h=NE(o,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function OE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ue||a instanceof Ni||a instanceof jn||a instanceof qe||a instanceof CE||a instanceof Di)}function xE(a,t,i){if(!OE(i)||!y0(i)){const r=cm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function XR(a,t,i){if((t=Bn(t))instanceof km)return t._internalPath;if(typeof t=="string")return VE(a,t);throw Qc("Field path arguments must be of type string or ",a,!1,void 0,i)}const ZR=new RegExp("[~\\*/\\[\\]]");function VE(a,t,i){if(t.search(ZR)>=0)throw Qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new km(...t.split("."))._internalPath}catch{throw Qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Qc(a,t,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new mt($.INVALID_ARGUMENT,p+a+_)}function JR(a,t){return a.some((i=>i.isEqual(t)))}class ME{constructor(t,i,r,o,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(UE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $R extends ME{data(){return super.data()}}function UE(a,t){return typeof t=="string"?VE(a,t):t instanceof km?t._internalPath:t._delegate._internalPath}class WR{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Gr(t,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[kc].arrayValue?.values?.map((r=>Se(r.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=nh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(So(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);Zt(nE(r),9688,{name:t});const o=new Ao(r.get(1),r.get(3)),h=new _t(r.popFirst(5));return o.isEqual(i)||rs(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function t2(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class co{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kr extends ME{constructor(t,i,r,o,h,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(UE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Ve("string",kr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Ic extends kr{data(t={}){return super.data(t)}}class yo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new co(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Ic(this._firestore,this._userDataWriter,r.key,r,new co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const _=new Ic(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:e2(p.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function e2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:a})}}function Ec(a){a=Eo(a,qe);const t=Eo(a.firestore,Lm);return jR(RE(t),a._key).then((i=>s2(t,a,i)))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Ve("string",yo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class n2 extends WR{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function Dd(a,t,i){a=Eo(a,qe);const r=Eo(a.firestore,Lm),o=t2(a.converter,t);return i2(r,[YR(KR(r),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,is.none())])}function i2(a,t){return(function(r,o){const h=new Js;return r.asyncQueue.enqueueAndForget((async()=>RR(await PR(r),o,h))),h.promise})(RE(a),t)}function s2(a,t,i){const r=i.docs.get(t._key),o=new n2(a);return new kr(a,o,t._key,r,new co(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Wa=o})($a),Ha(new jr("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Lm(new qb(r.getProvider("auth-internal")),new Fb(d,r.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new mt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(v.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Xs(k_,P_,t),Xs(k_,P_,"esm2020")})();function LE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r2=LE,kE=new No("auth","Firebase",LE());const Kc=new rm("@firebase/auth");function a2(a,...t){Kc.logLevel<=Ut.WARN&&Kc.warn(`Auth (${$a}): ${a}`,...t)}function Nc(a,...t){Kc.logLevel<=Ut.ERROR&&Kc.error(`Auth (${$a}): ${a}`,...t)}function Mi(a,...t){throw jm(a,...t)}function ii(a,...t){return jm(a,...t)}function zm(a,t,i){const r={...r2(),[t]:i};return new No("auth","Firebase",r).create(t,{appName:a.name})}function Pr(a){return zm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l2(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Mi(a,"argument-error"),zm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return kE.create(a,...t)}function At(a,t,...i){if(!a)throw jm(t,...i)}function es(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Nc(t),new Error(t)}function ls(a,t){a||es(t)}function em(){return typeof self<"u"&&self.location?.href||""}function o2(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function u2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o2()||yA()||"connection"in navigator)?navigator.onLine:!0}function c2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Lo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ls(i>t,"Short delay should be less than long delay!"),this.isMobile=mA()||_A()}get(){return u2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(a,t){ls(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class PE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const f2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d2=new Lo(3e4,6e4);function qm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function il(a,t,i,r,o={}){return zE(a,o,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const p=Do({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...h};return pA()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(v.credentials="include"),PE.fetch()(await jE(a,a.config.apiHost,i,p),v)})}async function zE(a,t,i){a._canInitEmulator=!1;const r={...h2,...t};try{const o=new g2(a),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Tc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Tc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Tc(a,"user-disabled",d);const S=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw zm(a,S,v);Mi(a,S)}}catch(o){if(o instanceof os)throw o;Mi(a,"network-request-failed",{message:String(o)})}}async function m2(a,t,i,r,o={}){const h=await il(a,t,i,r,o);return"mfaPendingCredential"in h&&Mi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function jE(a,t,i,r){const o=`${t}${i}?${r}`,h=a,d=h.config.emulator?Bm(a.config,o):`${a.config.apiScheme}://${o}`;return f2.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),d2.get())})}}function Tc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ii(a,t,r);return o.customData._tokenResponse=i,o}async function p2(a,t){return il(a,"POST","/v1/accounts:delete",t)}async function Yc(a,t){return il(a,"POST","/v1/accounts:lookup",t)}function _o(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function y2(a,t=!1){const i=Bn(a),r=await i.getIdToken(t),o=Hm(r);At(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:r,authTime:_o(Od(o.auth_time)),issuedAtTime:_o(Od(o.iat)),expirationTime:_o(Od(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Od(a){return Number(a)*1e3}function Hm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jv(i);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function xv(a){const t=Hm(a);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof os&&_2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function _2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class v2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(a){const t=a.auth,i=await a.getIdToken(),r=await Io(a,Yc(t,{idToken:i}));At(r?.users.length,t,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const h=o.providerUserInfo?.length?BE(o.providerUserInfo):[],d=T2(a.providerData,h),p=a.isAnonymous,_=!(a.email&&o.passwordHash)&&!d?.length,v=p?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(a,S)}async function E2(a){const t=Bn(a);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function T2(a,t){return[...a.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function BE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function S2(a,t){const i=await zE(a,{},async()=>{const r=Do({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=a.config,d=await jE(a,o,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&Ja(a.emulatorConfig.host)&&(_.credentials="include"),PE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function A2(a,t){return il(a,"POST","/v2/accounts:revokeToken",qm(a,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=xv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:h}=await S2(t,i);this.updateTokensAndExpiration(r,o,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:h}=i,d=new ja;return r&&(At(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(At(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(At(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return es("not implemented")}}function qs(a,t){At(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new v2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return y2(this,t)}reload(){return E2(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Pr(this.auth));const t=await this.getIdToken();return await Io(this,p2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:M,isAnonymous:Z,providerData:at,stsTokenManager:lt}=i;At(b&&lt,t,"internal-error");const W=ja.fromJSON(this.name,lt);At(typeof b=="string",t,"internal-error"),qs(r,t.name),qs(o,t.name),At(typeof M=="boolean",t,"internal-error"),At(typeof Z=="boolean",t,"internal-error"),qs(h,t.name),qs(d,t.name),qs(p,t.name),qs(_,t.name),qs(v,t.name),qs(S,t.name);const yt=new ni({uid:b,auth:t,email:o,emailVerified:M,displayName:r,isAnonymous:Z,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:W,createdAt:v,lastLoginAt:S});return at&&Array.isArray(at)&&(yt.providerData=at.map(ct=>({...ct}))),_&&(yt._redirectEventId=_),yt}static async _fromIdTokenResponse(t,i,r=!1){const o=new ja;o.updateFromServerResponse(i);const h=new ni({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Xc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];At(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?BE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,p=new ja;p.updateFromIdToken(r);const _=new ni({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(_,v),_}}const Vv=new Map;function ns(a){ls(a instanceof Function,"Expected a class definition");let t=Vv.get(a);return t?(ls(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Vv.set(a,t),t)}class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qE.type="NONE";const Mv=qE;function Dc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ba{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:h}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,h),this.fullPersistenceKey=Dc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ba(ns(Mv),t,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||ns(Mv);const d=Dc(r,t.config.apiKey,t.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let b;if(typeof S=="string"){const M=await Yc(t,{idToken:S}).catch(()=>{});if(!M)break;b=await ni._fromGetAccountInfoResponse(t,M,S)}else b=ni._fromJSON(t,S);v!==h&&(p=b),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ba(h,t,r):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ba(h,t,r))}}function Uv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YE(t))return"Blackberry";if(XE(t))return"Webos";if(GE(t))return"Safari";if((t.includes("chrome/")||FE(t))&&!t.includes("edge/"))return"Chrome";if(KE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function HE(a=sn()){return/firefox\//i.test(a)}function GE(a=sn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FE(a=sn()){return/crios\//i.test(a)}function QE(a=sn()){return/iemobile/i.test(a)}function KE(a=sn()){return/android/i.test(a)}function YE(a=sn()){return/blackberry/i.test(a)}function XE(a=sn()){return/webos/i.test(a)}function Gm(a=sn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function b2(a=sn()){return Gm(a)&&!!window.navigator?.standalone}function w2(){return vA()&&document.documentMode===10}function ZE(a=sn()){return Gm(a)||KE(a)||XE(a)||YE(a)||/windows phone/i.test(a)||QE(a)}function JE(a,t=[]){let i;switch(a){case"Browser":i=Uv(sn());break;case"Worker":i=`${Uv(sn())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${r}`}class R2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,p)=>{try{const _=t(h);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function C2(a,t={}){return il(a,"GET","/v2/passwordPolicy",qm(a,t))}const I2=6;class N2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??I2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class D2{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new R2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=c2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Pr(this));const i=t?Bn(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await C2(this),i=new N2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new No("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await A2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ns(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&a2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fh(a){return Bn(a)}class Lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=CA(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(a){Fm=a}function x2(a){return Fm.loadJS(a)}function V2(){return Fm.gapiScript}function M2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function U2(a,t){const i=lm(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(zr(h,t??{}))return o;Mi(o,"already-initialized")}return i.initialize({options:t})}function L2(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ns);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function k2(a,t,i){const r=fh(a);At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,h=$E(t),{host:d,port:p}=P2(t),_=p===null?"":`:${p}`,v={url:`${h}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){At(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),At(zr(v,r.config.emulator)&&zr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Ja(d)?(e0(`${h}//${d}${_}`),n0("Auth",!0)):z2()}function $E(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function P2(a){const t=$E(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const h=o[1];return{host:h,port:kv(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:kv(d)}}}function kv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function z2(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class WE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,i){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function qa(a,t){return m2(a,"POST","/v1/accounts:signInWithIdp",qm(a,t))}const j2="http://localhost";class Hr extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...h}=i;if(!r||!o)return null;const d=new Hr(r,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,qa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:j2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Do(i)}return t}}class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ko extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hs extends ko{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class ts extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ts.credential(i,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class Gs extends ko{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Fs extends ko{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Fs.credential(i,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const h=await ni._fromIdTokenResponse(t,r,o),d=Pv(r);return new Za({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Pv(r);return new Za({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Pv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Zc extends os{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Zc(t,i,r,o)}}function tT(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(a,h,t,r):h})}async function B2(a,t,i=!1){const r=await Io(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Za._forOperation(a,"link",r)}async function q2(a,t,i=!1){const{auth:r}=a;if(ti(r.app))return Promise.reject(Pr(r));const o="reauthenticate";try{const h=await Io(a,tT(r,o,t,a),i);At(h.idToken,r,"internal-error");const d=Hm(h.idToken);At(d,r,"internal-error");const{sub:p}=d;return At(a.uid===p,r,"user-mismatch"),Za._forOperation(a,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),h}}async function H2(a,t,i=!1){if(ti(a.app))return Promise.reject(Pr(a));const r="signIn",o=await tT(a,r,t),h=await Za._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(h.user),h}function G2(a,t,i,r){return Bn(a).onIdTokenChanged(t,i,r)}function F2(a,t,i){return Bn(a).beforeAuthStateChanged(t,i)}function Q2(a,t,i,r){return Bn(a).onAuthStateChanged(t,i,r)}function K2(a){return Bn(a).signOut()}const Jc="__sak";class eT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Y2=1e3,X2=10;class nT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);w2()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,X2):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}nT.type="LOCAL";const Z2=nT;class iT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}iT.type="SESSION";const sT=iT;function J2(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,h)),_=await J2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Km(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class $2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((p,_)=>{const v=Km("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const M=b;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(M.data.response);break;default:clearTimeout(S),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function W2(a){Oi().location.href=a}function rT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function tC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eC(){return navigator?.serviceWorker?.controller||null}function nC(){return rT()?self:null}const aT="firebaseLocalStorageDb",iC=1,$c="firebaseLocalStorage",lT="fbase_key";class Po{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(a,t){return a.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function sC(){const a=indexedDB.deleteDatabase(aT);return new Po(a).toPromise()}function im(){const a=indexedDB.open(aT,iC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore($c,{keyPath:lT})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains($c)?t(r):(r.close(),await sC(),t(await im()))})})}async function zv(a,t,i){const r=mh(a,!0).put({[lT]:t,value:i});return new Po(r).toPromise()}async function rC(a,t){const i=mh(a,!1).get(t),r=await new Po(i).toPromise();return r===void 0?null:r.value}function jv(a,t){const i=mh(a,!0).delete(t);return new Po(i).toPromise()}const aC=800,lC=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>lC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(nC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new $2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await zv(t,Jc,"1"),await jv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>rC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>jv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=mh(o,!1).getAll();return new Po(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const oC=oT;new Lo(3e4,6e4);function uT(a,t){return t?ns(t):(At(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Ym extends WE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function uC(a){return H2(a.auth,new Ym(a),a.bypassAuthState)}function cC(a){const{auth:t,user:i}=a;return At(i,t,"internal-error"),q2(i,new Ym(a),a.bypassAuthState)}async function hC(a){const{auth:t,user:i}=a;return At(i,t,"internal-error"),B2(i,new Ym(a),a.bypassAuthState)}class cT{constructor(t,i,r,o,h=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return hC;case"reauthViaPopup":case"reauthViaRedirect":return cC;default:Mi(this.auth,"internal-error")}}resolve(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fC=new Lo(2e3,1e4);async function dC(a,t,i){if(ti(a.app))return Promise.reject(ii(a,"operation-not-supported-in-this-environment"));const r=fh(a);l2(a,t,Qm);const o=uT(r,i);return new Lr(r,"signInViaPopup",t,o).executeNotNull()}class Lr extends cT{constructor(t,i,r,o,h){super(t,i,o,h),this.provider=r,this.authWindow=null,this.pollId=null,Lr.currentPopupAction&&Lr.currentPopupAction.cancel(),Lr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fC.get())};t()}}Lr.currentPopupAction=null;const mC="pendingRedirect",Oc=new Map;class gC extends cT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const r=await pC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pC(a,t){const i=vC(t),r=_C(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function yC(a,t){Oc.set(a._key(),t)}function _C(a){return ns(a._redirectPersistence)}function vC(a){return Dc(mC,a.config.apiKey,a.name)}async function EC(a,t,i=!1){if(ti(a.app))return Promise.reject(Pr(a));const r=fh(a),o=uT(r,t),d=await new gC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const TC=600*1e3;class SC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!hT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(t))}saveEventToCache(t){this.cachedEventUids.add(Bv(t)),this.lastProcessedEventTime=Date.now()}}function Bv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function hT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function AC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(a);default:return!1}}async function bC(a,t={}){return il(a,"GET","/v1/projects",t)}const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RC=/^https?/;async function CC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await bC(a);for(const i of t)try{if(IC(i))return}catch{}Mi(a,"unauthorized-domain")}function IC(a){const t=em(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!RC.test(i))return!1;if(wC.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const NC=new Lo(3e4,6e4);function qv(){const a=Oi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function DC(a){return new Promise((t,i)=>{function r(){qv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qv(),i(ii(a,"network-request-failed"))},timeout:NC.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=M2("iframefcb");return Oi()[o]=()=>{gapi.load?r():i(ii(a,"network-request-failed"))},x2(`${V2()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw xc=null,t})}let xc=null;function OC(a){return xc=xc||DC(a),xc}const xC=new Lo(5e3,15e3),VC="__/auth/iframe",MC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kC(a){const t=a.config;At(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Bm(t,MC):`https://${a.config.authDomain}/${VC}`,r={apiKey:t.apiKey,appName:a.name,v:$a},o=LC.get(a.config.apiHost);o&&(r.eid=o);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Do(r).slice(1)}`}async function PC(a){const t=await OC(a),i=Oi().gapi;return At(i,a,"internal-error"),t.open({where:document.body,url:kC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},r=>new Promise(async(o,h)=>{await r.restyle({setHideOnLeave:!1});const d=ii(a,"network-request-failed"),p=Oi().setTimeout(()=>{h(d)},xC.get());function _(){Oi().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{h(d)})}))}const zC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jC=500,BC=600,qC="_blank",HC="http://localhost";class Hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(a,t,i,r=jC,o=BC){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...zC,width:r.toString(),height:o.toString(),top:h,left:d},v=sn().toLowerCase();i&&(p=FE(v)?qC:i),HE(v)&&(t=t||HC,_.scrollbars="yes");const S=Object.entries(_).reduce((M,[Z,at])=>`${M}${Z}=${at},`,"");if(b2(v)&&p!=="_self")return FC(t||"",p),new Hv(null);const b=window.open(t||"",p,S);At(b,a,"popup-blocked");try{b.focus()}catch{}return new Hv(b)}function FC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const QC="__/auth/handler",KC="emulator/auth/handler",YC=encodeURIComponent("fac");async function Gv(a,t,i,r,o,h){At(a.config.authDomain,a,"auth-domain-config-required"),At(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:$a,eventId:o};if(t instanceof Qm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",RA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof ko){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await a._getAppCheckToken(),v=_?`#${YC}=${encodeURIComponent(_)}`:"";return`${XC(a)}?${Do(p).slice(1)}${v}`}function XC({config:a}){return a.emulator?Bm(a,KC):`https://${a.authDomain}/${QC}`}const xd="webStorageSupport";class ZC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=EC,this._overrideRedirectResult=yC}async _openPopup(t,i,r,o){ls(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Gv(t,i,r,em(),o);return GC(t,h,Km())}async _openRedirect(t,i,r,o){await this._originValidation(t);const h=await Gv(t,i,r,em(),o);return W2(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(ls(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await PC(t),r=new SC(t);return i.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(xd,{type:xd},o=>{const h=o?.[0]?.[xd];h!==void 0&&i(!!h),Mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=CC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ZE()||GE()||Gm()}}const JC=ZC;var Fv="@firebase/auth",Qv="1.12.0";class $C{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tI(a){Ha(new jr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(a)},v=new D2(r,o,h,_);return L2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ha(new jr("auth-internal",t=>{const i=fh(t.getProvider("auth").getImmediate());return(r=>new $C(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(Fv,Qv,WC(a)),Xs(Fv,Qv,"esm2020")}const eI=300,nI=t0("authIdTokenMaxAge")||eI;let Kv=null;const iI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>nI)return;const o=i?.token;Kv!==o&&(Kv=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sI(a=a0()){const t=lm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=U2(a,{popupRedirectResolver:JC,persistence:[oC,Z2,sT]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=iI(h.toString());F2(i,d,()=>d(i.currentUser)),G2(i,p=>d(p))}}const o=$v("auth");return o&&k2(i,`http://${o}`),i}function rI(){return document.getElementsByTagName("head")?.[0]??document}O2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=o=>{const h=ii("internal-error");h.customData=o,i(h)},r.type="text/javascript",r.charset="UTF-8",rI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tI("Browser");const aI={apiKey:"AIzaSyCHC7orIw2DoRNnNHptjKc3eVY3DBm5Us0",authDomain:"yuka-morii-collection.firebaseapp.com",projectId:"yuka-morii-collection",storageBucket:"yuka-morii-collection.firebasestorage.app",messagingSenderId:"940128847250",appId:"1:940128847250:web:3707e587b7d569a93b6d4b"},fT=r0(aI),Vd=sI(fT),Sc=qR(fT),lI=new ts;function oI(){const[a,t]=Xe.useState(null),[i,r]=Xe.useState([]),[o,h]=Xe.useState(!0),[d,p]=Xe.useState(!1),[_,v]=Xe.useState(!1),[S,b]=Xe.useState("all"),[M,Z]=Xe.useState("all"),[at,lt]=Xe.useState(!1),[W,yt]=Xe.useState(!1),[ct,dt]=Xe.useState(null),[Jt,Ft]=Xe.useState(null),[jt,I]=Xe.useState(null),[A,C]=Xe.useState("asc"),[x,D]=Xe.useState(null);Xe.useEffect(()=>{const q=async()=>{try{const it=await fetch("/yuka-morii-collection/cards.json");if(!it.ok)throw new Error(`HTTP error! status: ${it.status}`);const Et=await it.json();console.log(" Loaded cards:",Et.length),r(Et),I(null)}catch(it){console.error(" Error loading cards:",it),I(`Failed to load cards.json: ${it.message}`)}finally{h(!1)}},tt=new URLSearchParams(window.location.search).get("user");if(tt)v(!0),t({uid:tt,email:"Shared Collection"}),q(),setTimeout(()=>U(tt),500);else{const it=Q2(Vd,Et=>{Et?(t(Et),console.log(" User logged in:",Et.email)):lt(!0)});return q(),it}},[]);const U=async q=>{p(!0);try{const Y=vc(Sc,"collections",q),tt=await Ec(Y);if(tt.exists()){const it=tt.data(),Et=it.ownerEmail||"A Collector";D(Et),t({uid:q,email:Et}),r(Xt=>Xt.map(pt=>({...pt,variations:w(pt.variations,it[pt.id])})))}}catch(Y){console.error("Error loading shared collection:",Y)}finally{p(!1)}};Xe.useEffect(()=>{if(!a||_||i.length===0)return;(async()=>{p(!0);try{const Y=vc(Sc,"collections",a.uid),tt=await Ec(Y);if(tt.exists()){const it=tt.data();console.log(" Loaded user collection from Firebase"),r(Et=>Et.map(Xt=>({...Xt,variations:w(Xt.variations,it[Xt.id])})))}}catch(Y){console.error("Error loading user collection:",Y)}finally{p(!1)}})()},[a,i.length]);const w=(q,Y)=>{if(!q)return{normal:{count:0,ordered:!1,languages:[]}};if(!Y)return q;const tt={...q};return Object.keys(tt).forEach(it=>{Y[it]&&(tt[it]={...tt[it],...Y[it]})}),tt},ae=async()=>{try{const Y=(await dC(Vd,lI)).user,tt=vc(Sc,"collections",Y.uid),it=await Ec(tt);if(!it.exists())await Dd(tt,{ownerEmail:Y.email,lastUpdated:new Date().toISOString()});else{const Et=it.data();Et.ownerEmail||await Dd(tt,{...Et,ownerEmail:Y.email,lastUpdated:new Date().toISOString()})}lt(!1)}catch(q){if(console.error(" Google Sign-In error:",q),q.code==="auth/popup-closed-by-user"||q.code==="auth/cancelled-popup-request"){console.log("User cancelled sign-in");return}alert("Google Sign-In failed: "+q.message)}},ye=(q,Y,tt)=>{tt&&tt.stopPropagation(),!_&&r(it=>{const Et=it.map(pt=>{if(pt.id===q&&pt.variations[Y]){const Nt=pt.variations[Y].ordered||!1;if((pt.variations[Y].count||0)>0)return pt;const me={...pt.variations,[Y]:{...pt.variations[Y],ordered:!Nt}};return ft(q,me),{...pt,variations:me}}return pt}),Xt=Et.find(pt=>pt.id===q);return Xt&&ct?.id===q&&dt(Xt),Et})},G=(q,Y,tt)=>{tt&&tt.stopPropagation(),!_&&r(it=>{const Et=it.map(pt=>{if(pt.id===q&&pt.variations[Y]){const Nt=pt.variations[Y].count||0,qt=pt.variations[Y].default_language||"EN",me={...pt.variations,[Y]:{...pt.variations[Y],count:Nt+1,ordered:!1,languages:Nt===0?[qt]:pt.variations[Y].languages||[]}};return ft(q,me),{...pt,variations:me}}return pt}),Xt=Et.find(pt=>pt.id===q);return Xt&&ct?.id===q&&dt(Xt),Et})},st=(q,Y,tt)=>{tt&&tt.stopPropagation(),!_&&r(it=>{const Et=it.map(pt=>{if(pt.id===q&&pt.variations[Y]){const Nt=pt.variations[Y].count||0,qt=Math.max(0,Nt-1),me={...pt.variations,[Y]:{...pt.variations[Y],count:qt,languages:qt===0?[]:pt.variations[Y].languages||[]}};return ft(q,me),{...pt,variations:me}}return pt}),Xt=Et.find(pt=>pt.id===q);return Xt&&ct?.id===q&&dt(Xt),Et})},ft=async(q,Y)=>{if(!(!a||_))try{const tt=vc(Sc,"collections",a.uid),it=await Ec(tt),Xt={...it.exists()?it.data():{},[q]:Y,lastUpdated:new Date().toISOString()};await Dd(tt,Xt),console.log(` Successfully saved ${q}`)}catch(tt){console.error(" Error saving to Firebase:",tt)}},Pt=async()=>{try{await K2(Vd),t(null),r(q=>q.map(Y=>({...Y,variations:Object.keys(Y.variations||{}).reduce((tt,it)=>({...tt,[it]:{...Y.variations[it],count:0,ordered:!1,languages:[]}}),{})}))),lt(!0)}catch(q){console.error("Logout error:",q)}},Qt=()=>{const q=`${window.location.origin}${window.location.pathname}?user=${a.uid}`;navigator.clipboard.writeText(q),alert("Share link copied to clipboard!")},O=(q,Y,tt,it)=>{it&&it.stopPropagation(),!_&&r(Et=>{const Xt=Et.map(Nt=>{if(Nt.id===q&&Nt.variations[Y]){if((Nt.variations[Y].count||0)===0)return Nt;const me=Nt.variations[Y].languages||[],pn=me.includes(tt)?me.filter(sr=>sr!==tt):[...me,tt],si={...Nt.variations,[Y]:{...Nt.variations[Y],languages:pn}};return ft(q,si),{...Nt,variations:si}}return Nt}),pt=Xt.find(Nt=>Nt.id===q);return pt&&ct?.id===q&&dt(pt),Xt})},Q=q=>{if(!q.variations)return{owned:"no",total:1};const Y=Object.values(q.variations),tt=Y.some(Et=>Et.count&&Et.count>0),it=!tt&&Y.some(Et=>Et.ordered===!0&&(!Et.count||Et.count===0));return tt?{owned:"yes",total:Y.length}:it?{owned:"ordered",total:Y.length}:{owned:"no",total:Y.length}},nt={total:i.length,owned:i.filter(q=>Q(q).owned==="yes").length,ordered:i.filter(q=>Q(q).owned==="ordered").length,needed:i.filter(q=>Q(q).owned==="no").length,completion:i.length>0?Math.round(i.filter(q=>Q(q).owned==="yes").length/i.length*100):0},rt=i.filter(q=>{const Y=Q(q),tt=S==="all"||Y.owned===S,it=M==="all"||q.era===M;return tt&&it}).sort((q,Y)=>{const tt=parseInt(q.sheet_no)||0,it=parseInt(Y.sheet_no)||0;return A==="asc"?tt-it:it-tt}),St=["all",...new Set(i.map(q=>q.era).filter(Boolean))];return o?j.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-purple-500"}),j.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl",children:""})]}),j.jsx("div",{className:"text-white text-3xl font-bold mb-4 mt-8 tracking-wider",children:"YUKA MORII"}),j.jsx("div",{className:"text-purple-300 text-lg",children:"Loading Collection..."})]}):at&&!a?j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:j.jsxs("div",{className:"relative bg-slate-800 bg-opacity-90 backdrop-blur-xl rounded-2xl shadow-2xl p-10 max-w-md w-full border border-purple-500/20",children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("div",{className:"text-6xl mb-4",children:""}),j.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Yuka Morii"}),j.jsx("p",{className:"text-purple-300 text-sm",children:"Trading Card Collection"})]}),j.jsxs("div",{className:"space-y-4",children:[j.jsxs("button",{type:"button",onClick:ae,className:"w-full bg-white text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-3 shadow-lg",children:[j.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[j.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),j.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),j.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),j.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),j.jsx("p",{className:"text-center text-purple-300 text-xs",children:"Sign in to save and sync your collection across devices"})]})]})}):j.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[W&&j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:j.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 max-w-md w-full border border-purple-500/30",children:[j.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Share Collection"}),j.jsx("p",{className:"text-purple-200 mb-4",children:"Anyone with this link can view your collection:"}),j.jsx("div",{className:"bg-slate-700 p-4 rounded-xl mb-6 break-all text-sm font-mono text-purple-300 border border-slate-600",children:`${window.location.origin}${window.location.pathname}?user=${a.uid}`}),j.jsxs("div",{className:"flex gap-3",children:[j.jsx("button",{onClick:Qt,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl font-semibold",children:" Copy Link"}),j.jsx("button",{onClick:()=>yt(!1),className:"flex-1 bg-slate-700 text-purple-200 py-3 rounded-xl font-semibold",children:"Close"})]})]})}),ct&&j.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-md",onClick:q=>{q.target===q.currentTarget&&(dt(null),Ft(null))},children:j.jsxs("div",{className:"relative flex items-center justify-center w-full max-w-4xl",children:[j.jsx("button",{onClick:q=>{q.stopPropagation();const Y=rt.findIndex(Et=>Et.id===ct.id),tt=Y>0?Y-1:rt.length-1,it=rt[tt];dt(it),Ft(Object.keys(it.variations)[0])},className:"w-10 h-10 bg-slate-700/80 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-xl border border-purple-500/50 hover:border-purple-400 transition-all z-10 flex-shrink-0",children:""}),j.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-lg w-full border border-purple-500/30 mx-4",children:[j.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-slate-800 p-4",children:[j.jsx("button",{onClick:()=>{dt(null),Ft(null)},className:"absolute top-2 right-2 w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-lg z-10",children:""}),j.jsxs("div",{className:"flex gap-4",children:[j.jsx("div",{className:"flex-shrink-0",children:j.jsx("img",{src:ct.imageUrl,alt:ct.name,className:"w-48 h-auto rounded-lg shadow-xl"})}),j.jsxs("div",{className:"flex-1 text-white min-w-0",children:[j.jsx("h2",{className:"text-xl font-bold mb-1 truncate",children:ct.name}),j.jsxs("p",{className:"text-purple-300 text-sm mb-3",children:["#",ct.number,"  ",ct.set]}),j.jsxs("div",{className:"space-y-2 text-xs",children:[j.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[j.jsx("span",{children:""}),j.jsxs("div",{children:[j.jsx("div",{className:"text-slate-400 text-[10px]",children:"Illustrator"}),j.jsx("div",{className:"font-semibold",children:"Yuka Morii"})]})]}),ct.era&&j.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[j.jsx("span",{children:""}),j.jsxs("div",{children:[j.jsx("div",{className:"text-slate-400 text-[10px]",children:"Era"}),j.jsx("div",{className:"font-semibold",children:ct.era})]})]})]})]})]})]}),j.jsxs("div",{className:"p-4",children:[j.jsxs("h3",{className:"text-sm font-bold text-white mb-3 flex items-center gap-3",children:[j.jsx("span",{children:""}),"Variants"]}),j.jsx("div",{className:"space-y-1.5",children:ct.variations&&Object.entries(ct.variations).map(([q,Y])=>{const tt=Y.count||0,it=Y.ordered||!1,Et=Y.languages||[],Xt=Y.available_languages||["EN","JP"],pt=q.replace(/_/g," ").replace(/\b\w/g,Nt=>Nt.toUpperCase());return j.jsx("div",{className:"bg-slate-700/50 rounded-lg p-2",children:j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"text-white text-xs font-semibold w-48 truncate",title:pt,children:pt}),_?j.jsx("div",{className:"text-white font-bold text-sm",children:tt}):j.jsxs("div",{className:"flex items-center gap-1.5",children:[j.jsx("button",{onClick:Nt=>st(ct.id,q,Nt),className:"w-6 h-6 bg-slate-600 hover:bg-slate-500 rounded text-white font-bold text-sm",children:""}),j.jsx("div",{className:"w-8 text-center",children:j.jsx("span",{className:"text-white font-bold text-sm",children:tt})}),j.jsx("button",{onClick:Nt=>G(ct.id,q,Nt),className:"w-6 h-6 bg-purple-600 hover:bg-purple-500 rounded text-white font-bold text-sm",children:"+"})]}),!_&&j.jsx("div",{className:"flex items-center gap-1.5",children:["EN","JP"].map(Nt=>{const qt=Et.includes(Nt),me=Xt.includes(Nt),pn=tt===0||!me;return j.jsx("button",{onClick:si=>!pn&&O(ct.id,q,Nt,si),disabled:pn,className:`px-2 py-0.5 rounded text-[10px] font-semibold transition-all min-w-[32px] ${qt?"bg-blue-600 text-white":pn?"bg-slate-800 text-slate-500 cursor-not-allowed opacity-40":"bg-slate-600 text-slate-300 hover:bg-slate-500"}`,children:Nt},Nt)})}),!_&&j.jsxs("div",{className:"flex items-center gap-1.5",children:[j.jsx("span",{className:"text-slate-400 text-[10px]",children:"Ordered"}),j.jsx("button",{onClick:Nt=>tt===0&&ye(ct.id,q,Nt),disabled:tt>0,className:`w-8 h-4 rounded-full transition-all relative ${it&&tt===0?"bg-yellow-600":"bg-slate-600"} ${tt>0?"opacity-40 cursor-not-allowed":""}`,children:j.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${it&&tt===0?"right-0.5":"left-0.5"}`})})]})]})},q)})})]})]}),j.jsx("button",{onClick:q=>{q.stopPropagation();const Y=rt.findIndex(Et=>Et.id===ct.id),tt=Y<rt.length-1?Y+1:0,it=rt[tt];dt(it),Ft(Object.keys(it.variations)[0])},className:"w-10 h-10 bg-slate-700/80 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-xl border border-purple-500/50 hover:border-purple-400 transition-all z-10 flex-shrink-0",children:""})]})}),j.jsxs("div",{className:"relative max-w-7xl mx-auto p-4 sm:p-6",children:[j.jsx("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 mb-6 border border-purple-500/20",children:j.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[j.jsx("div",{children:j.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.jsx("div",{className:"text-5xl",children:""}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent",children:"Yuka Morii Collection"}),j.jsx("p",{className:"text-purple-300 mt-1 text-sm",children:_?` Viewing ${x}'s Collection`:` ${a?.email}`})]})]})}),j.jsxs("div",{className:"flex gap-3",children:[!_&&j.jsx("button",{onClick:()=>yt(!0),className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-all",children:" Share"}),!_&&j.jsx("button",{onClick:Pt,className:"px-6 py-3 bg-slate-700 text-purple-200 rounded-xl font-semibold hover:bg-slate-600 transition-all",children:"Sign Out"})]})]})}),j.jsx("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-6 mb-6 border border-purple-500/20",children:j.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[j.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl border border-purple-500/20",children:[j.jsx("div",{className:"text-4xl font-bold text-purple-400",children:nt.total}),j.jsx("div",{className:"text-purple-200 text-sm font-medium mt-2",children:"Total Cards"})]}),j.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl border border-green-500/30",children:[j.jsx("div",{className:"text-4xl font-bold text-green-400",children:nt.owned}),j.jsx("div",{className:"text-green-200 text-sm font-medium mt-2",children:" Owned"})]}),j.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl border border-blue-500/30",children:[j.jsx("div",{className:"text-4xl font-bold text-blue-400",children:nt.ordered}),j.jsx("div",{className:"text-blue-200 text-sm font-medium mt-2",children:" Ordered"})]}),j.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl border border-slate-600",children:[j.jsx("div",{className:"text-4xl font-bold text-slate-400",children:nt.needed}),j.jsx("div",{className:"text-slate-300 text-sm font-medium mt-2",children:"Needed"})]}),j.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-900/40 to-purple-900/40 rounded-xl border border-blue-500/30",children:[j.jsxs("div",{className:"text-4xl font-bold text-blue-400",children:[nt.completion,"%"]}),j.jsx("div",{className:"text-blue-200 text-sm font-medium mt-2",children:"Owned %"})]})]})}),j.jsx("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-4 mb-6 border border-purple-500/20",children:j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"font-semibold text-purple-300 mb-2 block text-sm",children:" Status"}),j.jsx("div",{className:"flex flex-wrap gap-2",children:["all","yes","ordered","no"].map(q=>j.jsx("button",{onClick:()=>b(q),className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${S===q?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-slate-700 text-purple-200"}`,children:q==="all"?"All":q==="yes"?" Owned":q==="ordered"?" Ordered":" Need"},q))})]}),j.jsxs("div",{children:[j.jsx("label",{className:"font-semibold text-purple-300 mb-2 block text-sm",children:" Era"}),j.jsx("select",{value:M,onChange:q=>Z(q.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-purple-200 text-sm",children:St.map(q=>j.jsx("option",{value:q,children:q==="all"?"All Eras":q},q))})]}),j.jsxs("div",{children:[j.jsx("label",{className:"font-semibold text-purple-300 mb-2 block text-sm",children:" Sort"}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:()=>C("asc"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold ${A==="asc"?"bg-gradient-to-r from-green-600 to-teal-600 text-white":"bg-slate-700 text-purple-200"}`,children:" 1223"}),j.jsx("button",{onClick:()=>C("desc"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold ${A==="desc"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-slate-700 text-purple-200"}`,children:" 2231"})]})]})]})}),j.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-6 border border-purple-500/20",children:[j.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:[" Collection  ",rt.length," Cards"]}),j.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3",children:rt.map(q=>{const Y=q.variations||{},tt=Object.values(Y).reduce((qt,me)=>qt+(me.count||0),0),it=Y.reverse_holo&&Y.reverse_holo.count>0,Et=Object.keys(Y).some(qt=>qt!=="normal"&&qt!=="reverse_holo"&&Y[qt].count>0),Xt=Object.values(Y).some(qt=>qt.ordered===!0&&qt.count===0),pt=tt>0,Nt=()=>Y.burger_king_collection_2008?.count>0?j.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Burger_King_2020.svg/1024px-Burger_King_2020.svg.png",alt:"BK",className:"w-5 h-5 object-contain"}):Y.countdown_calendar?.count>0?j.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/9141/9141642.png",alt:"BK",className:"w-5 h-5 object-contain"}):Y.first_edition?.count>0?j.jsx("img",{src:"https://archives.bulbagarden.net/media/upload/0/0b/1st_edition_English.png",alt:"1st Ed",className:"w-5 h-5 object-contain"}):"";return j.jsxs("div",{onClick:()=>{_||(dt(q),Ft(Object.keys(q.variations)[0]))},className:"relative bg-slate-700 rounded-xl overflow-hidden transition-all duration-300 border-2 border-slate-600 hover:border-purple-500 cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20",children:[j.jsxs("div",{className:"aspect-[2/3] relative bg-slate-900",children:[j.jsx("img",{src:q.imageUrl,alt:q.name,className:"w-full h-full object-contain p-2"}),j.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[Object.values(Y).some(qt=>qt.languages?.includes("EN"))&&j.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg text-xs font-bold",children:""}),Object.values(Y).some(qt=>qt.languages?.includes("JP"))&&j.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg text-xs font-bold",children:""})]}),pt&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:j.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl",children:j.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:j.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),Xt&&!pt&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:j.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl",children:j.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3500/3500833.png",alt:"Ordered",className:"w-8 h-8 object-contain"})})}),j.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[tt>1&&j.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg",children:j.jsx("span",{className:"text-black text-xs font-bold",children:tt})}),it&&j.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg overflow-hidden border border-purple-400/50",children:j.jsx("img",{src:"https://static.dextcg.com/resources/variants/alternate/ReverseHoloVariant.webp",alt:"Reverse Holo",className:"w-5 h-5 object-contain invert"})}),Et&&j.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg",children:Nt()})]})]}),j.jsxs("div",{className:"p-2 bg-slate-900/50",children:[j.jsx("div",{className:"font-bold text-white text-xs truncate",children:q.name}),j.jsxs("div",{className:"text-purple-300 text-[10px] truncate",children:["#",q.number]})]})]},q.id)})}),rt.length===0&&j.jsxs("div",{className:"text-center text-purple-300 py-20",children:[j.jsx("div",{className:"text-7xl mb-6 opacity-50",children:""}),j.jsx("div",{className:"text-2xl font-semibold",children:"No cards match your filters"})]})]})]})]})}tA.createRoot(document.getElementById("root")).render(j.jsx(QS.StrictMode,{children:j.jsx(oI,{})}));
