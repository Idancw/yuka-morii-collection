(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Kv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var md={exports:{}},fo={};var g_;function Hb(){if(g_)return fo;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return fo.Fragment=t,fo.jsx=i,fo.jsxs=i,fo}var p_;function Gb(){return p_||(p_=1,md.exports=Hb()),md.exports}var x=Gb(),gd={exports:{}},Rt={};var y_;function Fb(){if(y_)return Rt;y_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),U=Symbol.iterator;function Z(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var rt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,tt={};function _t(O,Y,st){this.props=O,this.context=Y,this.refs=tt,this.updater=st||rt}_t.prototype.isReactComponent={},_t.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},_t.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function nt(){}nt.prototype=_t.prototype;function ft(O,Y,st){this.props=O,this.context=Y,this.refs=tt,this.updater=st||rt}var ne=ft.prototype=new nt;ne.constructor=ft,at(ne,_t.prototype),ne.isPureReactComponent=!0;var Yt=Array.isArray;function Ft(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,Y,st){var ot=st.ref;return{$$typeof:a,type:O,key:Y,ref:ot!==void 0?ot:null,props:st}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function fe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ft,Ft):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,st,ot,St){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var Pt=!1;if(O===null)Pt=!0;else switch(It){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(O.$$typeof){case a:case t:Pt=!0;break;case b:return Pt=O._init,G(Pt(O._payload),Y,st,ot,St)}}if(Pt)return St=St(O),Pt=ot===""?"."+fe(O,0):ot,Yt(St)?(st="",Pt!=null&&(st=Pt.replace(w,"$&/")+"/"),G(St,Y,st,"",function(Sn){return Sn})):St!=null&&(D(St)&&(St=V(St,st+(St.key==null||O&&O.key===St.key?"":(""+St.key).replace(w,"$&/")+"/")+Pt)),Y.push(St)),1;Pt=0;var Te=ot===""?".":ot+":";if(Yt(O))for(var te=0;te<O.length;te++)ot=O[te],It=Te+fe(ot,te),Pt+=G(ot,Y,st,It,St);else if(te=Z(O),typeof te=="function")for(O=te.call(O),te=0;!(ot=O.next()).done;)ot=ot.value,It=Te+fe(ot,te++),Pt+=G(ot,Y,st,It,St);else if(It==="object"){if(typeof O.then=="function")return G(we(O),Y,st,ot,St);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function it(O,Y,st){if(O==null)return O;var ot=[],St=0;return G(O,ot,"","",function(It){return Y.call(st,It,St++)}),ot}function mt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Kt={map:it,forEach:function(O,Y,st){it(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return it(O,function(){Y++}),Y},toArray:function(O){return it(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=A,Rt.Children=Kt,Rt.Component=_t,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=ft,Rt.StrictMode=r,Rt.Suspense=_,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=at({},O.props),St=O.key;if(Y!=null)for(It in Y.key!==void 0&&(St=""+Y.key),Y)!S.call(Y,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&Y.ref===void 0||(ot[It]=Y[It]);var It=arguments.length-2;if(It===1)ot.children=st;else if(1<It){for(var Pt=Array(It),Te=0;Te<It;Te++)Pt[Te]=arguments[Te+2];ot.children=Pt}return C(O.type,St,ot)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Rt.createElement=function(O,Y,st){var ot,St={},It=null;if(Y!=null)for(ot in Y.key!==void 0&&(It=""+Y.key),Y)S.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(St[ot]=Y[ot]);var Pt=arguments.length-2;if(Pt===1)St.children=st;else if(1<Pt){for(var Te=Array(Pt),te=0;te<Pt;te++)Te[te]=arguments[te+2];St.children=Te}if(O&&O.defaultProps)for(ot in Pt=O.defaultProps,Pt)St[ot]===void 0&&(St[ot]=Pt[ot]);return C(O,It,St)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:p,render:O}},Rt.isValidElement=D,Rt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:mt}},Rt.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},Rt.startTransition=function(O){var Y=I.T,st={};I.T=st;try{var ot=O(),St=I.S;St!==null&&St(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ft,Lt)}catch(It){Lt(It)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),I.T=Y}},Rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rt.use=function(O){return I.H.use(O)},Rt.useActionState=function(O,Y,st){return I.H.useActionState(O,Y,st)},Rt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Rt.useContext=function(O){return I.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Rt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Rt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Rt.useId=function(){return I.H.useId()},Rt.useImperativeHandle=function(O,Y,st){return I.H.useImperativeHandle(O,Y,st)},Rt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Rt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Rt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Rt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Rt.useReducer=function(O,Y,st){return I.H.useReducer(O,Y,st)},Rt.useRef=function(O){return I.H.useRef(O)},Rt.useState=function(O){return I.H.useState(O)},Rt.useSyncExternalStore=function(O,Y,st){return I.H.useSyncExternalStore(O,Y,st)},Rt.useTransition=function(){return I.H.useTransition()},Rt.version="19.2.3",Rt}var __;function sm(){return __||(__=1,gd.exports=Fb()),gd.exports}var Ae=sm();const Qb=Kv(Ae);var pd={exports:{}},mo={},yd={exports:{}},_d={};var v_;function Yb(){return v_||(v_=1,(function(a){function t(G,it){var mt=G.length;G.push(it);t:for(;0<mt;){var Lt=mt-1>>>1,Kt=G[Lt];if(0<o(Kt,it))G[Lt]=it,G[mt]=Kt,mt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var it=G[0],mt=G.pop();if(mt!==it){G[0]=mt;t:for(var Lt=0,Kt=G.length,O=Kt>>>1;Lt<O;){var Y=2*(Lt+1)-1,st=G[Y],ot=Y+1,St=G[ot];if(0>o(st,mt))ot<Kt&&0>o(St,st)?(G[Lt]=St,G[ot]=mt,Lt=ot):(G[Lt]=st,G[Y]=mt,Lt=Y);else if(ot<Kt&&0>o(St,mt))G[Lt]=St,G[ot]=mt,Lt=ot;else break t}}return it}function o(G,it){var mt=G.sortIndex-it.sortIndex;return mt!==0?mt:G.id-it.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],b=1,A=null,U=3,Z=!1,rt=!1,at=!1,tt=!1,_t=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function ne(G){for(var it=i(v);it!==null;){if(it.callback===null)r(v);else if(it.startTime<=G)r(v),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(v)}}function Yt(G){if(at=!1,ne(G),!rt)if(i(_)!==null)rt=!0,Ft||(Ft=!0,k());else{var it=i(v);it!==null&&we(Yt,it.startTime-G)}}var Ft=!1,I=-1,S=5,C=-1;function V(){return tt?!0:!(a.unstable_now()-C<S)}function D(){if(tt=!1,Ft){var G=a.unstable_now();C=G;var it=!0;try{t:{rt=!1,at&&(at=!1,nt(I),I=-1),Z=!0;var mt=U;try{e:{for(ne(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var Lt=A.callback;if(typeof Lt=="function"){A.callback=null,U=A.priorityLevel;var Kt=Lt(A.expirationTime<=G);if(G=a.unstable_now(),typeof Kt=="function"){A.callback=Kt,ne(G),it=!0;break e}A===i(_)&&r(_),ne(G)}else r(_);A=i(_)}if(A!==null)it=!0;else{var O=i(v);O!==null&&we(Yt,O.startTime-G),it=!1}}break t}finally{A=null,U=mt,Z=!1}it=void 0}}finally{it?k():Ft=!1}}}var k;if(typeof ft=="function")k=function(){ft(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,fe=w.port2;w.port1.onmessage=D,k=function(){fe.postMessage(null)}}else k=function(){_t(D,0)};function we(G,it){I=_t(function(){G(a.unstable_now())},it)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(G){switch(U){case 1:case 2:case 3:var it=3;break;default:it=U}var mt=U;U=it;try{return G()}finally{U=mt}},a.unstable_requestPaint=function(){tt=!0},a.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=U;U=G;try{return it()}finally{U=mt}},a.unstable_scheduleCallback=function(G,it,mt){var Lt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Lt+mt:Lt):mt=Lt,G){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=mt+Kt,G={id:b++,callback:it,priorityLevel:G,startTime:mt,expirationTime:Kt,sortIndex:-1},mt>Lt?(G.sortIndex=mt,t(v,G),i(_)===null&&G===i(v)&&(at?(nt(I),I=-1):at=!0,we(Yt,mt-Lt))):(G.sortIndex=Kt,t(_,G),rt||Z||(rt=!0,Ft||(Ft=!0,k()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var it=U;return function(){var mt=U;U=it;try{return G.apply(this,arguments)}finally{U=mt}}}})(_d)),_d}var E_;function Kb(){return E_||(E_=1,yd.exports=Yb()),yd.exports}var vd={exports:{}},ln={};var T_;function Xb(){if(T_)return ln;T_=1;var a=sm();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:v,implementation:b}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,b)},ln.flushSync=function(_){var v=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=b,r.d.f()}},ln.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},ln.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ln.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,A=p(b,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,Z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:U,fetchPriority:Z}):b==="script"&&r.d.X(_,{crossOrigin:A,integrity:U,fetchPriority:Z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ln.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},ln.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,A=p(b,v.crossOrigin);r.d.L(_,b,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ln.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},ln.requestFormReset=function(_){r.d.r(_)},ln.unstable_batchedUpdates=function(_,v){return _(v)},ln.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var b_;function Zb(){if(b_)return vd.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=Xb(),vd.exports}var S_;function Jb(){if(S_)return mo;S_=1;var a=Kb(),t=sm(),i=Zb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===l)return _(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,U=Symbol.for("react.element"),Z=Symbol.for("react.transitional.element"),rt=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case at:return"Fragment";case _t:return"Profiler";case tt:return"StrictMode";case Yt:return"Suspense";case Ft:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case rt:return"Portal";case ft:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}var we=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Lt=[],Kt=-1;function O(e){return{current:e}}function Y(e){0>Kt||(e.current=Lt[Kt],Lt[Kt]=null,Kt--)}function st(e,n){Kt++,Lt[Kt]=e.current,e.current=n}var ot=O(null),St=O(null),It=O(null),Pt=O(null);function Te(e,n){switch(st(It,n),st(St,e),st(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ot),st(ot,e)}function te(){Y(ot),Y(St),Y(It)}function Sn(e){e.memoizedState!==null&&st(Pt,e);var n=ot.current,s=zy(n,e.type);n!==s&&(st(St,e),st(ot,s))}function an(e){St.current===e&&(Y(ot),Y(St)),Pt.current===e&&(Y(Pt),oo._currentValue=mt)}var ps,ui;function mn(e){if(ps===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ps=n&&n[1]||"",ui=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+e+ui}var ys=!1;function Bi(e,n){if(!e||ys)return"";ys=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),j=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===j.length)for(l=R.length-1,c=j.length-1;1<=l&&0<=c&&R[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==j[c]){var F=`
`+R[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=c);break}}}finally{ys=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?mn(s):""}function _s(e,n){switch(e.tag){case 26:case 27:case 5:return mn(e.type);case 16:return mn("Lazy");case 13:return e.child!==n&&n!==null?mn("Suspense Fallback"):mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return mn("Activity");default:return""}}function vs(e){try{var n="",s=null;do n+=_s(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Re=a.unstable_scheduleCallback,ci=a.unstable_cancelCallback,fl=a.unstable_shouldYield,L=a.unstable_requestPaint,Q=a.unstable_now,W=a.unstable_getCurrentPriorityLevel,lt=a.unstable_ImmediatePriority,Et=a.unstable_UserBlockingPriority,Vt=a.unstable_NormalPriority,yt=a.unstable_LowPriority,pt=a.unstable_IdlePriority,Ge=a.log,xt=a.unstable_setDisableYieldValue,Mt=null,Xt=null;function Fe(e){if(typeof Ge=="function"&&xt(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Mt,e)}catch{}}var ce=Math.clz32?Math.clz32:Qo,Es=Math.log,Ts=Math.LN2;function Qo(e){return e>>>=0,e===0?32:31-(Es(e)/Ts|0)|0}var hi=256,gr=262144,De=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=fi(l):(g&=E,g!==0?c=fi(g):s||(s=E&~e,s!==0&&(c=fi(s))))):(E=l&~f,E!==0?c=fi(E):g!==0?c=fi(g):s||(s=l&~e,s!==0&&(c=fi(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function yh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function mi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _h(e,n,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-ce(s),X=1<<F;E[F]=0,R[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&yr(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ce(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function dl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ce(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function ml(e,n){var s=n&-n;return s=(s&42)!==0?1:_r(s),(s&(e.suspendedLanes|n))!==0?0:s}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ko(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Xn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Zn=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Zn,Qe="__reactProps$"+Zn,gi="__reactContainer$"+Zn,ia="__reactEvents$"+Zn,vh="__reactListeners$"+Zn,Xo="__reactHandles$"+Zn,Zo="__reactResources$"+Zn,pi="__reactMarker$"+Zn;function sa(e){delete e[Oe],delete e[Qe],delete e[ia],delete e[vh],delete e[Xo]}function yi(e){var n=e[Oe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gi]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Qy(e);e!==null;){if(s=e[Oe])return s;e=Qy(e)}return n}e=s,s=e.parentNode}return null}function Vn(e){if(e=e[Oe]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function _i(e){var n=e[Zo];return n||(n=e[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ve(e){e[pi]=!0}var gl=new Set,pl={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(pl[e]=n,e=0;e<n.length;e++)gl.add(n[e])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function Jo(e){return _e.call(vl,e)?!0:_e.call(_l,e)?!1:yl.test(e)?vl[e]=!0:(_l[e]=!0,!1)}function ra(e,n,s){if(Jo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function wn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Me(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ie(e){if(!e._valueTracker){var n=bs(e)?"checked":"value";e._valueTracker=El(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=bs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function gn(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,l,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Tl(e,g,Ye(n)):s!=null?Tl(e,g,Ye(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ye(E):e.removeAttribute("name")}function $o(e,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ie(e);return}s=s!=null?""+Ye(s):"",n=n!=null?""+Ye(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ie(e)}function Tl(e,n,s){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ss(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ye(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Wo(e,n,s){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ye(s):""}function As(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ye(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),ie(e)}function pn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&bl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&bl(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Al=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,bi=null;function Tr(e){var n=Vn(e);if(n&&(e=n.stateNode)){var s=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Qe]||null;if(!c)throw Error(r(90));aa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&vr(l)}break t;case"textarea":Wo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ss(e,!!s.multiple,n,!1)}}}var ua=!1;function Cs(e,n,s){if(ua)return e(n,s);ua=!0;try{var l=e(n);return l}finally{if(ua=!1,(Rs!==null||bi!==null)&&(Ku(),Rs&&(n=Rs,e=bi,bi=Rs=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function $n(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Un)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){br=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{br=!1}var Si=null,wl=null,Sr=null;function Rl(){if(Sr)return Sr;var e,n=wl,s=n.length,l,c="value"in Si?Si.value:Si.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Sr=c.slice(e,1<l?1-l:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Wn(){return!1}function Je(e){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:Wn,this.isPropagationStopped=Wn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Je(Gi),Is=A({},Gi,{view:0,detail:0}),Cl=Je(Is),xs,ca,wi,ha=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(xs=e.screenX-wi.screenX,ca=e.screenY-wi.screenY):ca=xs=0,wi=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Il=Je(ha),wr=A({},ha,{dataTransfer:0}),nu=Je(wr),iu=A({},Is,{relatedTarget:0}),Rr=Je(iu),xl=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),su=Je(xl),fa=A({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=Je(fa),au=A({},Gi,{data:0}),Ri=Je(au),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function Ns(){return cu}var fn=A({},Is,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=Je(fn),fu=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Je(fu),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Je(u),y=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Je(y),P=A({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Je(P),et=A({},Gi,{newState:0,oldState:0}),Nt=Je(et),Ce=[9,13,27,32],$t=Un&&"CompositionEvent"in window,pe=null;Un&&"documentMode"in document&&(pe=document.documentMode);var kn=Un&&"TextEvent"in window&&!pe,Ci=Un&&(!$t||pe&&8<pe&&11>=pe),ti=" ",ei=!1;function Cr(e,n){switch(e){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function dT(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(ei=!0,ti);case"textInput":return e=n.data,e===ti&&ei?null:e;default:return null}}function mT(e,n){if(ma)return e==="compositionend"||!$t&&Cr(e,n)?(e=Rl(),Sr=wl=Si=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gT[e.type]:n==="textarea"}function Zm(e,n,s,l){Rs?bi?bi.push(l):bi=[l]:Rs=l,n=ec(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,Dl=null;function pT(e){Oy(e,0)}function du(e){var n=An(e);if(vr(n))return e}function Jm(e,n){if(e==="change")return n}var $m=!1;if(Un){var Eh;if(Un){var Th="oninput"in document;if(!Th){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Th=typeof Wm.oninput=="function"}Eh=Th}else Eh=!1;$m=Eh&&(!document.documentMode||9<document.documentMode)}function tg(){Nl&&(Nl.detachEvent("onpropertychange",eg),Dl=Nl=null)}function eg(e){if(e.propertyName==="value"&&du(Dl)){var n=[];Zm(n,Dl,e,Mn(e)),Cs(pT,n)}}function yT(e,n,s){e==="focusin"?(tg(),Nl=n,Dl=s,Nl.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Dl)}function vT(e,n){if(e==="click")return du(n)}function ET(e,n){if(e==="input"||e==="change")return du(n)}function TT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:TT;function Ol(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!_e.call(n,c)||!Rn(e[c],n[c]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,n){var s=ng(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ng(s)}}function sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ti(e.document)}return n}function bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bT=Un&&"documentMode"in document&&11>=document.documentMode,ga=null,Sh=null,Vl=null,Ah=!1;function ag(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ah||ga==null||ga!==Ti(l)||(l=ga,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Ol(Vl,l)||(Vl=l,l=ec(Sh,"onSelect"),0<l.length&&(n=new Ai("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ga)))}function Ir(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pa={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},wh={},lg={};Un&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function xr(e){if(wh[e])return wh[e];if(!pa[e])return e;var n=pa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in lg)return wh[e]=n[s];return e}var og=xr("animationend"),ug=xr("animationiteration"),cg=xr("animationstart"),ST=xr("transitionrun"),AT=xr("transitionstart"),wT=xr("transitioncancel"),hg=xr("transitionend"),fg=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function ni(e,n){fg.set(e,n),vi(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],ya=0,Ch=0;function gu(){for(var e=ya,n=Ch=ya=0;n<e;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dg(s,c,f)}}function pu(e,n,s,l){Ln[ya++]=e,Ln[ya++]=n,Ln[ya++]=s,Ln[ya++]=l,Ch|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ih(e,n,s,l){return pu(e,n,s,l),yu(e)}function Nr(e,n){return pu(e,null,null,n),yu(e)}function dg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ce(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<eo)throw eo=0,Pf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function RT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,s,l){return new RT(e,n,s,l)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=Cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,l,c,f){var g=0;if(l=e,typeof e=="function")xh(e)&&(g=1);else if(typeof e=="string")g=Db(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Cn(31,s,n,c),e.elementType=C,e.lanes=f,e;case at:return Dr(s.children,c,f,n);case tt:g=8,c|=24;break;case _t:return e=Cn(12,s,n,c|2),e.elementType=_t,e.lanes=f,e;case Yt:return e=Cn(13,s,n,c),e.elementType=Yt,e.lanes=f,e;case Ft:return e=Cn(19,s,n,c),e.elementType=Ft,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case nt:g=9;break t;case ne:g=11;break t;case I:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Cn(g,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Dr(e,n,s,l){return e=Cn(7,e,l,n),e.lanes=s,e}function Nh(e,n,s){return e=Cn(6,e,null,n),e.lanes=s,e}function gg(e){var n=Cn(18,null,null,0);return n.stateNode=e,n}function Dh(e,n,s){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pg=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:vs(n)},pg.set(e,n),n)}return{value:e,source:n,stack:vs(n)}}var va=[],Ea=0,vu=null,Ml=0,zn=[],jn=0,Ds=null,Ii=1,xi="";function Yi(e,n){va[Ea++]=Ml,va[Ea++]=vu,vu=e,Ml=n}function yg(e,n,s){zn[jn++]=Ii,zn[jn++]=xi,zn[jn++]=Ds,Ds=e;var l=Ii;e=xi;var c=32-ce(l)-1;l&=~(1<<c),s+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ii=1<<32-ce(n)+c|s<<c|l,xi=f+e}else Ii=1<<f|s<<c|l,xi=e}function Oh(e){e.return!==null&&(Yi(e,1),yg(e,1,0))}function Vh(e){for(;e===vu;)vu=va[--Ea],va[Ea]=null,Ml=va[--Ea],va[Ea]=null;for(;e===Ds;)Ds=zn[--jn],zn[jn]=null,xi=zn[--jn],zn[jn]=null,Ii=zn[--jn],zn[jn]=null}function _g(e,n){zn[jn++]=Ii,zn[jn++]=xi,zn[jn++]=Ds,Ii=n.id,xi=n.overflow,Ds=e}var $e=null,de=null,Gt=!1,Os=null,Bn=!1,Mh=Error(r(519));function Vs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Pn(n,e)),Mh}function vg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Oe]=e,n[Qe]=l,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)kt(io[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),$o(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),As(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ky(n.textContent,s)?(l.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),l.onScroll!=null&&kt("scroll",n),l.onScrollEnd!=null&&kt("scrollend",n),l.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Vs(e,!0)}function Eg(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:$e=$e.return}}function Ta(e){if(e!==$e)return!1;if(!Gt)return Eg(e),Gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Wf(e.type,e.memoizedProps)),s=!s),s&&de&&Vs(e),Eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=Fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=Fy(e)}else n===27?(n=de,Ys(e.type)?(e=sd,sd=null,de=e):de=n):de=$e?Hn(e.stateNode.nextSibling):null;return!0}function Or(){de=$e=null,Gt=!1}function Uh(){var e=Os;return e!==null&&(En===null?En=e:En.push.apply(En,e),Os=null),e}function Ul(e){Os===null?Os=[e]:Os.push(e)}var kh=O(null),Vr=null,Ki=null;function Ms(e,n,s){st(kh,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=kh.current,Y(kh)}function Lh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ph(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Lh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Lh(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ba(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;Rn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Pt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}c=c.return}e!==null&&Ph(n,e,s,l),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Vr=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Tg(Vr,e)}function Tu(e,n){return Vr===null&&Mr(e),Tg(e,n)}function Tg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ki===null){if(e===null)throw Error(r(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return s}var CT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},IT=a.unstable_scheduleCallback,xT=a.unstable_NormalPriority,Ue={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new CT,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&IT(xT,function(){e.controller.abort()})}var Ll=null,jh=0,Sa=0,Aa=null;function NT(e,n){if(Ll===null){var s=Ll=[];jh=0,Sa=Gf(),Aa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return jh++,n.then(bg,bg),n}function bg(){if(--jh===0&&Ll!==null){Aa!==null&&(Aa.status="fulfilled");var e=Ll;Ll=null,Sa=0,Aa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Sg=G.S;G.S=function(e,n){ay=Q(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NT(e,n),Sg!==null&&Sg(e,n)};var Ur=O(null);function Bh(){var e=Ur.current;return e!==null?e:he.pooledCache}function bu(e,n){n===null?st(Ur,Ur.current):st(Ur,n.pool)}function Ag(){var e=Bh();return e===null?null:{parent:Ue._currentValue,pool:e}}var wa=Error(r(460)),qh=Error(r(474)),Su=Error(r(542)),Au={then:function(){}};function wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=he,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Lr=n,wa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lr=s,wa):s}}var Lr=null;function Cg(){if(Lr===null)throw Error(r(459));var e=Lr;return Lr=null,e}function Ig(e){if(e===wa||e===Su)throw Error(r(483))}var Ra=null,Pl=0;function wu(e){var n=Pl;return Pl+=1,Ra===null&&(Ra=[]),Rg(Ra,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xg(e){function n(M,N){if(e){var z=M.deletions;z===null?(M.deletions=[N],M.flags|=16):z.push(N)}}function s(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=Qi(M,N),M.index=0,M.sibling=null,M}function f(M,N,z){return M.index=z,e?(z=M.alternate,z!==null?(z=z.index,z<N?(M.flags|=67108866,N):z):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,z,K){return N===null||N.tag!==6?(N=Nh(z,M.mode,K),N.return=M,N):(N=c(N,z),N.return=M,N)}function R(M,N,z,K){var gt=z.type;return gt===at?F(M,N,z.props.children,K,z.key):N!==null&&(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&kr(gt)===N.type)?(N=c(N,z.props),zl(N,z),N.return=M,N):(N=_u(z.type,z.key,z.props,null,M.mode,K),zl(N,z),N.return=M,N)}function j(M,N,z,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Dh(z,M.mode,K),N.return=M,N):(N=c(N,z.children||[]),N.return=M,N)}function F(M,N,z,K,gt){return N===null||N.tag!==7?(N=Dr(z,M.mode,K,gt),N.return=M,N):(N=c(N,z),N.return=M,N)}function X(M,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Nh(""+N,M.mode,z),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Z:return z=_u(N.type,N.key,N.props,null,M.mode,z),zl(z,N),z.return=M,z;case rt:return N=Dh(N,M.mode,z),N.return=M,N;case S:return N=kr(N),X(M,N,z)}if(we(N)||k(N))return N=Dr(N,M.mode,z,null),N.return=M,N;if(typeof N.then=="function")return X(M,wu(N),z);if(N.$$typeof===ft)return X(M,Tu(M,N),z);Ru(M,N)}return null}function B(M,N,z,K){var gt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:E(M,N,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return z.key===gt?R(M,N,z,K):null;case rt:return z.key===gt?j(M,N,z,K):null;case S:return z=kr(z),B(M,N,z,K)}if(we(z)||k(z))return gt!==null?null:F(M,N,z,K,null);if(typeof z.then=="function")return B(M,N,wu(z),K);if(z.$$typeof===ft)return B(M,N,Tu(M,z),K);Ru(M,z)}return null}function H(M,N,z,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(z)||null,E(N,M,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return M=M.get(K.key===null?z:K.key)||null,R(N,M,K,gt);case rt:return M=M.get(K.key===null?z:K.key)||null,j(N,M,K,gt);case S:return K=kr(K),H(M,N,z,K,gt)}if(we(K)||k(K))return M=M.get(z)||null,F(N,M,K,gt,null);if(typeof K.then=="function")return H(M,N,z,wu(K),gt);if(K.$$typeof===ft)return H(M,N,z,Tu(N,K),gt);Ru(N,K)}return null}function ct(M,N,z,K){for(var gt=null,Zt=null,ht=N,Ot=N=0,jt=null;ht!==null&&Ot<z.length;Ot++){ht.index>Ot?(jt=ht,ht=null):jt=ht.sibling;var Jt=B(M,ht,z[Ot],K);if(Jt===null){ht===null&&(ht=jt);break}e&&ht&&Jt.alternate===null&&n(M,ht),N=f(Jt,N,Ot),Zt===null?gt=Jt:Zt.sibling=Jt,Zt=Jt,ht=jt}if(Ot===z.length)return s(M,ht),Gt&&Yi(M,Ot),gt;if(ht===null){for(;Ot<z.length;Ot++)ht=X(M,z[Ot],K),ht!==null&&(N=f(ht,N,Ot),Zt===null?gt=ht:Zt.sibling=ht,Zt=ht);return Gt&&Yi(M,Ot),gt}for(ht=l(ht);Ot<z.length;Ot++)jt=H(ht,M,Ot,z[Ot],K),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?Ot:jt.key),N=f(jt,N,Ot),Zt===null?gt=jt:Zt.sibling=jt,Zt=jt);return e&&ht.forEach(function($s){return n(M,$s)}),Gt&&Yi(M,Ot),gt}function Tt(M,N,z,K){if(z==null)throw Error(r(151));for(var gt=null,Zt=null,ht=N,Ot=N=0,jt=null,Jt=z.next();ht!==null&&!Jt.done;Ot++,Jt=z.next()){ht.index>Ot?(jt=ht,ht=null):jt=ht.sibling;var $s=B(M,ht,Jt.value,K);if($s===null){ht===null&&(ht=jt);break}e&&ht&&$s.alternate===null&&n(M,ht),N=f($s,N,Ot),Zt===null?gt=$s:Zt.sibling=$s,Zt=$s,ht=jt}if(Jt.done)return s(M,ht),Gt&&Yi(M,Ot),gt;if(ht===null){for(;!Jt.done;Ot++,Jt=z.next())Jt=X(M,Jt.value,K),Jt!==null&&(N=f(Jt,N,Ot),Zt===null?gt=Jt:Zt.sibling=Jt,Zt=Jt);return Gt&&Yi(M,Ot),gt}for(ht=l(ht);!Jt.done;Ot++,Jt=z.next())Jt=H(ht,M,Ot,Jt.value,K),Jt!==null&&(e&&Jt.alternate!==null&&ht.delete(Jt.key===null?Ot:Jt.key),N=f(Jt,N,Ot),Zt===null?gt=Jt:Zt.sibling=Jt,Zt=Jt);return e&&ht.forEach(function(qb){return n(M,qb)}),Gt&&Yi(M,Ot),gt}function ue(M,N,z,K){if(typeof z=="object"&&z!==null&&z.type===at&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:t:{for(var gt=z.key;N!==null;){if(N.key===gt){if(gt=z.type,gt===at){if(N.tag===7){s(M,N.sibling),K=c(N,z.props.children),K.return=M,M=K;break t}}else if(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&kr(gt)===N.type){s(M,N.sibling),K=c(N,z.props),zl(K,z),K.return=M,M=K;break t}s(M,N);break}else n(M,N);N=N.sibling}z.type===at?(K=Dr(z.props.children,M.mode,K,z.key),K.return=M,M=K):(K=_u(z.type,z.key,z.props,null,M.mode,K),zl(K,z),K.return=M,M=K)}return g(M);case rt:t:{for(gt=z.key;N!==null;){if(N.key===gt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){s(M,N.sibling),K=c(N,z.children||[]),K.return=M,M=K;break t}else{s(M,N);break}else n(M,N);N=N.sibling}K=Dh(z,M.mode,K),K.return=M,M=K}return g(M);case S:return z=kr(z),ue(M,N,z,K)}if(we(z))return ct(M,N,z,K);if(k(z)){if(gt=k(z),typeof gt!="function")throw Error(r(150));return z=gt.call(z),Tt(M,N,z,K)}if(typeof z.then=="function")return ue(M,N,wu(z),K);if(z.$$typeof===ft)return ue(M,N,Tu(M,z),K);Ru(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(s(M,N.sibling),K=c(N,z),K.return=M,M=K):(s(M,N),K=Nh(z,M.mode,K),K.return=M,M=K),g(M)):s(M,N)}return function(M,N,z,K){try{Pl=0;var gt=ue(M,N,z,K);return Ra=null,gt}catch(ht){if(ht===wa||ht===Su)throw ht;var Zt=Cn(29,ht,null,M.mode);return Zt.lanes=K,Zt.return=M,Zt}}}var Pr=xg(!0),Ng=xg(!1),Us=!1;function Hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=yu(e),dg(e,null,s),n}return pu(e,l,n,s),yu(e)}function jl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}function Fh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Qh=!1;function Bl(){if(Qh){var e=Aa;if(e!==null)throw e}}function ql(e,n,s,l){Qh=!1;var c=e.updateQueue;Us=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,j=R.next;R.next=null,g===null?f=j:g.next=j,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;g=0,F=j=R=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(zt&B)===B:(l&B)===B){B!==0&&B===Sa&&(Qh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;B=n;var ue=s;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){X=ct.call(ue,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,B=typeof ct=="function"?ct.call(ue,X,B):ct,B==null)break t;X=A({},X,B);break t;case 2:Us=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,R=X):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=j,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),qs|=g,e.lanes=g,e.memoizedState=X}}function Dg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Og(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Dg(s[e],n)}var Ca=O(null),Cu=O(0);function Vg(e,n){e=ss,st(Cu,e),st(Ca,n),ss=e|n.baseLanes}function Yh(){st(Cu,ss),st(Ca,Ca.current)}function Kh(){ss=Cu.current,Y(Ca),Y(Cu)}var In=O(null),qn=null;function Ps(e){var n=e.alternate;st(Ie,Ie.current&1),st(In,e),qn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(qn=e)}function Xh(e){st(Ie,Ie.current),st(In,e),qn===null&&(qn=e)}function Mg(e){e.tag===22?(st(Ie,Ie.current),st(In,e),qn===null&&(qn=e)):zs()}function zs(){st(Ie,Ie.current),st(In,In.current)}function xn(e){Y(In),qn===e&&(qn=null),Y(Ie)}var Ie=O(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||nd(s)||id(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Dt=null,le=null,ke=null,xu=!1,Ia=!1,zr=!1,Nu=0,Hl=0,xa=null,OT=0;function be(){throw Error(r(321))}function Zh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rn(e[s],n[s]))return!1;return!0}function Jh(e,n,s,l,c,f){return Zi=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?yp:df,zr=!1,f=s(l,c),zr=!1,Ia&&(f=kg(n,s,l,c)),Ug(e),f}function Ug(e){G.H=Ql;var n=le!==null&&le.next!==null;if(Zi=0,ke=le=Dt=null,xu=!1,Hl=0,xa=null,n)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&Eu(e)&&(Le=!0))}function kg(e,n,s,l){Dt=e;var c=0;do{if(Ia&&(xa=null),Hl=0,Ia=!1,25<=c)throw Error(r(301));if(c+=1,ke=le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=_p,f=n(s,l)}while(Ia);return f}function VT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(le!==null?le.memoizedState:null)!==e&&(Dt.flags|=1024),n}function $h(){var e=Nu!==0;return Nu=0,e}function Wh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function tf(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}Zi=0,ke=le=Dt=null,Ia=!1,Hl=Nu=0,xa=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Dt.memoizedState=ke=e:ke=ke.next=e,ke}function xe(){if(le===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var n=ke===null?Dt.memoizedState:ke.next;if(n!==null)ke=n,le=e;else{if(e===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ke===null?Dt.memoizedState=ke=e:ke=ke.next=e}return ke}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=Hl;return Hl+=1,xa===null&&(xa=[]),e=Rg(xa,e,n),n=Dt,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?yp:df),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===ft)return We(e)}throw Error(r(438,String(e)))}function ef(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Du(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=xe();return nf(n,le,e)}function nf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,R=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(zt&X)===X:(Zi&X)===X){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Sa&&(F=!0);else if((Zi&B)===B){j=j.next,B===Sa&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,Dt.lanes|=B,qs|=B;X=j.action,zr&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,Dt.lanes|=X,qs|=X;j=j.next}while(j!==null&&j!==n);if(R===null?g=f:R.next=E,!Rn(f,e.memoizedState)&&(Le=!0,F&&(s=Aa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sf(e){var n=xe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Rn(f,n.memoizedState)||(Le=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Lg(e,n,s){var l=Dt,c=xe(),f=Gt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!Rn((le||c).memoizedState,s);if(g&&(c.memoizedState=s,Le=!0),c=c.queue,lf(jg.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||ke!==null&&ke.memoizedState.tag&1){if(l.flags|=2048,Na(9,{destroy:void 0},zg.bind(null,l,c,s,n),null),he===null)throw Error(r(349));f||(Zi&127)!==0||Pg(l,n,s)}return s}function Pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Du(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zg(e,n,s,l){n.value=s,n.getSnapshot=l,Bg(n)&&qg(e)}function jg(e,n,s){return s(function(){Bg(n)&&qg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rn(e,s)}catch{return!0}}function qg(e){var n=Nr(e,2);n!==null&&Tn(n,e,2)}function rf(e){var n=dn();if(typeof e=="function"){var s=e;if(e=s(),zr){Fe(!0);try{s()}finally{Fe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function Hg(e,n,s,l){return e.baseState=s,nf(e,le,typeof l=="function"?l:Ji)}function MT(e,n,s,l,c){if(ku(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Gg(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(c,l),R=G.S;R!==null&&R(g,E),Fg(e,n,E)}catch(j){af(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(c,l),Fg(e,n,f)}catch(j){af(e,n,j)}}function Fg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Qg(e,n,l)},function(l){return af(e,n,l)}):Qg(e,n,s)}function Qg(e,n,s){n.status="fulfilled",n.value=s,Yg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Gg(e,s)))}function af(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Yg(n),n=n.next;while(n!==l)}e.action=null}function Yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kg(e,n){return n}function Xg(e,n){if(Gt){var s=he.formState;if(s!==null){t:{var l=Dt;if(Gt){if(de){e:{for(var c=de,f=Bn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Hn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){de=Hn(c.nextSibling),l=c.data==="F!";break t}}Vs(l)}l=!1}l&&(n=s[0])}}return s=dn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},s.queue=l,s=mp.bind(null,Dt,l),l.dispatch=s,l=rf(!1),f=ff.bind(null,Dt,!1,l.queue),l=dn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=MT.bind(null,Dt,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function Zg(e){var n=xe();return Jg(n,le,e)}function Jg(e,n,s){if(n=nf(e,n,Kg)[0],e=Vu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(g){throw g===wa?Su:g}else l=n;n=xe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,Na(9,{destroy:void 0},UT.bind(null,c,s),null)),[l,f,e]}function UT(e,n){e.action=n}function $g(e){var n=xe(),s=le;if(s!==null)return Jg(n,s,e);xe(),n=n.memoizedState,s=xe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Na(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Du(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Wg(){return xe().memoizedState}function Mu(e,n,s,l){var c=dn();Dt.flags|=e,c.memoizedState=Na(1|n,{destroy:void 0},s,l===void 0?null:l)}function Uu(e,n,s,l){var c=xe();l=l===void 0?null:l;var f=c.memoizedState.inst;le!==null&&l!==null&&Zh(l,le.memoizedState.deps)?c.memoizedState=Na(n,f,s,l):(Dt.flags|=e,c.memoizedState=Na(1|n,f,s,l))}function tp(e,n){Mu(8390656,8,e,n)}function lf(e,n){Uu(2048,8,e,n)}function kT(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Du(),Dt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ep(e){var n=xe().memoizedState;return kT({ref:n,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function np(e,n){return Uu(4,2,e,n)}function ip(e,n){return Uu(4,4,e,n)}function sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,s){s=s!=null?s.concat([e]):null,Uu(4,4,sp.bind(null,n,e),s)}function of(){}function ap(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Zh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function lp(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Zh(n,l[1]))return l[0];if(l=e(),zr){Fe(!0);try{e()}finally{Fe(!1)}}return s.memoizedState=[l,n],l}function uf(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(zt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=oy(),Dt.lanes|=e,qs|=e,s)}function op(e,n,s,l){return Rn(s,n)?s:Ca.current!==null?(e=uf(e,s,l),Rn(e,n)||(Le=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(zt&261930)===0?(Le=!0,e.memoizedState=s):(e=oy(),Dt.lanes|=e,qs|=e,n)}function up(e,n,s,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,ff(e,!1,n,s);try{var R=c(),j=G.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=DT(R,l);Fl(e,n,F,On(e))}else Fl(e,n,l,On(e))}catch(X){Fl(e,n,{then:function(){},status:"rejected",reason:X},On())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function LT(){}function cf(e,n,s,l){if(e.tag!==5)throw Error(r(476));var c=cp(e).queue;up(e,c,n,mt,s===null?LT:function(){return hp(e),s(l)})}function cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:mt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hp(e){var n=cp(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},On())}function hf(){return We(oo)}function fp(){return xe().memoizedState}function dp(){return xe().memoizedState}function PT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=On();e=ks(s);var l=Ls(n,e,s);l!==null&&(Tn(l,n,s),jl(l,n,s)),n={cache:zh()},e.payload=n;return}n=n.return}}function zT(e,n,s){var l=On();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?gp(n,s):(s=Ih(e,n,s,l),s!==null&&(Tn(s,e,l),pp(s,n,l)))}function mp(e,n,s){var l=On();Fl(e,n,s,l)}function Fl(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))gp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,Rn(E,g))return pu(e,n,c,0),he===null&&gu(),!1}catch{}if(s=Ih(e,n,c,l),s!==null)return Tn(s,e,l),pp(s,n,l),!0}return!1}function ff(e,n,s,l){if(l={lane:2,revertLane:Gf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(r(479))}else n=Ih(e,s,l,2),n!==null&&Tn(n,e,2)}function ku(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function gp(e,n){Ia=xu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function pp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}var Ql={readContext:We,use:Ou,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};Ql.useEffectEvent=be;var yp={readContext:We,use:Ou,useCallback:function(e,n){return dn().memoizedState=[e,n===void 0?null:n],e},useContext:We,useEffect:tp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Mu(4194308,4,sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var s=dn();n=n===void 0?null:n;var l=e();if(zr){Fe(!0);try{e()}finally{Fe(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=dn();if(s!==void 0){var c=s(n);if(zr){Fe(!0);try{s(n)}finally{Fe(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=zT.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var n=dn();return e={current:e},n.memoizedState=e},useState:function(e){e=rf(e);var n=e.queue,s=mp.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:of,useDeferredValue:function(e,n){var s=dn();return uf(s,e,n)},useTransition:function(){var e=rf(!1);return e=up.bind(null,Dt,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Dt,c=dn();if(Gt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),he===null)throw Error(r(349));(zt&127)!==0||Pg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,tp(jg.bind(null,l,f,e),[e]),l.flags|=2048,Na(9,{destroy:void 0},zg.bind(null,l,f,s,n),null),s},useId:function(){var e=dn(),n=he.identifierPrefix;if(Gt){var s=xi,l=Ii;s=(l&~(1<<32-ce(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=OT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var n=dn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ff.bind(null,Dt,!0,s),s.dispatch=n,[e,n]},useMemoCache:ef,useCacheRefresh:function(){return dn().memoizedState=PT.bind(null,Dt)},useEffectEvent:function(e){var n=dn(),s={impl:e};return n.memoizedState=s,function(){if((Wt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},df={readContext:We,use:Ou,useCallback:ap,useContext:We,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:lp,useReducer:Vu,useRef:Wg,useState:function(){return Vu(Ji)},useDebugValue:of,useDeferredValue:function(e,n){var s=xe();return op(s,le.memoizedState,e,n)},useTransition:function(){var e=Vu(Ji)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:Lg,useId:fp,useHostTransitionStatus:hf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=xe();return Hg(s,le,e,n)},useMemoCache:ef,useCacheRefresh:dp};df.useEffectEvent=ep;var _p={readContext:We,use:Ou,useCallback:ap,useContext:We,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:lp,useReducer:sf,useRef:Wg,useState:function(){return sf(Ji)},useDebugValue:of,useDeferredValue:function(e,n){var s=xe();return le===null?uf(s,e,n):op(s,le.memoizedState,e,n)},useTransition:function(){var e=sf(Ji)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:Lg,useId:fp,useHostTransitionStatus:hf,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var s=xe();return le!==null?Hg(s,le,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ef,useCacheRefresh:dp};_p.useEffectEvent=ep;function mf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var gf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=On(),c=ks(l);c.payload=n,s!=null&&(c.callback=s),n=Ls(e,c,l),n!==null&&(Tn(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=On(),c=ks(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Ls(e,c,l),n!==null&&(Tn(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=On(),l=ks(s);l.tag=2,n!=null&&(l.callback=n),n=Ls(e,l,s),n!==null&&(Tn(n,e,s),jl(n,e,s))}};function vp(e,n,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ol(s,l)||!Ol(c,f):!0}function Ep(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&gf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Tp(e){mu(e)}function bp(e){console.error(e)}function Sp(e){mu(e)}function Lu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ap(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function pf(e,n,s){return s=ks(s),s.tag=3,s.payload={element:null},s.callback=function(){Lu(e,n)},s}function wp(e){return e=ks(e),e.tag=3,e}function Rp(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Ap(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ap(n,s,l),typeof c!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function jT(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ba(n,s,c,!0),s=In.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?Xu():s.alternate===null&&Se===0&&(Se=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Au?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Bf(e,l,c)),!1;case 22:return s.flags|=65536,l===Au?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Bf(e,l,c)),!1}throw Error(r(435,s.tag))}return Bf(e,l,c),Xu(),!1}if(Gt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Mh&&(e=Error(r(422),{cause:l}),Ul(Pn(e,s)))):(l!==Mh&&(n=Error(r(423),{cause:l}),Ul(Pn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Pn(l,s),c=pf(e.stateNode,l,c),Fh(e,c),Se!==4&&(Se=2)),!1;var f=Error(r(520),{cause:l});if(f=Pn(f,s),to===null?to=[f]:to.push(f),Se!==4&&(Se=2),n===null)return!0;l=Pn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=pf(s.stateNode,l,e),Fh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=wp(c),Rp(c,e,s,l),Fh(s,c),!1}s=s.return}while(s!==null);return!1}var yf=Error(r(461)),Le=!1;function tn(e,n,s,l){n.child=e===null?Ng(n,null,s,l):Pr(n,e.child,s,l)}function Cp(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Mr(n),l=Jh(e,n,s,g,f,c),E=$h(),e!==null&&!Le?(Wh(e,n,c),$i(e,n,c)):(Gt&&E&&Oh(n),n.flags|=1,tn(e,n,l,c),n.child)}function Ip(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,xp(e,n,f,l,c)):(e=_u(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!wf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ol,s(g,l)&&e.ref===n.ref)return $i(e,n,c)}return n.flags|=1,e=Qi(f,l),e.ref=n.ref,e.return=n,n.child=e}function xp(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(Ol(f,l)&&e.ref===n.ref)if(Le=!1,n.pendingProps=l=f,wf(e,c))(e.flags&131072)!==0&&(Le=!0);else return n.lanes=e.lanes,$i(e,n,c)}return _f(e,n,s,l,c)}function Np(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Dp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Vg(n,f):Yh(),Mg(n);else return l=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(bu(n,f.cachePool),Vg(n,f),zs(),n.memoizedState=null):(e!==null&&bu(n,null),Yh(),zs());return tn(e,n,c,s),n.child}function Yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,s,l,c){var f=Bh();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Yh(),Mg(n),e!==null&&ba(e,n,l,!0),n.childLanes=c,null}function Pu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Op(e,n,s){return Pr(n,e.child,null,s),e=Pu(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function BT(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(l.mode==="hidden")return e=Pu(n,l),n.lanes=536870912,Yl(null,e);if(Xh(n),(e=de)?(e=Gy(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=gg(e),s.return=n,n.child=s,$e=n,de=null)):e=null,e===null)throw Vs(n);return n.lanes=536870912,null}return Pu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Xh(n),c)if(n.flags&256)n.flags&=-257,n=Op(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Le||ba(e,n,s,!1),c=(s&e.childLanes)!==0,Le||c){if(l=he,l!==null&&(g=ml(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Nr(e,g),Tn(l,e,g),yf;Xu(),n=Op(e,n,s)}else e=f.treeContext,de=Hn(g.nextSibling),$e=n,Gt=!0,Os=null,Bn=!1,e!==null&&_g(n,e),n=Pu(n,l),n.flags|=4096;return n}return e=Qi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function _f(e,n,s,l,c){return Mr(n),s=Jh(e,n,s,l,void 0,c),l=$h(),e!==null&&!Le?(Wh(e,n,c),$i(e,n,c)):(Gt&&l&&Oh(n),n.flags|=1,tn(e,n,s,c),n.child)}function Vp(e,n,s,l,c,f){return Mr(n),n.updateQueue=null,s=kg(n,l,s,c),Ug(e),l=$h(),e!==null&&!Le?(Wh(e,n,f),$i(e,n,f)):(Gt&&l&&Oh(n),n.flags|=1,tn(e,n,s,f),n.child)}function Mp(e,n,s,l,c){if(Mr(n),n.stateNode===null){var f=_a,g=s.contextType;typeof g=="object"&&g!==null&&(f=We(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Hh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?We(g):_a,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(mf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&gf.enqueueReplaceState(f,f.state,null),ql(n,l,f,c),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=jr(s,E);f.props=R;var j=f.context,F=s.contextType;g=_a,typeof F=="object"&&F!==null&&(g=We(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Ep(n,f,l,g),Us=!1;var B=n.memoizedState;f.state=B,ql(n,l,f,c),Bl(),j=n.memoizedState,E||B!==j||Us?(typeof X=="function"&&(mf(n,s,X,l),j=n.memoizedState),(R=Us||vp(n,s,R,l,B,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Gh(e,n),g=n.memoizedProps,F=jr(s,g),f.props=F,X=n.pendingProps,B=f.context,j=s.contextType,R=_a,typeof j=="object"&&j!==null&&(R=We(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==R)&&Ep(n,f,l,R),Us=!1,B=n.memoizedState,f.state=B,ql(n,l,f,c),Bl();var H=n.memoizedState;g!==X||B!==H||Us||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(mf(n,s,E,l),H=n.memoizedState),(F=Us||vp(n,s,F,l,B,H,R)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,zu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Pr(n,e.child,null,c),n.child=Pr(n,null,s,c)):tn(e,n,s,c),n.memoizedState=f.state,e=n.child):e=$i(e,n,c),e}function Up(e,n,s,l){return Or(),n.flags|=256,tn(e,n,s,l),n.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(e){return{baseLanes:e,cachePool:Ag()}}function Tf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Dn),e}function kp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(c?Ps(n):zs(),(e=de)?(e=Gy(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=gg(e),s.return=n,n.child=s,$e=n,de=null)):e=null,e===null)throw Vs(n);return id(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(zs(),c=n.mode,E=ju({mode:"hidden",children:E},c),l=Dr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ef(s),l.childLanes=Tf(e,g,s),n.memoizedState=vf,Yl(null,l)):(Ps(n),bf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Sf(e,n,s)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),E=l.fallback,c=n.mode,l=ju({mode:"visible",children:l.children},c),E=Dr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Pr(n,e.child,null,s),l=n.child,l.memoizedState=Ef(s),l.childLanes=Tf(e,g,s),n.memoizedState=vf,n=Yl(null,l));else if(Ps(n),id(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,Ul({value:l,source:null,stack:null}),n=Sf(e,n,s)}else if(Le||ba(e,n,s,!1),g=(s&e.childLanes)!==0,Le||g){if(g=he,g!==null&&(l=ml(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Nr(e,l),Tn(g,e,l),yf;nd(E)||Xu(),n=Sf(e,n,s)}else nd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,de=Hn(E.nextSibling),$e=n,Gt=!0,Os=null,Bn=!1,e!==null&&_g(n,e),n=bf(n,l.children),n.flags|=4096);return n}return c?(zs(),E=l.fallback,c=n.mode,R=e.child,j=R.sibling,l=Qi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Qi(j,E):(E=Dr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Yl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Ef(s):(c=E.cachePool,c!==null?(R=Ue._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Ag(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Tf(e,g,s),n.memoizedState=vf,Yl(e.child,l)):(Ps(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function bf(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=Cn(22,e,null,n),e.lanes=0,e}function Sf(e,n,s){return Pr(n,e.child,null,s),e=bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Lh(e.return,n,s)}function Af(e,n,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Pp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Ie.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Ie,g),tn(e,n,l,s),l=Gt?Ml:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,s,n);else if(e.tag===19)Lp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Iu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Af(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Iu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Af(n,!0,s,null,f,l);break;case"together":Af(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ba(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function wf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function qT(e,n,s){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Ms(n,Ue,e.memoizedState.cache),Or();break;case 27:case 5:Sn(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?kp(e,n,s):(Ps(n),e=$i(e,n,s),e!==null?e.sibling:null);Ps(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ba(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Pp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(Ie,Ie.current),l)break;return null;case 22:return n.lanes=0,Np(e,n,s,n.pendingProps);case 24:Ms(n,Ue,e.memoizedState.cache)}return $i(e,n,s)}function zp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Le=!0;else{if(!wf(e,s)&&(n.flags&128)===0)return Le=!1,qT(e,n,s);Le=(e.flags&131072)!==0}else Le=!1,Gt&&(n.flags&1048576)!==0&&yg(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")xh(e)?(l=jr(e,l),n.tag=1,n=Mp(null,n,e,l,s)):(n.tag=0,n=_f(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===ne){n.tag=11,n=Cp(null,n,e,l,s);break t}else if(c===I){n.tag=14,n=Ip(null,n,e,l,s);break t}}throw n=fe(e)||e,Error(r(306,n,""))}}return n;case 0:return _f(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=jr(l,n.pendingProps),Mp(e,n,l,c,s);case 3:t:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Gh(e,n),ql(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ms(n,Ue,l),l!==f.cache&&Ph(n,[Ue],s,!0),Bl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,l,s);break t}else if(l!==c){c=Pn(Error(r(424)),n),Ul(c),n=Up(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=Hn(e.firstChild),$e=n,Gt=!0,Os=null,Bn=!0,s=Ng(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),l===c){n=$i(e,n,s);break t}tn(e,n,l,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Gt||(s=n.type,e=n.pendingProps,l=nc(It.current).createElement(s),l[Oe]=n,l[Qe]=e,en(l,s,e),Ve(l),n.stateNode=l):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Sn(n),e===null&&Gt&&(l=n.stateNode=Yy(n.type,n.pendingProps,It.current),$e=n,Bn=!0,c=de,Ys(n.type)?(sd=c,de=Hn(l.firstChild)):de=c),tn(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((c=l=de)&&(l=_b(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,$e=n,de=Hn(l.firstChild),Bn=!1,c=!0):c=!1),c||Vs(n)),Sn(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Wf(c,f)?l=null:g!==null&&Wf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Jh(e,n,VT,null,null,s),oo._currentValue=c),zu(e,n),tn(e,n,l,s),n.child;case 6:return e===null&&Gt&&((e=s=de)&&(s=vb(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,$e=n,de=null,e=!0):e=!1),e||Vs(n)),null;case 13:return kp(e,n,s);case 4:return Te(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Pr(n,null,l,s):tn(e,n,l,s),n.child;case 11:return Cp(e,n,n.type,n.pendingProps,s);case 7:return tn(e,n,n.pendingProps,s),n.child;case 8:return tn(e,n,n.pendingProps.children,s),n.child;case 12:return tn(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ms(n,n.type,l.value),tn(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Mr(n),c=We(c),l=l(c),n.flags|=1,tn(e,n,l,s),n.child;case 14:return Ip(e,n,n.type,n.pendingProps,s);case 15:return xp(e,n,n.type,n.pendingProps,s);case 19:return Pp(e,n,s);case 31:return BT(e,n,s);case 22:return Np(e,n,s,n.pendingProps);case 24:return Mr(n),l=We(Ue),e===null?(c=Bh(),c===null&&(c=he,f=zh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Hh(n),Ms(n,Ue,c)):((e.lanes&s)!==0&&(Gh(e,n),ql(n,null,null,s),Bl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ms(n,Ue,l)):(l=f.cache,Ms(n,Ue,l),l!==c.cache&&Ph(n,[Ue],s,!0))),tn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Wi(e){e.flags|=4}function Rf(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(fy())e.flags|=8192;else throw Lr=Au,qh}else e.flags&=-16777217}function jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e_(n))if(fy())e.flags|=8192;else throw Lr=Au,qh}function Bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yo():536870912,e.lanes|=n,Ma|=n)}function Kl(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function HT(e,n,s){var l=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Xi(Ue),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Uh())),me(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(me(n),jp(n,f)):(me(n),Rf(n,c,null,l,s))):f?f!==e.memoizedState?(Wi(n),me(n),jp(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Wi(n),me(n),Rf(n,c,e,l,s)),null;case 27:if(an(n),s=It.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return me(n),null}e=ot.current,Ta(n)?vg(n):(e=Yy(c,l,s),n.stateNode=e,Wi(n))}return me(n),null;case 5:if(an(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Wi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return me(n),null}if(f=ot.current,Ta(n))vg(n);else{var g=nc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Oe]=n,f[Qe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(en(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Wi(n)}}return me(n),Rf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=It.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ky(e.nodeValue,s)),e||Vs(n,!0)}else e=nc(e).createTextNode(l),e[Oe]=n,n.stateNode=e}return me(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ta(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Oe]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else s=Uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return me(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ta(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Oe]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),c=!1}else c=Uh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Bu(n,n.updateQueue),me(n),null);case 4:return te(),e===null&&Kf(n.stateNode.containerInfo),me(n),null;case 10:return Xi(n.type),me(n),null;case 19:if(Y(Ie),l=n.memoizedState,l===null)return me(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Kl(l,!1);else{if(Se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Kl(l,!1),e=f.updateQueue,n.updateQueue=e,Bu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)mg(s,e),s=s.sibling;return st(Ie,Ie.current&1|2),Gt&&Yi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Q()>Qu&&(n.flags|=128,c=!0,Kl(l,!1),n.lanes=4194304)}else{if(!c)if(e=Iu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Bu(n,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Gt)return me(n),null}else 2*Q()-l.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,c=!0,Kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Q(),e.sibling=null,s=Ie.current,st(Ie,c?s&1|2:s&1),Gt&&Yi(n,l.treeForkCount),e):(me(n),null);case 22:case 23:return xn(n),Kh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),s=n.updateQueue,s!==null&&Bu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Ur),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Ue),me(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function GT(e,n){switch(Vh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ue),te(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(r(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ie),null;case 4:return te(),null;case 10:return Xi(n.type),null;case 22:case 23:return xn(n),Kh(),e!==null&&Y(Ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ue),null;case 25:return null;default:return null}}function Bp(e,n){switch(Vh(n),n.tag){case 3:Xi(Ue),te();break;case 26:case 27:case 5:an(n);break;case 4:te();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Y(Ie);break;case 10:Xi(n.type);break;case 22:case 23:xn(n),Kh(),e!==null&&Y(Ur);break;case 24:Xi(Ue)}}function Xl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){re(n,n.return,E)}}function js(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=s,j=E;try{j()}catch(F){re(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){re(n,n.return,F)}}function qp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Og(n,s)}catch(l){re(e,e.return,l)}}}function Hp(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){re(e,n,l)}}function Zl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){re(e,n,c)}}function Ni(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){re(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){re(e,n,c)}else s.current=null}function Gp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){re(e,e.return,c)}}function Cf(e,n,s){try{var l=e.stateNode;fb(l,e.type,s,n),l[Qe]=n}catch(c){re(e,e.return,c)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function If(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(l!==4&&(l===27&&Ys(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(xf(e,n,s),e=e.sibling;e!==null;)xf(e,n,s),e=e.sibling}function qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ys(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Qp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);en(n,l,s),n[Oe]=e,n[Qe]=s}catch(f){re(e,e.return,f)}}var ts=!1,Pe=!1,Nf=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function FT(e,n){if(e=e.containerInfo,Jf=uc,e=rg(e),bh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,j=0,F=0,X=e,B=null;e:for(;;){for(var H;X!==s||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===s&&++j===c&&(E=g),B===f&&++F===l&&(R=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for($f={focusedElem:e,selectionRange:s},uc=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=jr(s.type,c);e=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){re(s,s.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ed(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function Kp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),l&4&&Xl(5,s);break;case 1:if(ns(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){re(s,s.return,g)}else{var c=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){re(s,s.return,g)}}l&64&&qp(s),l&512&&Zl(s,s.return);break;case 3:if(ns(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Og(e,n)}catch(g){re(s,s.return,g)}}break;case 27:n===null&&l&4&&Qp(s);case 26:case 5:ns(e,s),n===null&&l&4&&Gp(s),l&512&&Zl(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),l&4&&Jp(e,s);break;case 13:ns(e,s),l&4&&$p(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=tb.bind(null,s),Eb(e,s))));break;case 22:if(l=s.memoizedState!==null||ts,!l){n=n!==null&&n.memoizedState!==null||Pe,c=ts;var f=Pe;ts=l,(Pe=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=c,Pe=f}break;case 30:break;default:ns(e,s)}}function Xp(e){var n=e.alternate;n!==null&&(e.alternate=null,Xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,yn=!1;function es(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Mt,s)}catch{}switch(s.tag){case 26:Pe||Ni(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pe||Ni(s,n);var l=ye,c=yn;Ys(s.type)&&(ye=s.stateNode,yn=!1),es(e,n,s),ro(s.stateNode),ye=l,yn=c;break;case 5:Pe||Ni(s,n);case 6:if(l=ye,c=yn,ye=null,es(e,n,s),ye=l,yn=c,ye!==null)if(yn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){re(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){re(s,n,f)}break;case 18:ye!==null&&(yn?(e=ye,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):qy(ye,s.stateNode));break;case 4:l=ye,c=yn,ye=s.stateNode.containerInfo,yn=!0,es(e,n,s),ye=l,yn=c;break;case 0:case 11:case 14:case 15:js(2,s,n),Pe||js(4,s,n),es(e,n,s);break;case 1:Pe||(Ni(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Hp(s,n,l)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:Pe=(l=Pe)||s.memoizedState!==null,es(e,n,s),Pe=l;break;default:es(e,n,s)}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){re(n,n.return,s)}}}function $p(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){re(n,n.return,s)}}function QT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(r(435,e.tag))}}function Hu(e,n){var s=QT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=eb.bind(null,e,l);l.then(c,c)}})}function _n(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){ye=E.stateNode,yn=!1;break t}break;case 5:ye=E.stateNode,yn=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(ye===null)throw Error(r(160));Zp(f,g,c),ye=null,yn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}var ii=null;function Wp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),l&4&&(js(3,e,e.return),Xl(3,e),js(5,e,e.return));break;case 1:_n(n,e),vn(e),l&512&&(Pe||s===null||Ni(s,s.return)),l&64&&ts&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=ii;if(_n(n,e),vn(e),l&512&&(Pe||s===null||Ni(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[pi]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),en(f,l,s),f[Oe]=e,Ve(f),l=f;break t;case"link":var g=Wy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),en(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Wy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),en(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Oe]=e,Ve(f),l=f}e.stateNode=l}else t_(c,e.type,e.stateNode);else e.stateNode=$y(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?t_(c,e.type,e.stateNode):$y(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,s.memoizedProps)}break;case 27:_n(n,e),vn(e),l&512&&(Pe||s===null||Ni(s,s.return)),s!==null&&l&4&&Cf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(_n(n,e),vn(e),l&512&&(Pe||s===null||Ni(s,s.return)),e.flags&32){c=e.stateNode;try{pn(c,"")}catch(ct){re(e,e.return,ct)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Cf(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Nf=!0);break;case 6:if(_n(n,e),vn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ct){re(e,e.return,ct)}}break;case 3:if(rc=null,c=ii,ii=ic(n.containerInfo),_n(n,e),ii=c,vn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ct){re(e,e.return,ct)}Nf&&(Nf=!1,ty(e));break;case 4:l=ii,ii=ic(e.stateNode.containerInfo),_n(n,e),vn(e),ii=l;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hu(e,l)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fu=Q()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hu(e,l)));break;case 22:c=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,j=ts,F=Pe;if(ts=j||c,Pe=F||R,_n(n,e),Pe=F,ts=j,vn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||ts||Pe||Br(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){re(R,R.return,ct)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(ct){re(R,R.return,ct)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;c?Hy(H,!0):Hy(R.stateNode,!1)}catch(ct){re(R,R.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Hu(e,s))));break;case 19:_n(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hu(e,l)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Fp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=If(e);qu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(pn(g,""),s.flags&=-33);var E=If(e);qu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,j=If(e);xf(e,j,R);break;default:throw Error(r(161))}}catch(F){re(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kp(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Br(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hp(n,n.return,s),Br(n);break;case 27:ro(n.stateNode);case 26:case 5:Ni(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(c,f,s),Xl(4,f);break;case 1:if(is(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){re(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Dg(R[c],E)}catch(j){re(l,l.return,j)}}s&&g&64&&qp(f),Zl(f,f.return);break;case 27:Qp(f);case 26:case 5:is(c,f,s),s&&l===null&&g&4&&Gp(f),Zl(f,f.return);break;case 12:is(c,f,s);break;case 31:is(c,f,s),s&&g&4&&Jp(c,f);break;case 13:is(c,f,s),s&&g&4&&$p(c,f);break;case 22:f.memoizedState===null&&is(c,f,s),Zl(f,f.return);break;case 30:break;default:is(c,f,s)}n=n.sibling}}function Df(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&kl(s))}function Of(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function si(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,s,l),n=n.sibling}function ey(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,s,l),c&2048&&Xl(9,n);break;case 1:si(e,n,s,l);break;case 3:si(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(c&2048){si(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){re(n,n.return,R)}}else si(e,n,s,l);break;case 31:si(e,n,s,l);break;case 13:si(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?si(e,n,s,l):Jl(e,n):f._visibility&2?si(e,n,s,l):(f._visibility|=2,Da(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Df(g,n);break;case 24:si(e,n,s,l),c&2048&&Of(n.alternate,n);break;default:si(e,n,s,l)}}function Da(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,R,c),Xl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Da(f,g,E,R,c):Jl(f,g):(F._visibility|=2,Da(f,g,E,R,c)),c&&j&2048&&Df(g.alternate,g);break;case 24:Da(f,g,E,R,c),c&&j&2048&&Of(g.alternate,g);break;default:Da(f,g,E,R,c)}n=n.sibling}}function Jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Jl(s,l),c&2048&&Df(l.alternate,l);break;case 24:Jl(s,l),c&2048&&Of(l.alternate,l);break;default:Jl(s,l)}n=n.sibling}}var $l=8192;function Oa(e,n,s){if(e.subtreeFlags&$l)for(e=e.child;e!==null;)ny(e,n,s),e=e.sibling}function ny(e,n,s){switch(e.tag){case 26:Oa(e,n,s),e.flags&$l&&e.memoizedState!==null&&Ob(s,ii,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,s);break;case 3:case 4:var l=ii;ii=ic(e.stateNode.containerInfo),Oa(e,n,s),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,Oa(e,n,s),$l=l):Oa(e,n,s));break;default:Oa(e,n,s)}}function iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ke=l,ry(l,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&js(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):Wl(e);break;default:Wl(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ke=l,ry(l,e)}iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:js(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function ry(e,n){for(;Ke!==null;){var s=Ke;switch(s.tag){case 0:case 11:case 15:js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ke=l;else t:for(s=e;Ke!==null;){l=Ke;var c=l.sibling,f=l.return;if(Xp(l),l===s){Ke=null;break t}if(c!==null){c.return=f,Ke=c;break t}Ke=f}}}var YT={getCacheForType:function(e){var n=We(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return We(Ue).controller.signal}},KT=typeof WeakMap=="function"?WeakMap:Map,Wt=0,he=null,Ut=null,zt=0,se=0,Nn=null,Bs=!1,Va=!1,Vf=!1,ss=0,Se=0,qs=0,qr=0,Mf=0,Dn=0,Ma=0,to=null,En=null,Uf=!1,Fu=0,ay=0,Qu=1/0,Yu=null,Hs=null,Be=0,Gs=null,Ua=null,rs=0,kf=0,Lf=null,ly=null,eo=0,Pf=null;function On(){return(Wt&2)!==0&&zt!==0?zt&-zt:G.T!==null?Gf():Ko()}function oy(){if(Dn===0)if((zt&536870912)===0||Gt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Dn=e}else Dn=536870912;return e=In.current,e!==null&&(e.flags|=32),Dn}function Tn(e,n,s){(e===he&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Fs(e,zt,Dn,!1)),pr(e,s),((Wt&2)===0||e!==he)&&(e===he&&((Wt&2)===0&&(qr|=s),Se===4&&Fs(e,zt,Dn,!1)),Di(e))}function uy(e,n,s){if((Wt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),c=l?JT(e,n):jf(e,n,!0),f=l;do{if(c===0){Va&&!l&&Fs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!XT(s)){c=jf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=to;var R=E.current.memoizedState.isDehydrated;if(R&&(ka(E,g).flags|=256),g=jf(E,g,!1),g!==2){if(Vf&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,c=4;break t}f=En,En=c,f!==null&&(En===null?En=f:En.push.apply(En,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ka(e,0),Fs(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Fs(l,n,Dn,!Bs);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Fu+300-Q(),10<c)){if(Fs(l,n,Dn,!Bs),di(l,0,!0)!==0)break t;rs=n,l.timeoutHandle=jy(cy.bind(null,l,s,En,Yu,Uf,n,Dn,qr,Ma,Bs,f,"Throttled",-0,0),c);break t}cy(l,s,En,Yu,Uf,n,Dn,qr,Ma,Bs,f,null,-0,0)}}break}while(!0);Di(e)}function cy(e,n,s,l,c,f,g,E,R,j,F,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},ny(n,f,X);var ct=(f&62914560)===f?Fu-Q():(f&4194048)===f?ay-Q():0;if(ct=Vb(X,ct),ct!==null){rs=f,e.cancelPendingCommit=ct(_y.bind(null,e,n,f,s,l,c,g,E,R,F,X,null,B,H)),Fs(e,f,g,!j);return}}_y(e,n,f,s,l,c,g,E,R)}function XT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!Rn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(e,n,s,l){n&=~Mf,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&yr(e,s,n)}function Ku(){return(Wt&6)===0?(no(0),!1):!0}function zf(){if(Ut!==null){if(se===0)var e=Ut.return;else e=Ut,Ki=Vr=null,tf(e),Ra=null,Pl=0,e=Ut;for(;e!==null;)Bp(e.alternate,e),e=e.return;Ut=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,gb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,zf(),he=e,Ut=s=Qi(e.current,null),zt=n,se=0,Nn=null,Bs=!1,Va=Kn(e,n),Vf=!1,Ma=Dn=Mf=qr=qs=Se=0,En=to=null,Uf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=e[c],l&=~f}return ss=n,gu(),s}function hy(e,n){Dt=null,G.H=Ql,n===wa||n===Su?(n=Cg(),se=3):n===qh?(n=Cg(),se=4):se=n===yf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Ut===null&&(Se=1,Lu(e,Pn(n,e.current)))}function fy(){var e=In.current;return e===null?!0:(zt&4194048)===zt?qn===null:(zt&62914560)===zt||(zt&536870912)!==0?e===qn:!1}function dy(){var e=G.H;return G.H=Ql,e===null?Ql:e}function my(){var e=G.A;return G.A=YT,e}function Xu(){Se=4,Bs||(zt&4194048)!==zt&&In.current!==null||(Va=!0),(qs&134217727)===0&&(qr&134217727)===0||he===null||Fs(he,zt,Dn,!1)}function jf(e,n,s){var l=Wt;Wt|=2;var c=dy(),f=my();(he!==e||zt!==n)&&(Yu=null,ka(e,n)),n=!1;var g=Se;t:do try{if(se!==0&&Ut!==null){var E=Ut,R=Nn;switch(se){case 8:zf(),g=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var j=se;if(se=0,Nn=null,La(e,E,R,j),s&&Va){g=0;break t}break;default:j=se,se=0,Nn=null,La(e,E,R,j)}}ZT(),g=Se;break}catch(F){hy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ki=Vr=null,Wt=l,G.H=c,G.A=f,Ut===null&&(he=null,zt=0,gu()),g}function ZT(){for(;Ut!==null;)gy(Ut)}function JT(e,n){var s=Wt;Wt|=2;var l=dy(),c=my();he!==e||zt!==n?(Yu=null,Qu=Q()+500,ka(e,n)):Va=Kn(e,n);t:do try{if(se!==0&&Ut!==null){n=Ut;var f=Nn;e:switch(se){case 1:se=0,Nn=null,La(e,n,f,1);break;case 2:case 9:if(wg(f)){se=0,Nn=null,py(n);break}n=function(){se!==2&&se!==9||he!==e||(se=7),Di(e)},f.then(n,n);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:wg(f)?(se=0,Nn=null,py(n)):(se=0,Nn=null,La(e,n,f,7));break;case 5:var g=null;switch(Ut.tag){case 26:g=Ut.memoizedState;case 5:case 27:var E=Ut;if(g?e_(g):E.stateNode.complete){se=0,Nn=null;var R=E.sibling;if(R!==null)Ut=R;else{var j=E.return;j!==null?(Ut=j,Zu(j)):Ut=null}break e}}se=0,Nn=null,La(e,n,f,5);break;case 6:se=0,Nn=null,La(e,n,f,6);break;case 8:zf(),Se=6;break t;default:throw Error(r(462))}}$T();break}catch(F){hy(e,F)}while(!0);return Ki=Vr=null,G.H=l,G.A=c,Wt=s,Ut!==null?0:(he=null,zt=0,gu(),Se)}function $T(){for(;Ut!==null&&!fl();)gy(Ut)}function gy(e){var n=zp(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?Zu(e):Ut=n}function py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Vp(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Vp(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:tf(n);default:Bp(s,n),n=Ut=mg(n,ss),n=zp(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Ut=n}function La(e,n,s,l){Ki=Vr=null,tf(n),Ra=null,Pl=0;var c=n.return;try{if(jT(e,c,n,s,zt)){Se=1,Lu(e,Pn(s,e.current)),Ut=null;return}}catch(f){if(c!==null)throw Ut=c,f;Se=1,Lu(e,Pn(s,e.current)),Ut=null;return}n.flags&32768?(Gt||l===1?e=!0:Va||(zt&536870912)!==0?e=!1:(Bs=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),yy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){yy(n,Bs);return}e=n.return;var s=HT(n.alternate,n,ss);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Se===0&&(Se=5)}function yy(e,n){do{var s=GT(e.alternate,e);if(s!==null){s.flags&=32767,Ut=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=s}while(e!==null);Se=6,Ut=null}function _y(e,n,s,l,c,f,g,E,R){e.cancelPendingCommit=null;do Ju();while(Be!==0);if((Wt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ch,_h(e,s,f,g,E,R),e===he&&(Ut=he=null,zt=0),Ua=n,Gs=e,rs=s,kf=f,Lf=c,ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nb(Vt,function(){return Sy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,g=Wt,Wt|=4;try{FT(e,n,s)}finally{Wt=g,it.p=c,G.T=l}}Be=1,vy(),Ey(),Ty()}}function vy(){if(Be===1){Be=0;var e=Gs,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var c=Wt;Wt|=4;try{Wp(n,e);var f=$f,g=rg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&sg(E.ownerDocument.documentElement,E)){if(R!==null&&bh(E)){var j=R.start,F=R.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,Tt=Math.min(R.start,ct),ue=R.end===void 0?Tt:Math.min(R.end,ct);!H.extend&&Tt>ue&&(g=ue,ue=Tt,Tt=g);var M=ig(E,Tt),N=ig(E,ue);if(M&&N&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var z=X.createRange();z.setStart(M.node,M.offset),H.removeAllRanges(),Tt>ue?(H.addRange(z),H.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),H.addRange(z))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}uc=!!Jf,$f=Jf=null}finally{Wt=c,it.p=l,G.T=s}}e.current=n,Be=2}}function Ey(){if(Be===2){Be=0;var e=Gs,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var c=Wt;Wt|=4;try{Kp(e,n.alternate,n)}finally{Wt=c,it.p=l,G.T=s}}Be=3}}function Ty(){if(Be===4||Be===3){Be=0,L();var e=Gs,n=Ua,s=rs,l=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Ua=Gs=null,by(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Hs=null),qi(s),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Mt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}(rs&3)!==0&&Ju(),Di(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Pf?eo++:(eo=0,Pf=e):eo=0,no(0)}}function by(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function Ju(){return vy(),Ey(),Ty(),Sy()}function Sy(){if(Be!==5)return!1;var e=Gs,n=kf;kf=0;var s=qi(rs),l=G.T,c=it.p;try{it.p=32>s?32:s,G.T=null,s=Lf,Lf=null;var f=Gs,g=rs;if(Be=0,Ua=Gs=null,rs=0,(Wt&6)!==0)throw Error(r(331));var E=Wt;if(Wt|=4,sy(f.current),ey(f,f.current,g,s),Wt=E,no(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Mt,f)}catch{}return!0}finally{it.p=c,G.T=l,by(e,n)}}function Ay(e,n,s){n=Pn(s,n),n=pf(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(pr(e,2),Di(e))}function re(e,n,s){if(e.tag===3)Ay(e,e,s);else for(;n!==null;){if(n.tag===3){Ay(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){e=Pn(s,e),s=wp(2),l=Ls(n,s,2),l!==null&&(Rp(s,l,n,e),pr(l,2),Di(l));break}}n=n.return}}function Bf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new KT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Vf=!0,c.add(s),e=WT.bind(null,e,n,s),n.then(e,e))}function WT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,he===e&&(zt&s)===s&&(Se===4||Se===3&&(zt&62914560)===zt&&300>Q()-Fu?(Wt&2)===0&&ka(e,0):Mf|=s,Ma===zt&&(Ma=0)),Di(e)}function wy(e,n){n===0&&(n=Yo()),e=Nr(e,n),e!==null&&(pr(e,n),Di(e))}function tb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),wy(e,s)}function eb(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),wy(e,s)}function nb(e,n){return Re(e,n)}var $u=null,Pa=null,qf=!1,Wu=!1,Hf=!1,Qs=0;function Di(e){e!==Pa&&e.next===null&&(Pa===null?$u=Pa=e:Pa=Pa.next=e),Wu=!0,qf||(qf=!0,sb())}function no(e,n){if(!Hf&&Wu){Hf=!0;do for(var s=!1,l=$u;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,xy(l,f))}else f=zt,f=di(l,l===he?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Kn(l,f)||(s=!0,xy(l,f));l=l.next}while(s);Hf=!1}}function ib(){Ry()}function Ry(){Wu=qf=!1;var e=0;Qs!==0&&mb()&&(e=Qs);for(var n=Q(),s=null,l=$u;l!==null;){var c=l.next,f=Cy(l,n);f===0?(l.next=null,s===null?$u=c:s.next=c,c===null&&(Pa=s)):(s=l,(e!==0||(f&3)!==0)&&(Wu=!0)),l=c}Be!==0&&Be!==5||no(e),Qs!==0&&(Qs=0)}function Cy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=c[g];R===-1?((E&s)===0||(E&l)!==0)&&(c[g]=yh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=he,s=zt,s=di(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(se===2||se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ci(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ci(l),qi(s)){case 2:case 8:s=Et;break;case 32:s=Vt;break;case 268435456:s=pt;break;default:s=Vt}return l=Iy.bind(null,e),s=Re(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ci(l),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var l=zt;return l=di(e,e===he?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(uy(e,l,n),Cy(e,Q()),e.callbackNode!=null&&e.callbackNode===s?Iy.bind(null,e):null)}function xy(e,n){if(Ju())return null;uy(e,n,!0)}function sb(){pb(function(){(Wt&6)!==0?Re(lt,ib):Ry()})}function Gf(){if(Qs===0){var e=Sa;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Qs=e}return Qs}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Dy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function rb(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ny((c[Qe]||null).action),g=l.submitter;g&&(n=(n=g[Qe]||null)?Ny(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ai("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var R=g?Dy(c,g):new FormData(c);cf(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Dy(c,g):new FormData(c),cf(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Ff=0;Ff<Rh.length;Ff++){var Qf=Rh[Ff],ab=Qf.toLowerCase(),lb=Qf[0].toUpperCase()+Qf.slice(1);ni(ab,"on"+lb)}ni(og,"onAnimationEnd"),ni(ug,"onAnimationIteration"),ni(cg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(ST,"onTransitionRun"),ni(AT,"onTransitionStart"),ni(wT,"onTransitionCancel"),ni(hg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Oy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){mu(F)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){mu(F)}c.currentTarget=null,f=R}}}}function kt(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var l=e+"__bubble";s.has(l)||(Vy(n,e,2,!1),s.add(l))}function Yf(e,n,s){var l=0;n&&(l|=4),Vy(s,e,l,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[tc]){e[tc]=!0,gl.forEach(function(s){s!=="selectionchange"&&(ob.has(s)||Yf(s,!1,e),Yf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Yf("selectionchange",!1,n))}}function Vy(e,n,s,l){switch(o_(n)){case 2:var c=kb;break;case 8:c=Lb;break;default:c=ud}s=c.bind(null,n,s,e),c=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Xf(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=yi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Cs(function(){var j=f,F=Mn(s),X=[];t:{var B=fg.get(e);if(B!==void 0){var H=Ai,ct=e;switch(e){case"keypress":if(Ar(s)===0)break t;case"keydown":case"keyup":H=hu;break;case"focusin":ct="focus",H=Rr;break;case"focusout":ct="blur",H=Rr;break;case"beforeblur":case"afterblur":H=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case og:case ug:case cg:H=su;break;case hg:H=T;break;case"scroll":case"scrollend":H=Cl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=Nt}var Tt=(n&4)!==0,ue=!Tt&&(e==="scroll"||e==="scrollend"),M=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var N=j,z;N!==null;){var K=N;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||M===null||(K=$n(N,M),K!=null&&Tt.push(so(N,K,z))),ue)break;N=N.return}0<Tt.length&&(B=new H(B,ct,null,s,F),X.push({event:B,listeners:Tt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Al&&(ct=s.relatedTarget||s.fromElement)&&(yi(ct)||ct[gi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=s.relatedTarget||s.toElement,H=j,ct=ct?yi(ct):null,ct!==null&&(ue=h(ct),Tt=ct.tag,ct!==ue||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(H=null,ct=j),H!==ct)){if(Tt=Il,K="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Fi,K="onPointerLeave",M="onPointerEnter",N="pointer"),ue=H==null?B:An(H),z=ct==null?B:An(ct),B=new Tt(K,N+"leave",H,s,F),B.target=ue,B.relatedTarget=z,K=null,yi(F)===j&&(Tt=new Tt(M,N+"enter",ct,s,F),Tt.target=z,Tt.relatedTarget=ue,K=Tt),ue=K,H&&ct)e:{for(Tt=ub,M=H,N=ct,z=0,K=M;K;K=Tt(K))z++;K=0;for(var gt=N;gt;gt=Tt(gt))K++;for(;0<z-K;)M=Tt(M),z--;for(;0<K-z;)N=Tt(N),K--;for(;z--;){if(M===N||N!==null&&M===N.alternate){Tt=M;break e}M=Tt(M),N=Tt(N)}Tt=null}else Tt=null;H!==null&&My(X,B,H,Tt,!1),ct!==null&&ue!==null&&My(X,ue,ct,Tt,!0)}}t:{if(B=j?An(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Zt=Jm;else if(Xm(B))if($m)Zt=ET;else{Zt=_T;var ht=yT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&la(j.elementType)&&(Zt=Jm):Zt=vT;if(Zt&&(Zt=Zt(e,j))){Zm(X,Zt,s,F);break t}ht&&ht(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Tl(B,"number",B.value)}switch(ht=j?An(j):window,e){case"focusin":(Xm(ht)||ht.contentEditable==="true")&&(ga=ht,Sh=j,Vl=null);break;case"focusout":Vl=Sh=ga=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,ag(X,s,F);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":ag(X,s,F)}var Ot;if($t)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ma?Cr(e,s)&&(jt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(Ci&&s.locale!=="ko"&&(ma||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ma&&(Ot=Rl()):(Si=F,wl="value"in Si?Si.value:Si.textContent,ma=!0)),ht=ec(j,jt),0<ht.length&&(jt=new Ri(jt,e,null,s,F),X.push({event:jt,listeners:ht}),Ot?jt.data=Ot:(Ot=da(s),Ot!==null&&(jt.data=Ot)))),(Ot=kn?dT(e,s):mT(e,s))&&(jt=ec(j,"onBeforeInput"),0<jt.length&&(ht=new Ri("onBeforeInput","beforeinput",null,s,F),X.push({event:ht,listeners:jt}),ht.data=Ot)),rb(X,e,j,s,F)}Oy(X,n)})}function so(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$n(e,s),c!=null&&l.unshift(so(e,c,f)),c=$n(e,n),c!=null&&l.push(so(e,c,f))),e.tag===3)return l;e=e.return}return[]}function ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||j===null||(R=j,c?(j=$n(s,f),j!=null&&g.unshift(so(s,j,R))):c||(j=$n(s,f),j!=null&&g.push(so(s,j,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function Uy(e){return(typeof e=="string"?e:""+e).replace(cb,`
`).replace(hb,"")}function ky(e,n){return n=Uy(n),Uy(e)===n}function oe(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(e,""+l);break;case"className":wn(e,"class",l);break;case"tabIndex":wn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){wn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=oa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&oe(e,n,"name",c.name,c,null),oe(e,n,"formEncType",c.formEncType,c,null),oe(e,n,"formMethod",c.formMethod,c,null),oe(e,n,"formTarget",c.formTarget,c,null)):(oe(e,n,"encType",c.encType,c,null),oe(e,n,"method",c.method,c,null),oe(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=oa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":kt("beforetoggle",e),kt("toggle",e),ra(e,"popover",l);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ra(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,ra(e,s,l))}}function Zf(e,n,s,l,c,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ra(e,s,l)}}}function en(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:oe(e,n,f,g,s,null)}}c&&oe(e,n,"srcSet",s.srcSet,s,null),l&&oe(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=g=c=null,R=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:oe(e,n,l,F,s,null)}}$o(e,f,E,R,j,g,c,!1);return;case"select":kt("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:oe(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Ss(e,!!l,n,!1):s!=null&&Ss(e,!!l,s,!0);return;case"textarea":kt("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:oe(e,n,g,E,s,null)}As(e,l,c,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":oe(e,n,R,l,s,null));return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(l=0;l<io.length;l++)kt(io[l],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:oe(e,n,j,l,s,null)}return;default:if(la(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Zf(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&oe(e,n,E,l,s,null))}function fb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,j=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(H)||oe(e,n,H,null,l,X)}}for(var B in l){var H=l[B];if(X=s[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&oe(e,n,B,H,l,X)}}aa(e,g,E,R,j,F,f,c);return;case"select":H=g=E=B=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||oe(e,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&oe(e,n,c,f,l,R)}n=E,s=g,l=H,B!=null?Ss(e,!!s,B,!1):!!l!=!!s&&(n!=null?Ss(e,!!s,n,!0):Ss(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(e,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&oe(e,n,g,c,l,f)}Wo(e,B,H);return;case"option":for(var ct in s)B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:oe(e,n,ct,null,l,B));for(R in l)B=l[R],H=s[R],l.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null)&&(R==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":oe(e,n,R,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)B=s[Tt],s.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&oe(e,n,Tt,null,l,B);for(j in l)if(B=l[j],H=s[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:oe(e,n,j,B,l,H)}return;default:if(la(n)){for(var ue in s)B=s[ue],s.hasOwnProperty(ue)&&B!==void 0&&!l.hasOwnProperty(ue)&&Zf(e,n,ue,void 0,l,B);for(F in l)B=l[F],H=s[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Zf(e,n,F,B,l,H);return}}for(var M in s)B=s[M],s.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&oe(e,n,M,null,l,B);for(X in l)B=l[X],H=s[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||oe(e,n,X,B,l,H)}function Ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Ly(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var R=s[l],j=R.startTime;if(j>E)break;var F=R.transferSize,X=R.initiatorType;F&&Ly(X)&&(R=R.responseEnd,g+=F*(R<E?1:(E-j)/(R-j)))}if(--l,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jf=null,$f=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var td=null;function mb(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(yb)}:jy;function yb(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function qy(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),qa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ro(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ro(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ro(e.ownerDocument.body);s=c}while(s);qa(n)}function Hy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ed(s),sa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function _b(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function vb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$?"||e.data==="$~"}function id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Eb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sd=null;function Fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Yy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var Gn=new Map,Ky=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=it.d;it.d={f:Tb,r:bb,D:Sb,C:Ab,L:wb,m:Rb,X:Ib,S:Cb,M:xb};function Tb(){var e=as.f(),n=Ku();return e||n}function bb(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?hp(n):as.r(e)}var za=typeof document>"u"?null:document;function Xy(e,n,s){var l=za;if(l&&typeof n=="string"&&n){var c=gn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ky.has(c)||(Ky.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),en(n,"link",e),Ve(n),l.head.appendChild(n)))}}function Sb(e){as.D(e),Xy("dns-prefetch",e,null)}function Ab(e,n){as.C(e,n),Xy("preconnect",e,n)}function wb(e,n,s){as.L(e,n,s);var l=za;if(l&&e&&n){var c='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+gn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+gn(s.imageSizes)+'"]')):c+='[href="'+gn(e)+'"]';var f=c;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}Gn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),en(n,"link",e),Ve(n),l.head.appendChild(n)))}}function Rb(e,n){as.m(e,n);var s=za;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!Gn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(f)))return}l=s.createElement("link"),en(l,"link",e),Ve(l),s.head.appendChild(l)}}}function Cb(e,n,s){as.S(e,n,s);var l=za;if(l&&e){var c=_i(l).hoistableStyles,f=ja(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ao(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&rd(e,s);var R=g=l.createElement("link");Ve(R),en(R,"link",e),R._p=new Promise(function(j,F){R.onload=j,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function Ib(e,n){as.X(e,n);var s=za;if(s&&e){var l=_i(s).hoistableScripts,c=Ba(e),f=l.get(c);f||(f=s.querySelector(lo(c)),f||(e=A({src:e,async:!0},n),(n=Gn.get(c))&&ad(e,n),f=s.createElement("script"),Ve(f),en(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function xb(e,n){as.M(e,n);var s=za;if(s&&e){var l=_i(s).hoistableScripts,c=Ba(e),f=l.get(c);f||(f=s.querySelector(lo(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Gn.get(c))&&ad(e,n),f=s.createElement("script"),Ve(f),en(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zy(e,n,s,l){var c=(c=It.current)?ic(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=_i(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=_i(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(ao(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||Nb(c,e,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=_i(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ja(e){return'href="'+gn(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Nb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",s),Ve(n),e.head.appendChild(n))}function Ba(e){return'[src="'+gn(e)+'"]'}function lo(e){return"script[async]"+e}function $y(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+gn(s.href)+'"]');if(l)return n.instance=l,Ve(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ve(l),en(l,"style",c),sc(l,s.precedence,e),n.instance=l;case"stylesheet":c=ja(s.href);var f=e.querySelector(ao(c));if(f)return n.state.loading|=4,n.instance=f,Ve(f),f;l=Jy(s),(c=Gn.get(c))&&rd(l,c),f=(e.ownerDocument||e).createElement("link"),Ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),en(f,"link",l),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(c=e.querySelector(lo(f)))?(n.instance=c,Ve(c),c):(l=s,(c=Gn.get(f))&&(l=A({},s),ad(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ve(c),en(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,sc(l,s.precedence,e));return n.instance}function sc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function Wy(e,n,s){if(rc===null){var l=new Map,c=rc=new Map;c.set(s,l)}else c=rc,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[pi]||f[Oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function t_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Db(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function e_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ob(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ja(l.href),f=n.querySelector(ao(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ve(f);return}f=n.ownerDocument||n,l=Jy(l),(c=Gn.get(c))&&rd(l,c),f=f.createElement("link"),Ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),en(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ld=0;function Vb(e,n){return e.stylesheets&&e.count===0&&oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*db());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(Mb,e),lc=null,ac.call(e))}function Mb(e,n){if(!(n.state.loading&4)){var s=lc.get(e);if(s)var l=s.get(null);else{s=new Map,lc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=ac.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:ft,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Ub(e,n,s,l,c,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function n_(e,n,s,l,c,f,g,E,R,j,F,X){return e=new Ub(e,n,s,g,R,j,F,X,E),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Hh(f),e}function i_(e){return e?(e=_a,e):_a}function s_(e,n,s,l,c,f){c=i_(c),l.context===null?l.context=c:l.pendingContext=c,l=ks(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ls(e,l,n),s!==null&&(Tn(s,e,n),jl(s,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function od(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function a_(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&Tn(n,e,67108864),od(e,67108864)}}function l_(e){if(e.tag===13||e.tag===31){var n=On();n=_r(n);var s=Nr(e,n);s!==null&&Tn(s,e,n),od(e,n)}}var uc=!0;function kb(e,n,s,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,ud(e,n,s,l)}finally{it.p=f,G.T=c}}function Lb(e,n,s,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,ud(e,n,s,l)}finally{it.p=f,G.T=c}}function ud(e,n,s,l){if(uc){var c=cd(l);if(c===null)Xf(e,n,l,cc,s),u_(e,l);else if(zb(c,e,n,s,l))l.stopPropagation();else if(u_(e,l),n&4&&-1<Pb.indexOf(e)){for(;c!==null;){var f=Vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}Di(f),(Wt&6)===0&&(Qu=Q()+500,no(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&Tn(E,f,2),Ku(),od(f,2)}if(f=cd(l),f===null&&Xf(e,n,l,cc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xf(e,n,l,null,s)}}function cd(e){return e=Mn(e),hd(e)}var cc=null;function hd(e){if(cc=null,e=yi(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W()){case lt:return 2;case Et:return 8;case Vt:case yt:return 32;case pt:return 268435456;default:return 32}default:return 32}}var fd=!1,Ks=null,Xs=null,Zs=null,uo=new Map,co=new Map,Js=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ho(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Vn(n),n!==null&&a_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function zb(e,n,s,l,c){switch(n){case"focusin":return Ks=ho(Ks,e,n,s,l,c),!0;case"dragenter":return Xs=ho(Xs,e,n,s,l,c),!0;case"mouseover":return Zs=ho(Zs,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return uo.set(f,ho(uo.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,co.set(f,ho(co.get(f)||null,e,n,s,l,c)),!0}return!1}function c_(e){var n=yi(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){l_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Xn(e.priority,function(){l_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=cd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Vn(s),n!==null&&a_(n),e.blockedOn=s,!1;n.shift()}return!0}function h_(e,n,s){hc(e)&&s.delete(n)}function jb(){fd=!1,Ks!==null&&hc(Ks)&&(Ks=null),Xs!==null&&hc(Xs)&&(Xs=null),Zs!==null&&hc(Zs)&&(Zs=null),uo.forEach(h_),co.forEach(h_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,fd||(fd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jb)))}var dc=null;function f_(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(hd(l||s)===null)continue;break}var f=Vn(s);f!==null&&(e.splice(n,3),n-=3,cf(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function qa(e){function n(R){return fc(R,e)}Ks!==null&&fc(Ks,e),Xs!==null&&fc(Xs,e),Zs!==null&&fc(Zs,e),uo.forEach(n),co.forEach(n);for(var s=0;s<Js.length;s++){var l=Js[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Js.length&&(s=Js[0],s.blockedOn===null);)c_(s),s.blockedOn===null&&Js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Qe]||null;if(typeof f=="function")g||f_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Qe]||null)E=g.formAction;else if(hd(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),f_(s)}}}function d_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function dd(e){this._internalRoot=e}mc.prototype.render=dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=On();s_(s,l,e,n,null,null)},mc.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s_(e.current,2,null,e,null,null),Ku(),n[gi]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ko();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Js.length&&n!==0&&n<Js[s].priority;s++);Js.splice(s,0,e),s===0&&c_(e)}};var m_=t.version;if(m_!=="19.2.3")throw Error(r(527,m_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Mt=gc.inject(Bb),Xt=gc}catch{}}return mo.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",c=Tp,f=bp,g=Sp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=n_(e,1,!1,null,null,s,l,null,c,f,g,d_),e[gi]=n.current,Kf(e),new dd(n)},mo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,c="",f=Tp,g=bp,E=Sp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=n_(e,1,!0,n,s??null,l,c,R,f,g,E,d_),n.context=i_(null),s=n.current,l=On(),l=_r(l),c=ks(l),c.callback=null,Ls(s,c,l),s=l,n.current.lanes=s,pr(n,s),Di(n),e[gi]=n.current,Kf(e),new mc(n)},mo.version="19.2.3",mo}var A_;function $b(){if(A_)return pd.exports;A_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),pd.exports=Jb(),pd.exports}var Wb=$b();const t1=Kv(Wb),e1=()=>{};var w_={};const Xv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},n1=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];t[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,b=h>>2,A=(h&3)<<4|p>>4;let U=(p&15)<<2|v>>6,Z=v&63;_||(Z=64,d||(U=64)),r.push(i[b],i[A],i[U],i[Z])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Xv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):n1(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const A=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||v==null||A==null)throw new i1;const U=h<<2|p>>4;if(r.push(U),v!==64){const Z=p<<4&240|v>>2;if(r.push(Z),A!==64){const rt=v<<6&192|A;r.push(rt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(a){const t=Xv(a);return Zv.encodeByteArray(t,!0)},Uc=function(a){return s1(a).replace(/\./g,"")},Jv=function(a){try{return Zv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const a1=()=>r1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof w_>"u")return;const a=w_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},o1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Jv(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return e1()||a1()||l1()||o1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},$v=a=>eh()?.emulatorHosts?.[a],u1=a=>{const t=$v(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Wv=()=>eh()?.config,t0=a=>eh()?.[`_${a}`];class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function rl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e0(a){return(await fetch(a,{credentials:"include"})).ok}function h1(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const vo={};function f1(){const a={prod:[],emulator:[]};for(const t of Object.keys(vo))vo[t]?a.emulator.push(t):a.prod.push(t);return a}function d1(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let R_=!1;function n0(a,t){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||vo[a]===t||vo[a]||R_)return;vo[a]=t;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=f1().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,Z){U.setAttribute("width","24"),U.setAttribute("id",Z),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function v(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{R_=!0,d()},U}function b(U,Z){U.setAttribute("id",Z),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function A(){const U=d1(r),Z=i("text"),rt=document.getElementById(Z)||document.createElement("span"),at=i("learnmore"),tt=document.getElementById(at)||document.createElement("a"),_t=i("preprendIcon"),nt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ft=U.element;p(ft),b(tt,at);const ne=v();_(nt,_t),ft.append(nt,rt,tt,ne),document.body.appendChild(ft)}h?(rt.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,rt.innerText="Preview backend running in this workspace."),rt.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function g1(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function _1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const a=hn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function E1(){return!g1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const S1="FirebaseError";class gs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=S1,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?A1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new gs(o,p,r)}}function A1(a,t){return a.replace(w1,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const w1=/\{\$([^}]+)}/g;function R1(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Kr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=t[o];if(C_(h)&&C_(d)){if(!Kr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function C_(a){return a!==null&&typeof a=="object"}function Lo(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function C1(a,t){const i=new I1(a,t);return i.subscribe.bind(i)}class I1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");x1(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Ed),o.error===void 0&&(o.error=Ed),o.complete===void 0&&(o.complete=Ed);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ed(){}function Yn(a){return a&&a._delegate?a._delegate:a}class Xr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class N1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new c1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(O1(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&t(h,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(a){return a===Hr?void 0:a}function O1(a){return a.instantiationMode==="EAGER"}class V1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new N1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const M1={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},U1=Bt.INFO,k1={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},L1=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=k1[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=U1,this._logHandler=L1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?M1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const P1=(a,t)=>t.some(i=>a instanceof i);let I_,x_;function z1(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i0=new WeakMap,Md=new WeakMap,s0=new WeakMap,Td=new WeakMap,am=new WeakMap;function B1(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(sr(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&i0.set(i,a)}).catch(()=>{}),am.set(t,a),t}function q1(a){if(Md.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Md.set(a,t)}let Ud={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Md.get(a);if(t==="objectStoreNames")return a.objectStoreNames||s0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function H1(a){Ud=a(Ud)}function G1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(bd(this),t,...i);return s0.set(r,t.sort?t.sort():[t]),sr(r)}:j1().includes(a)?function(...t){return a.apply(bd(this),t),sr(i0.get(this))}:function(...t){return sr(a.apply(bd(this),t))}}function F1(a){return typeof a=="function"?G1(a):(a instanceof IDBTransaction&&q1(a),P1(a,z1())?new Proxy(a,Ud):a)}function sr(a){if(a instanceof IDBRequest)return B1(a);if(Td.has(a))return Td.get(a);const t=F1(a);return t!==a&&(Td.set(a,t),am.set(t,a)),t}const bd=a=>am.get(a);function Q1(a,t,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,t),p=sr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const Y1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Sd=new Map;function N_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Sd.get(t))return Sd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=K1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Y1.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return Sd.set(t,h),h}H1(a=>({...a,get:(t,i,r)=>N_(t,i)||a.get(t,i,r),has:(t,i)=>!!N_(t,i)||a.has(t,i)}));class X1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Z1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Z1(a){return a.getComponent()?.type==="VERSION"}const kd="@firebase/app",D_="0.14.6";const hs=new rm("@firebase/app"),J1="@firebase/app-compat",$1="@firebase/analytics-compat",W1="@firebase/analytics",tS="@firebase/app-check-compat",eS="@firebase/app-check",nS="@firebase/auth",iS="@firebase/auth-compat",sS="@firebase/database",rS="@firebase/data-connect",aS="@firebase/database-compat",lS="@firebase/functions",oS="@firebase/functions-compat",uS="@firebase/installations",cS="@firebase/installations-compat",hS="@firebase/messaging",fS="@firebase/messaging-compat",dS="@firebase/performance",mS="@firebase/performance-compat",gS="@firebase/remote-config",pS="@firebase/remote-config-compat",yS="@firebase/storage",_S="@firebase/storage-compat",vS="@firebase/firestore",ES="@firebase/ai",TS="@firebase/firestore-compat",bS="firebase",SS="12.6.0";const Ld="[DEFAULT]",AS={[kd]:"fire-core",[J1]:"fire-core-compat",[W1]:"fire-analytics",[$1]:"fire-analytics-compat",[eS]:"fire-app-check",[tS]:"fire-app-check-compat",[nS]:"fire-auth",[iS]:"fire-auth-compat",[sS]:"fire-rtdb",[rS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[lS]:"fire-fn",[oS]:"fire-fn-compat",[uS]:"fire-iid",[cS]:"fire-iid-compat",[hS]:"fire-fcm",[fS]:"fire-fcm-compat",[dS]:"fire-perf",[mS]:"fire-perf-compat",[gS]:"fire-rc",[pS]:"fire-rc-compat",[yS]:"fire-gcs",[_S]:"fire-gcs-compat",[vS]:"fire-fst",[TS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[bS]:"fire-js-all"};const kc=new Map,wS=new Map,Pd=new Map;function O_(a,t){try{a.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ja(a){const t=a.name;if(Pd.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of kc.values())O_(i,a);for(const i of wS.values())O_(i,a);return!0}function lm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ri(a){return a==null?!1:a.settings!==void 0}const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new ko("app","Firebase",RS);class CS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const al=SS;function r0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Ld,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(i||(i=Wv()),!i)throw rr.create("no-options");const h=kc.get(o);if(h){if(Kr(i,h.options)&&Kr(r,h.config))return h;throw rr.create("duplicate-app",{appName:o})}const d=new V1(o);for(const _ of Pd.values())d.addComponent(_);const p=new CS(i,r,d);return kc.set(o,p),p}function a0(a=Ld){const t=kc.get(a);if(!t&&a===Ld&&Wv())return r0();if(!t)throw rr.create("no-app",{appName:a});return t}function ar(a,t,i){let r=AS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}Ja(new Xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const IS="firebase-heartbeat-database",xS=1,Ro="firebase-heartbeat-store";let Ad=null;function l0(){return Ad||(Ad=Q1(IS,xS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(a=>{throw rr.create("idb-open",{originalErrorMessage:a.message})})),Ad}async function NS(a){try{const i=(await l0()).transaction(Ro),r=await i.objectStore(Ro).get(o0(a));return await i.done,r}catch(t){if(t instanceof gs)hs.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function V_(a,t){try{const r=(await l0()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(t,o0(a)),await r.done}catch(i){if(i instanceof gs)hs.warn(i.message);else{const r=rr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(r.message)}}}function o0(a){return`${a.name}!${a.options.appId}`}const DS=1024,OS=30;class VS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new US(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>OS){const o=kS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:i,unsentEntries:r}=MS(this._heartbeatsCache.heartbeats),o=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function MS(a,t=DS){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),U_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),U_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class US{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function U_(a){return Uc(JSON.stringify({version:2,heartbeats:a})).length}function kS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function LS(a){Ja(new Xr("platform-logger",t=>new X1(t),"PRIVATE")),Ja(new Xr("heartbeat",t=>new VS(t),"PRIVATE")),ar(kd,D_,a),ar(kd,D_,"esm2020"),ar("fire-js","")}LS("");var PS="firebase",zS="12.7.0";ar(PS,zS,"app");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,u0;(function(){var a;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,k){for(var w=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)w[fe-2]=arguments[fe];return S.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=S+(k^C&(D^k))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+V[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+V[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(k^C&(D^k))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+V[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+V[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(k^C&(D^k))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+V[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+V[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(k^C&(D^k))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=k+(D^S&(C^D))+V[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=D+(C^k&(S^C))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(S^D&(k^S))+V[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=S+(D^k&(C^D))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+V[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+V[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(C^D))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+V[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+V[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(C^D))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+V[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+V[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(D^k&(C^D))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(S^C))+V[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=D+(S^C&(k^S))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^S&(D^k))+V[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=S+(C^D^k)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+V[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+V[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^k)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+V[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+V[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^k)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+V[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+V[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(C^D^k)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=k+(S^C^D)+V[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=D+(k^S^C)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^S)+V[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=S+(D^(C|~k))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+V[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+V[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~k))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+V[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+V[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~k))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+V[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+V[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=S+(D^(C|~k))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=k+(C^(S|~D))+V[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=D+(S^(k|~C))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<S;)if(V[D++]=I[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function h(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==S||(C[D]=k,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?h(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return tt(v(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return tt(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(S,8));let V=A;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),S);D<8?(D=v(Math.pow(S,D)),V=V.j(D).add(v(w))):(V=V.j(C),V=V.add(v(w)))}return V}var A=_(0),U=_(1),Z=_(16777216);a=d.prototype,a.m=function(){if(at(this))return-tt(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(rt(this))return"0";if(at(this))return"-"+tt(this).toString(I);const S=v(Math.pow(I,6));var C=this;let V="";for(;;){const D=ne(C,S).g;C=_t(C,D.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,rt(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function rt(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function at(I){return I.h==-1}a.l=function(I){return I=_t(this,I),at(I)?-1:rt(I)?0:1};function tt(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(U)}a.abs=function(){return at(this)?tt(this):this},a.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=S;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function _t(I,S){return I.add(tt(S))}a.j=function(I){if(rt(this)||rt(I))return A;if(at(this))return at(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(at(I))return tt(this.j(tt(I)));if(this.l(Z)<0&&I.l(Z)<0)return v(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,fe=I.i(D)>>>16,we=I.i(D)&65535;C[2*V+2*D]+=w*we,nt(C,2*V+2*D),C[2*V+2*D+1]+=k*we,nt(C,2*V+2*D+1),C[2*V+2*D+1]+=w*fe,nt(C,2*V+2*D+1),C[2*V+2*D+2]+=k*fe,nt(C,2*V+2*D+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function nt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ft(I,S){this.g=I,this.h=S}function ne(I,S){if(rt(S))throw Error("division by zero");if(rt(I))return new ft(A,A);if(at(I))return S=ne(tt(I),S),new ft(tt(S.g),tt(S.h));if(at(S))return S=ne(I,tt(S)),new ft(tt(S.g),S.h);if(I.g.length>30){if(at(I)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var C=U,V=S;V.l(I)<=0;)C=Yt(C),V=Yt(V);var D=Ft(C,1),k=Ft(V,1);for(V=Ft(V,2),C=Ft(C,2);!rt(V);){var w=k.add(V);w.l(I)<=0&&(D=D.add(C),k=w),V=Ft(V,1),C=Ft(C,1)}return S=_t(I,D.j(S)),new ft(D,S)}for(D=A;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=v(C),w=k.j(S);at(w)||w.l(I)>0;)C-=V,k=v(C),w=k.j(S);rt(k)&&(k=U),D=D.add(k),I=_t(I,w)}return new ft(D,I)}a.B=function(I){return ne(this,I).h},a.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},a.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},a.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Yt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ft(I,S){const C=S>>5;S%=32;const V=I.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=S>0?I.i(k+C)>>>S|I.i(k+C+1)<<32-S:I.i(k+C);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,lr=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c0,go,h0,wc,zd,f0,d0,m0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in y))break t;y=y[P]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var et=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)et[Nt-2]=arguments[Nt];return m.prototype[P].apply(T,et)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Z(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function rt(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var y=typeof P;if(y=y!="object"?y:P?Array.isArray(P)?"array":y:"null",y=="array"||y=="object"&&typeof P.length=="number"){y=u.length||0;const q=P.length||0;u.length=y+q;for(let et=0;et<q;et++)u[y+et]=P[et]}else u.push(P)}}class at{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function _t(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,y){const T=ft.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new at(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,Ft=!1,I=new nt,S=()=>{const u=Promise.resolve(void 0);Yt=()=>{u.then(C)}};function C(){for(var u;u=_t();){try{u.h.call(u.g)}catch(y){tt(y)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ft=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function fe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(fe,D),fe.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,y,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Kt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let y,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(y in T)u[y]=T[y];for(let q=0;q<Y.length;q++)y=Y[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,y,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=It(u,m,T,P);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new it(m,this.src,q,!!T,P),m.fa=y,u.push(m)),m};function St(u,m){const y=m.type;if(y in u.g){var T=u.g[y],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(mt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function It(u,m,y,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Te={};function te(u,m,y,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)te(u,m[q],y,T,P);return null}return y=vs(y),u&&u[we]?u.J(m,y,p(T)?!!T.capture:!1,P):Sn(u,m,y,!1,T,P)}function Sn(u,m,y,T,P,q){if(!m)throw Error("Invalid event type");const et=p(P)?!!P.capture:!!P;let Nt=Bi(u);if(Nt||(u[Pt]=Nt=new ot(u)),y=Nt.add(m,y,T,et,q),y.proxy)return y;if(T=an(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)k||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(mn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function an(){function u(y){return m.call(u.src,u.listener,y)}const m=ys;return u}function ps(u,m,y,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)ps(u,m[q],y,T,P);else T=p(T)?!!T.capture:!!T,y=vs(y),u&&u[we]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=It(m,y,T,P),y>-1&&(mt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Bi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,y,T,P)),(y=u>-1?m[u]:null)&&ui(y))}function ui(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])St(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(mn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Bi(m))?(St(y,u),y.h==0&&(y.src=null,m[Pt]=null)):mt(u)}}}function mn(u){return u in Te?Te[u]:Te[u]="on"+u}function ys(u,m){if(u.da)u=!0;else{m=new fe(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&ui(u),u=y.call(T,m)}return u}function Bi(u){return u=u[Pt],u instanceof ot?u:null}var _s="__closure_events_fn_"+(Math.random()*1e9>>>0);function vs(u){return typeof u=="function"?u:(u[_s]||(u[_s]=function(m){return u.handleEvent(m)}),u[_s])}function _e(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}A(_e,V),_e.prototype[we]=!0,_e.prototype.removeEventListener=function(u,m,y,T){ps(this,u,m,y,T)};function Re(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),st(m,P)}P=!0;let q,et;if(y)for(et=y.length-1;et>=0;et--)q=m.g=y[et],P=ci(q,T,!0,m)&&P;if(q=m.g=u,P=ci(q,T,!0,m)&&P,P=ci(q,T,!1,m)&&P,y)for(et=0;et<y.length;et++)q=m.g=y[et],P=ci(q,T,!1,m)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)mt(y[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},_e.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ci(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==y){const Nt=et.listener,Ce=et.ha||et.src;et.fa&&St(u.i,et),P=Nt.call(Ce,T)!==!1&&P}}return P&&!T.defaultPrevented}function fl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function L(u){u.g=fl(()=>{u.g=null,u.i&&(u.i=!1,L(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Q extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:L(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function W(u){V.call(this),this.h=u,this.g={}}A(W,V);var lt=[];function Et(u){Lt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ui(m)},u),u.g={}}W.prototype.N=function(){W.Z.N.call(this),Et(this)},W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=d.JSON.stringify,yt=d.JSON.parse,pt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ge(){}function xt(){}var Mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){D.call(this,"d")}A(Xt,D);function Fe(){D.call(this,"c")}A(Fe,D);var ce={},Es=null;function Ts(){return Es=Es||new _e}ce.Ia="serverreachability";function Qo(u){D.call(this,ce.Ia,u)}A(Qo,D);function hi(u){const m=Ts();Re(m,new Qo(m))}ce.STAT_EVENT="statevent";function gr(u,m){D.call(this,ce.STAT_EVENT,u),this.stat=m}A(gr,D);function De(u){const m=Ts();Re(m,new gr(m,u))}ce.Ja="timingevent";function fi(u,m){D.call(this,ce.Ja,u),this.size=m}A(fi,D);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function yh(u,m,y,T,P,q){u.info(function(){if(u.g)if(q){var et="",Nt=q.split("&");for(let $t=0;$t<Nt.length;$t++){var Ce=Nt[$t].split("=");if(Ce.length>1){const pe=Ce[0];Ce=Ce[1];const kn=pe.split("_");et=kn.length>=2&&kn[1]=="type"?et+(pe+"="+Ce+"&"):et+(pe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+y+`
`+et})}function Yo(u,m,y,T,P,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+y+`
`+q+" "+et})}function mi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+_h(u,y)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function _h(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Vt(q)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function _r(){}A(_r,Ge),_r.prototype.g=function(){return new XMLHttpRequest},ml=new _r;function qi(u){return encodeURIComponent(String(u))}function Ko(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Xn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new W(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Oe={},Qe={};function gi(u,m,y){u.M=1,u.A=vr(Me(m)),u.u=y,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),pi(u),u.B=Me(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Zn,u.g=uu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Q(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(lt[0]=P.toString()),P=lt);for(let q=0;q<P.length;q++){const et=te(y,P[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),yh(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=Wn(this.g),Ce=this.g.ya(),$t=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Nt!=4||Ce==7||(Ce==8||$t<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var y=vh(this);if(this.o=m==200,Yo(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,De(12),An(this),Vn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<y.length;)if(pe=Zo(this,y),pe==Qe){Nt==4&&(this.m=4,De(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Oe){this.m=4,De(15),mi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,pe,null),_i(this,pe);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||y.length!=0||this.h.h||(this.m=1,De(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,y,"[Invalid Chunked Response]"),An(this),Vn(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),xl(et),et.P=!0,De(11))}}else mi(this.i,this.l,y,null),_i(this,y);Nt==4&&An(this),this.o&&!this.K&&(Nt==4?ru(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),An(this),Vn(this)}}}catch{}};function vh(u){if(!Xo(u))return u.g.la();const m=Je(u.g);if(m==="")return"";let y="";const T=m.length,P=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Xo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zo(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Qe:(y=Number(m.substring(y,T)),isNaN(y)?Oe:(T+=1,T+y>m.length?Qe:(m=m.slice(T,T+y),u.C=T+y,m)))}Xn.prototype.cancel=function(){this.K=!0,An(this)};function pi(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(v(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(hi(),De(17)),An(this),this.m=2,Vn(this)):sa(this,this.T-u)};function Vn(u){u.j.I==0||u.K||ru(u.j,u)}function An(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Et(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Ei(y.h,u))){if(!u.L&&Ei(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)fa(y),xs(y);else break t;Rr(y),De(18)}}else y.xa=P[1],0<y.xa-y.K&&P[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=di(v(y.Va,y),6e3));vi(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ri(y,11)}else if((u.L||y.g==u)&&fa(y),!w(m))for(P=y.Ba.g.parse(m),m=0;m<P.length;m++){let $t=P[m];const pe=$t[0];if(!(pe<=y.K))if(y.K=pe,$t=$t[1],y.I==2)if($t[0]=="c"){y.M=$t[1],y.ba=$t[2];const kn=$t[3];kn!=null&&(y.ka=kn,y.j.info("VER="+y.ka));const Ci=$t[4];Ci!=null&&(y.za=Ci,y.j.info("SVER="+y.za));const ti=$t[5];ti!=null&&typeof ti=="number"&&ti>0&&(T=1.5*ti,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ei=u.g;if(ei){const Cr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var q=T.h;q.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(yl(q,q.h),q.h=null))}if(T.G){const da=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,ie(T.J,T.G,da))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var et=u;if(T.na=ou(T,T.L?T.ba:null,T.W),et.L){_l(T.h,et);var Nt=et,Ce=T.O;Ce&&(Nt.H=Ce),Nt.D&&(yi(Nt),pi(Nt)),T.g=et}else iu(T);y.i.length>0&&wi(y)}else $t[0]!="stop"&&$t[0]!="close"||Ri(y,7);else y.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ri(y,7):Cl(y):$t[0]!="noop"&&y.l&&y.l.qa($t),y.A=0)}}hi(4)}catch{}}var Ve=class{constructor(u,m){this.g=u,this.map=m}};function gl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yl(u,m){u.g?u.g.add(m):u.h=m}function _l(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Z(u.i)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let P,q=null;T>=0?(P=u[y].substring(0,T),q=u[y].substring(T+1)):P=u[y],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof wn?(this.l=u.l,Ye(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,El(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Jo))?(this.l=!1,Ye(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),bs(this,m[4]),this.h=Ti(m[5]||"",!0),El(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}wn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,aa,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,aa,!0),"@"),u.push(qi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Er(y,y.charAt(0)=="/"?Tl:$o,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Er(y,Wo)),u.join("")},wn.prototype.resolve=function(u){const m=Me(this);let y=!!u.j;y?Ye(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)bs(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let et=0;et<P.length;){const Nt=P[et++];Nt=="."?T&&et==P.length&&q.push(""):Nt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==P.length&&q.push("")):(q.push(Nt),T=!0)}T=q.join("/")}else T=P}return y?m.h=T:y=u.i.toString()!=="",y?El(m,eu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Me(u){return new wn(u)}function Ye(u,m,y){u.j=y?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,y){m instanceof As?(u.i=m,oa(u.i,u.l)):(y||(m=Er(m,Ss)),u.i=new As(m,u.l))}function ie(u,m,y){u.i.set(m,y)}function vr(u){return ie(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,$o=/[#\?:]/g,Tl=/[#\?]/g,Ss=/[#\?@]/g,Wo=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=As.prototype,a.add=function(u,m){pn(this),this.i=null,u=ws(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function tu(u,m){pn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bl(u,m){return pn(u),m=ws(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(y,T){y.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Sl(u,m){pn(u);let y=[];if(typeof m=="string")bl(u,m)&&(y=y.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return pn(this),this.i=null,u=ws(this,u),bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function la(u,m,y){tu(u,m),y.length>0&&(u.i=null,u.g.set(ws(u,m),Z(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const P=qi(y);y=Sl(this,y);for(let q=0;q<y.length;q++){let et=P;y[q]!==""&&(et+="="+qi(y[q])),u.push(et)}}return this.i=u.join("&")};function eu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(y,T){const P=T.toLowerCase();T!=P&&(tu(this,T),la(this,P,y))},u)),u.j=m}function Jn(u,m){const y=new Kn;if(d.Image){const T=new Image;T.onload=b(Mn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Mn,y,"TestLoadImage: error",!1,m,T),T.onabort=b(Mn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Mn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Al(u,m){const y=new Kn,T=new AbortController,P=setTimeout(()=>{T.abort(),Mn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Mn(y,"TestPingServer: ok",!0,m):Mn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Mn(y,"TestPingServer: error",!1,m)})}function Mn(u,m,y,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(y)}catch{}}function Rs(){this.g=new pt}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(bi,Ge),bi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Tr,_e),a=Tr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):$n(this),this.readyState==3&&ua(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},a.Na=function(u){this.g&&(this.response=u,Cs(this))},a.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Lt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function br(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Un(y),typeof u=="string"?y!=null&&qi(y):ie(u,m,y))}function ae(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ae,_e);var Si=/^https?$/i,wl=["POST","PUT"];a=ae.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=U(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Sr(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)y.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wl,m,void 0)>=0)||T||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Sr(this,q)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),Hi(u)}function Rl(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Re(this,"complete"),Re(this,"abort"),Hi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ae.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},a.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof h<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Re(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let et=String(u.D).match(Jo)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Si.test(et?et.toLowerCase():"")}y=T}if(y)Re(u,"complete"),Re(u,"success");else{u.o=6;try{var P=Wn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Rl(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Re(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yt(m)}};function Je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Ko(u[T]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[P]||[];m[P]=q,q.push(y)}Kt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new gl(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Is.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){De(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=ou(this,null,this.W),wi(this)};function Cl(u){if(ca(u),u.I==3){var m=u.V++,y=Me(u.J);if(ie(y,"SID",u.M),ie(y,"RID",m),ie(y,"TYPE","terminate"),wr(u,y),m=new Xn(u,u.j,m),m.M=2,m.A=vr(Me(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}lu(u)}function xs(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function ca(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Yt||S(),Ft||(Yt(),Ft=!0),I.add(m,u),u.D=0}}function ha(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(v(u.Ea,u,m),au(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=nu(this,P,m),y=Me(this.J),ie(y,"RID",u),ie(y,"CVER",22),this.G&&ie(y,"X-HTTP-Session-Id",this.G),wr(this,y),q&&(this.R?m="headers="+qi(Un(q))+"&"+m:this.u&&br(y,this.u,q)),yl(this.h,P),this.Ra&&ie(y,"TYPE","init"),this.S?(ie(y,"$req",m),ie(y,"SID","null"),P.U=!0,gi(P,y,null)):gi(P,y,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var y;m?y=m.l:y=u.V++;const T=Me(u.J);ie(T,"SID",u.M),ie(T,"RID",y),ie(T,"AID",u.K),wr(u,T),u.u&&u.o&&br(T,u.u,u.o),y=new Xn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yl(u.h,y),gi(y,T,m)}function wr(u,m){u.H&&Lt(u.H,function(y,T){ie(m,T,y)}),u.l&&Lt({},function(y,T){ie(m,T,y)})}function nu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var P=u.i;let Nt=-1;for(;;){const Ce=["count="+y];Nt==-1?y>0?(Nt=P[0].g,Ce.push("ofs="+Nt)):Nt=0:Ce.push("ofs="+Nt);let $t=!0;for(let pe=0;pe<y;pe++){var q=P[pe].g;const kn=P[pe].map;if(q-=Nt,q<0)Nt=Math.max(0,P[pe].g-100),$t=!1;else try{q="req"+q+"_"||"";try{var et=kn instanceof Map?kn:Object.entries(kn);for(const[Ci,ti]of et){let ei=ti;p(ti)&&(ei=Vt(ti)),Ce.push(q+Ci+"="+encodeURIComponent(ei))}}catch(Ci){throw Ce.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{T&&T(kn)}}if($t){et=Ce.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Yt||S(),Ft||(Yt(),Ft=!0),I.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(v(u.Da,u),au(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),xs(this),su(this))};function xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Me(u.na);ie(m,"RID","rpc"),ie(m,"SID",u.M),ie(m,"AID",u.K),ie(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ie(m,"TO",u.ia),ie(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=vr(Me(m)),y.u=null,y.R=!0,ia(y,u)}a.Va=function(){this.C!=null&&(this.C=null,xs(this),Rr(this),De(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var y=null;if(u.g==m){fa(u),xl(u),u.g=null;var T=2}else if(Ei(u.h,m))y=m.G,_l(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Ts(),Re(T,new fi(T,y)),wi(u)}else iu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&Rr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),P){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function au(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const P=!T;T=new wn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ye(T,"https"),vr(T),P?Jn(T.toString(),y):Al(T.toString(),y)}else De(2);u.I=0,u.l&&u.l.pa(m),lu(u),ca(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=vl(u.h);(m.length!=0||u.i.length!=0)&&(rt(u.ja,m),rt(u.ja,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.oa()}}function ou(u,m,y){var T=y instanceof wn?Me(y):new wn(y);if(T.g!="")m&&(T.g=m+"."+T.g),bs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new wn(null);T&&Ye(q,T),m&&(q.g=m),P&&bs(q,P),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&ie(T,y,m),ie(T,"VER",u.ka),wr(u,T),T}function uu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new bi({ab:y})):new ae(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}a=cu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){_e.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}A(fn,_e),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Cl(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Vt(u),u=y);m.i.push(new Ve(m.Ya++,u)),m.I==3&&wi(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,fn.Z.N.call(this)};function hu(u){Xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(hu,Xt);function fu(){Fe.call(this),this.status=1}A(fu,Fe);function Fi(u){this.g=u}A(Fi,cu),Fi.prototype.ra=function(){Re(this.g,"a")},Fi.prototype.qa=function(u){Re(this.g,new hu(u))},Fi.prototype.pa=function(u){Re(this.g,new fu)},Fi.prototype.oa=function(){Re(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,m0=function(){return new Ns},d0=function(){return Ts()},f0=ce,zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,wc=yr,dl.COMPLETE="complete",h0=dl,xt.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",_e.prototype.listen=_e.prototype.J,go=xt,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,c0=ae}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",P_="4.9.3";class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let ll="12.7.0";const Zr=new rm("@firebase/firestore");function Ha(){return Zr.logLevel}function ut(a,...t){if(Zr.logLevel<=Bt.DEBUG){const i=t.map(om);Zr.debug(`Firestore (${ll}): ${a}`,...i)}}function fs(a,...t){if(Zr.logLevel<=Bt.ERROR){const i=t.map(om);Zr.error(`Firestore (${ll}): ${a}`,...i)}}function $a(a,...t){if(Zr.logLevel<=Bt.WARN){const i=t.map(om);Zr.warn(`Firestore (${ll}): ${a}`,...i)}}function om(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function bt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,g0(a,r,i)}function g0(a,t,i){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function ee(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||g0(t,o,r)}function Ct(a,t){return a}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends gs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class p0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class BS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qS{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ee(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new or;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new or,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string",31837,{l:r}),new p0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class HS{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GS{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new HS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ee(this.o===void 0,3512);const r=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ee(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new z_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=QS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=t.charAt(o[h]%62))}return r}}function qt(a,t){return a<t?-1:a>t?1:0}function jd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=t.charAt(r);if(o!==h)return wd(o)===wd(h)?qt(o,h):wd(o)?1:-1}return qt(a.length,t.length)}const YS=55296,KS=57343;function wd(a){const t=a.charCodeAt(0);return t>=YS&&t<=KS}function Wa(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}const j_="__name__";class Oi{constructor(t,i,r){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&bt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const h=Oi.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return qt(t.length,i.length)}static compareSegments(t,i){const r=Oi.isNumericId(t),o=Oi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(t).compare(Oi.extractNumericId(i)):jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class ve extends Oi{construct(t,i,r){return new ve(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ve(i)}static emptyPath(){return new ve([])}}const XS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Oi{construct(t,i,r){return new sn(t,i,r)}static isValidIdentifier(t){return XS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new sn([j_])}static fromServerFormat(t){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new dt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new dt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new dt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new dt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ve.fromString(t))}static fromName(t){return new vt(ve.fromString(t).popFirst(5))}static empty(){return new vt(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ve.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ve(t.slice()))}}function ZS(a,t,i){if(!i)throw new dt($.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function JS(a,t,i,r){if(t===!0&&r===!0)throw new dt($.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function B_(a){if(!vt.isDocumentKey(a))throw new dt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function y0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function cm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":bt(12329,{type:typeof a})}function Co(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new dt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cm(a);throw new dt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function je(a,t){const i={typeString:a};return t&&(i.value=t),i}function Po(a,t){if(!y0(a))throw new dt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new dt($.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,H_=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*H_);return new ge(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<q_)throw new dt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Po(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:je("string",ge._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ge(0,0))}static max(){return new wt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function $S(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(r===1e9?new ge(i+1,0):new ge(i,r));return new ur(o,vt.empty(),t)}function WS(a){return new ur(a.readTime,a.key,Io)}class ur{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new ur(wt.min(),vt.empty(),Io)}static max(){return new ur(wt.max(),vt.empty(),Io)}}function tA(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(a.documentKey,t.documentKey),i!==0?i:qt(a.largestBatchId,t.largestBatchId))}const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ol(a){if(a.code!==$.FAILED_PRECONDITION||a.message!==eA)throw a;ut("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let o=0,h=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(_=>r(_)))})),d=!0,h===o&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,o)=>{const h=t.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((b=>{d[v]=b,++p,p===h&&r(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((r,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):r()};h()}))}}function iA(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(a){return a.name==="IndexedDbTransactionError"}class nh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nh.ce=-1;const hm=-1;function ih(a){return a==null}function Lc(a){return a===0&&1/a==-1/0}function sA(a){return typeof a=="number"&&Number.isInteger(a)&&!Lc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const _0="";function rA(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=G_(t)),t=aA(a.get(i),t);return G_(t)}function aA(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case _0:i+="";break;default:i+=h}}return i}function G_(a){return a+_0+""}function F_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Wr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function v0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||nn.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,i,r,o,h){this.key=t,this.value=i,this.color=r??nn.RED,this.left=o??nn.EMPTY,this.right=h??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,h){return new nn(t??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const h=r(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,r,o,h){return this}insert(t,i,r){return new nn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(t){return new Q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class Q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new ai([])}unionWith(t){let i=new He(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ai(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new E0("Invalid base64 string: "+h):h}})(t);return new rn(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new rn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const lA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(a){if(ee(!!a,39018),typeof a=="string"){let t=0;const i=lA.exec(a);if(ee(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ne(a.seconds),nanos:Ne(a.nanos)}}function Ne(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function hr(a){return typeof a=="string"?rn.fromBase64String(a):rn.fromUint8Array(a)}const T0="server_timestamp",b0="__type__",S0="__previous_value__",A0="__local_write_time__";function fm(a){return(a?.mapValue?.fields||{})[b0]?.stringValue===T0}function sh(a){const t=a.mapValue.fields[S0];return fm(t)?sh(t):t}function xo(a){const t=cr(a.mapValue.fields[A0].timestampValue);return new ge(t.seconds,t.nanos)}class oA{constructor(t,i,r,o,h,d,p,_,v,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=b}}const Pc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||Pc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}const w0="__type__",uA="__max__",_c={mapValue:{}},R0="__vector__",zc="value";function fr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?fm(a)?4:hA(a)?9007199254740991:cA(a)?10:11:bt(28295,{value:a})}function Pi(a,t){if(a===t)return!0;const i=fr(a);if(i!==fr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return xo(a).isEqual(xo(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=cr(o.timestampValue),p=cr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,h){return hr(o.bytesValue).isEqual(hr(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,h){return Ne(o.geoPointValue.latitude)===Ne(h.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(h.geoPointValue.longitude)})(a,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ne(o.integerValue)===Ne(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ne(o.doubleValue),p=Ne(h.doubleValue);return d===p?Lc(d)===Lc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Wa(a.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(F_(d)!==F_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Pi(d[_],p[_])))return!1;return!0})(a,t);default:return bt(52216,{left:a})}}function Do(a,t){return(a.values||[]).find((i=>Pi(i,t)))!==void 0}function tl(a,t){if(a===t)return 0;const i=fr(a),r=fr(t);if(i!==r)return qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=Ne(h.integerValue||h.doubleValue),_=Ne(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return Y_(a.timestampValue,t.timestampValue);case 4:return Y_(xo(a),xo(t));case 5:return jd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=hr(h),_=hr(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const b=qt(p[v],_[v]);if(b!==0)return b}return qt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=qt(Ne(h.latitude),Ne(d.latitude));return p!==0?p:qt(Ne(h.longitude),Ne(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return K_(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},_=d.fields||{},v=p[zc]?.arrayValue,b=_[zc]?.arrayValue,A=qt(v?.values?.length||0,b?.values?.length||0);return A!==0?A:K_(v,b)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===_c.mapValue&&d===_c.mapValue)return 0;if(h===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const U=jd(_[A],b[A]);if(U!==0)return U;const Z=tl(p[_[A]],v[b[A]]);if(Z!==0)return Z}return qt(_.length,b.length)})(a.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function Y_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return qt(a,t);const i=cr(a),r=cr(t),o=qt(i.seconds,r.seconds);return o!==0?o:qt(i.nanos,r.nanos)}function K_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=tl(i[o],r[o]);if(h)return h}return qt(i.length,r.length)}function el(a){return Bd(a)}function Bd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=cr(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return hr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return vt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Bd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Bd(i.fields[d])}`;return o+"}"})(a.mapValue):bt(61005,{value:a})}function Rc(a){switch(fr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(a);return t?16+Rc(t):16;case 5:return 2*a.stringValue.length;case 6:return hr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Rc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Wr(r.fields,((h,d)=>{o+=h.length+Rc(d)})),o})(a.mapValue);default:throw bt(13486,{value:a})}}function qd(a){return!!a&&"integerValue"in a}function dm(a){return!!a&&"arrayValue"in a}function X_(a){return!!a&&"nullValue"in a}function Z_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Cc(a){return!!a&&"mapValue"in a}function cA(a){return(a?.mapValue?.fields||{})[w0]?.stringValue===R0}function Eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Wr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Eo(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Eo(a.arrayValue.values[i]);return t}return{...a}}function hA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===uA}class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(i)}setAll(t){let i=sn.emptyPath(),r={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Eo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Wr(i,((o,h)=>t[o]=h));for(const o of r)delete t[o]}clone(){return new Fn(Eo(this.value))}}function C0(a){const t=[];return Wr(a.fields,((i,r)=>{const o=new sn([i]);if(Cc(r)){const h=C0(r.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)})),new ai(t)}class cn{constructor(t,i,r,o,h,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new cn(t,0,wt.min(),wt.min(),wt.min(),Fn.empty(),0)}static newFoundDocument(t,i,r,o){return new cn(t,1,i,wt.min(),r,o,0)}static newNoDocument(t,i){return new cn(t,2,i,wt.min(),wt.min(),Fn.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,wt.min(),wt.min(),Fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const h=t[o],d=a.position[o];if(h.field.isKeyField()?r=vt.comparator(vt.fromName(d.referenceValue),i.key):r=tl(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Pi(a.position[i],t.position[i]))return!1;return!0}class Bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function fA(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class I0{}class qe extends I0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new mA(t,i,r):i==="array-contains"?new yA(t,r):i==="in"?new _A(t,r):i==="not-in"?new vA(t,r):i==="array-contains-any"?new EA(t,r):new qe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new gA(t,r):new pA(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends I0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return x0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(a){return a.op==="and"}function N0(a){return dA(a)&&x0(a)}function dA(a){for(const t of a.filters)if(t instanceof zi)return!1;return!0}function Hd(a){if(a instanceof qe)return a.field.canonicalString()+a.op.toString()+el(a.value);if(N0(a))return a.filters.map((t=>Hd(t))).join(",");{const t=a.filters.map((i=>Hd(i))).join(",");return`${a.op}(${t})`}}function D0(a,t){return a instanceof qe?(function(r,o){return o instanceof qe&&r.op===o.op&&r.field.isEqual(o.field)&&Pi(r.value,o.value)})(a,t):a instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&D0(d,o.filters[p])),!0):!1})(a,t):void bt(19439)}function O0(a){return a instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(a):a instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(O0).join(" ,")+"}"})(a):"Filter"}class mA extends qe{constructor(t,i,r){super(t,i,r),this.key=vt.fromName(r.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class gA extends qe{constructor(t,i){super(t,"in",i),this.keys=V0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pA extends qe{constructor(t,i){super(t,"not-in",i),this.keys=V0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function V0(a,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class yA extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&Do(i.arrayValue,this.value)}}class _A extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class vA extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class EA extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Do(this.value.arrayValue,r)))}}class TA{constructor(t,i=null,r=[],o=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function W_(a,t=null,i=[],r=[],o=null,h=null,d=null){return new TA(a,t,i,r,o,h,d)}function mm(a){const t=Ct(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Hd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),ih(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>el(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>el(r))).join(",")),t.Te=i}return t.Te}function gm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!fA(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!D0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!$_(a.startAt,t.startAt)&&$_(a.endAt,t.endAt)}function Gd(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class rh{constructor(t,i=null,r=[],o=[],h=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bA(a,t,i,r,o,h,d,p){return new rh(a,t,i,r,o,h,d,p)}function pm(a){return new rh(a)}function tv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function SA(a){return a.collectionGroup!==null}function To(a){const t=Ct(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new He(sn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Bc(h,r))})),i.has(sn.keyField().canonicalString())||t.Ie.push(new Bc(sn.keyField(),r))}return t.Ie}function Vi(a){const t=Ct(a);return t.Ee||(t.Ee=AA(t,To(a))),t.Ee}function AA(a,t){if(a.limitType==="F")return W_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Bc(o.field,h)}));const i=a.endAt?new jc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new jc(a.startAt.position,a.startAt.inclusive):null;return W_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Fd(a,t,i){return new rh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function ah(a,t){return gm(Vi(a),Vi(t))&&a.limitType===t.limitType}function M0(a){return`${mm(Vi(a))}|lt:${a.limitType}`}function Ga(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>O0(o))).join(", ")}]`),ih(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${r})`})(Vi(a))}; limitType=${a.limitType})`}function lh(a,t){return t.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):vt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,t)&&(function(r,o){for(const h of To(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const v=J_(d,p,_);return d.inclusive?v<=0:v<0})(r.startAt,To(r),o)||r.endAt&&!(function(d,p,_){const v=J_(d,p,_);return d.inclusive?v>=0:v>0})(r.endAt,To(r),o))})(a,t)}function wA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function U0(a){return(t,i)=>{let r=!1;for(const o of To(a)){const h=RA(o,t,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function RA(a,t,i){const r=a.field.isKeyField()?vt.comparator(t.key,i.key):(function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?tl(_,v):bt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:a.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,((i,r)=>{for(const[o,h]of r)t(o,h)}))}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}const CA=new Ee(vt.comparator);function ds(){return CA}const k0=new Ee(vt.comparator);function po(...a){let t=k0;for(const i of a)t=t.insert(i.key,i);return t}function L0(a){let t=k0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Gr(){return bo()}function P0(){return bo()}function bo(){return new ta((a=>a.toString()),((a,t)=>a.isEqual(t)))}const IA=new Ee(vt.comparator),xA=new He(vt.comparator);function Ht(...a){let t=xA;for(const i of a)t=t.add(i);return t}const NA=new He(qt);function DA(){return NA}function ym(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(t)?"-0":t}}function z0(a){return{integerValue:""+a}}function OA(a,t){return sA(t)?z0(t):ym(a,t)}class oh{constructor(){this._=void 0}}function VA(a,t,i){return a instanceof qc?(function(o,h){const d={fields:{[b0]:{stringValue:T0},[A0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&fm(h)&&(h=sh(h)),h&&(d.fields[S0]=h),{mapValue:d}})(i,t):a instanceof Oo?B0(a,t):a instanceof Vo?q0(a,t):(function(o,h){const d=j0(o,h),p=ev(d)+ev(o.Ae);return qd(d)&&qd(o.Ae)?z0(p):ym(o.serializer,p)})(a,t)}function MA(a,t,i){return a instanceof Oo?B0(a,t):a instanceof Vo?q0(a,t):i}function j0(a,t){return a instanceof Hc?(function(r){return qd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class qc extends oh{}class Oo extends oh{constructor(t){super(),this.elements=t}}function B0(a,t){const i=H0(t);for(const r of a.elements)i.some((o=>Pi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Vo extends oh{constructor(t){super(),this.elements=t}}function q0(a,t){let i=H0(t);for(const r of a.elements)i=i.filter((o=>!Pi(o,r)));return{arrayValue:{values:i}}}class Hc extends oh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ev(a){return Ne(a.integerValue||a.doubleValue)}function H0(a){return dm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function UA(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Oo&&o instanceof Oo||r instanceof Vo&&o instanceof Vo?Wa(r.elements,o.elements,Pi):r instanceof Hc&&o instanceof Hc?Pi(r.Ae,o.Ae):r instanceof qc&&o instanceof qc})(a.transform,t.transform)}class kA{constructor(t,i){this.version=t,this.transformResults=i}}class cs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new cs}static exists(t){return new cs(void 0,t)}static updateTime(t){return new cs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class uh{}function G0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Q0(a.key,cs.none()):new zo(a.key,a.data,cs.none());{const i=a.data,r=Fn.empty();let o=new He(sn.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new ea(a.key,r,new ai(o.toArray()),cs.none())}}function LA(a,t,i){a instanceof zo?(function(o,h,d){const p=o.value.clone(),_=iv(o.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof ea?(function(o,h,d){if(!Ic(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=iv(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(F0(o)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function So(a,t,i,r){return a instanceof zo?(function(h,d,p,_){if(!Ic(h.precondition,d))return p;const v=h.value.clone(),b=sv(h.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,r):a instanceof ea?(function(h,d,p,_){if(!Ic(h.precondition,d))return p;const v=sv(h.fieldTransforms,_,d),b=d.data;return b.setAll(F0(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(a,t,i,r):(function(h,d,p){return Ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function PA(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),h=j0(r.transform,o||null);h!=null&&(i===null&&(i=Fn.empty()),i.set(r.field,h))}return i||null}function nv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Wa(r,o,((h,d)=>UA(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class zo extends uh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends uh{constructor(t,i,r,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function F0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function iv(a,t,i){const r=new Map;ee(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=t.data.field(h.field);r.set(h.field,MA(d,p,i[o]))}return r}function sv(a,t,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,VA(h,d,t))}return r}class Q0 extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zA extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jA{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&LA(h,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=So(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=So(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=P0();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const _=G0(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,r)=>nv(i,r)))&&Wa(this.baseMutations,t.baseMutations,((i,r)=>nv(i,r)))}}class _m{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ee(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return IA})();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new _m(t,i,r,o)}}class BA{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qA{constructor(t,i){this.count=t,this.unchangedNames=i}}var ze,Qt;function HA(a){switch(a){case $.OK:return bt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return bt(15467,{code:a})}}function Y0(a){if(a===void 0)return fs("GRPC error has no .code"),$.UNKNOWN;switch(a){case ze.OK:return $.OK;case ze.CANCELLED:return $.CANCELLED;case ze.UNKNOWN:return $.UNKNOWN;case ze.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ze.INTERNAL:return $.INTERNAL;case ze.UNAVAILABLE:return $.UNAVAILABLE;case ze.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ze.NOT_FOUND:return $.NOT_FOUND;case ze.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ze.ABORTED:return $.ABORTED;case ze.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ze.DATA_LOSS:return $.DATA_LOSS;default:return bt(39323,{code:a})}}(Qt=ze||(ze={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function GA(){return new TextEncoder}const FA=new lr([4294967295,4294967295],0);function rv(a){const t=GA().encode(a),i=new u0;return i.update(t),new Uint8Array(i.digest())}function av(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new lr([i,r],0),new lr([o,h],0)]}class vm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new yo(`Invalid padding: ${i}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new yo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=lr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(lr.fromNumber(r)));return o.compare(FA)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=rv(t),[r,o]=av(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new vm(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=rv(t),[r,o]=av(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ch{constructor(t,i,r,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,jo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ch(wt.min(),o,new Ee(qt),ds(),Ht())}}class jo{constructor(t,i,r,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new jo(r,i,Ht(),Ht(),Ht())}}class xc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class K0{constructor(t,i){this.targetId=t,this.Ce=i}}class X0{constructor(t,i,r=rn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class lv{constructor(){this.ve=0,this.Fe=ov(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),r=Ht();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:h})}})),new jo(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=ov()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QA{constructor(t){this.Ge=t,this.ze=new Map,this.je=ds(),this.Je=vc(),this.He=vc(),this.Ye=new Ee(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Gd(h))if(r===0){const d=new vt(h.path);this.et(i,d,cn.newNoDocument(d,wt.min()))}else ee(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=hr(r).toUint8Array()}catch(_){if(_ instanceof E0)return $a("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new vm(d,o,h)}catch(_){return $a(_ instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Gd(p.target)){const _=new vt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,cn.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Ht();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new ch(t,i,this.Ye,this.je,r);return this.je=ds(),this.Je=vc(),this.He=vc(),this.Ye=new Ee(qt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new He(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new He(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function vc(){return new Ee(vt.comparator)}function ov(){return new Ee(vt.comparator)}const YA={asc:"ASCENDING",desc:"DESCENDING"},KA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"};class ZA{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Qd(a,t){return a.useProto3Json||ih(t)?t:{value:t}}function Gc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function JA(a,t){return Gc(a,t.toTimestamp())}function Mi(a){return ee(!!a,49232),wt.fromTimestamp((function(i){const r=cr(i);return new ge(r.seconds,r.nanos)})(a))}function Em(a,t){return Yd(a,t).canonicalString()}function Yd(a,t){const i=(function(o){return new ve(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function J0(a){const t=ve.fromString(a);return ee(nE(t),10190,{key:t.toString()}),t}function Kd(a,t){return Em(a.databaseId,t.path)}function Rd(a,t){const i=J0(t);if(i.get(1)!==a.databaseId.projectId)throw new dt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new dt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new vt(W0(i))}function $0(a,t){return Em(a.databaseId,t)}function $A(a){const t=J0(a);return t.length===4?ve.emptyPath():W0(t)}function Xd(a){return new ve(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function W0(a){return ee(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function uv(a,t,i){return{name:Kd(a,t),fields:i.value.mapValue.fields}}function WA(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:bt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(v,b){return v.useProto3Json?(ee(b===void 0||typeof b=="string",58123),rn.fromBase64String(b||"")):(ee(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),rn.fromUint8Array(b||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const b=v.code===void 0?$.UNKNOWN:Y0(v.code);return new dt(b,v.message||"")})(d);i=new X0(r,o,h,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Rd(a,r.document.name),h=Mi(r.document.updateTime),d=r.document.createTime?Mi(r.document.createTime):wt.min(),p=new Fn({mapValue:{fields:r.document.fields}}),_=cn.newFoundDocument(o,h,d,p),v=r.targetIds||[],b=r.removedTargetIds||[];i=new xc(v,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Rd(a,r.document),h=r.readTime?Mi(r.readTime):wt.min(),d=cn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Rd(a,r.document),h=r.removedTargetIds||[];i=new xc([],h,o,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new qA(o,h),p=r.targetId;i=new K0(p,d)}}return i}function tw(a,t){let i;if(t instanceof zo)i={update:uv(a,t.key,t.value)};else if(t instanceof Q0)i={delete:Kd(a,t.key)};else if(t instanceof ea)i={update:uv(a,t.key,t.data),updateMask:uw(t.fieldMask)};else{if(!(t instanceof zA))return bt(16599,{Vt:t.type});i={verify:Kd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw bt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:JA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(a,t.precondition)),i}function ew(a,t){return a&&a.length>0?(ee(t!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Mi(o.updateTime):Mi(h);return d.isEqual(wt.min())&&(d=Mi(h)),new kA(d,o.transformResults||[])})(i,t)))):[]}function nw(a,t){return{documents:[$0(a,t.path)]}}function iw(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=$0(a,o);const h=(function(v){if(v.length!==0)return eE(zi.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((b=>(function(U){return{field:Fa(U.field),direction:aw(U.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Qd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function sw(a){let t=$A(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ee(r===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let h=[];i.where&&(h=(function(A){const U=tE(A);return U instanceof zi&&N0(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((U=>(function(rt){return new Bc(Qa(rt.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(rt.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let U;return U=typeof A=="object"?A.value:A,ih(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(A){const U=!!A.before,Z=A.values||[];return new jc(Z,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const U=!A.before,Z=A.values||[];return new jc(Z,U)})(i.endAt)),bA(t,o,d,h,p,"F",_,v)}function rw(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function tE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Qa(i.unaryFilter.field);return qe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return qe.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>tE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(a):bt(30097,{filter:a})}function aw(a){return YA[a]}function lw(a){return KA[a]}function ow(a){return XA[a]}function Fa(a){return{fieldPath:a.canonicalString()}}function Qa(a){return sn.fromServerFormat(a.fieldPath)}function eE(a){return a instanceof qe?(function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:lw(i.op),value:i.value}}})(a):a instanceof zi?(function(i){const r=i.getFilters().map((o=>eE(o)));return r.length===1?r[0]:{compositeFilter:{op:ow(i.op),filters:r}}})(a):bt(54877,{filter:a})}function uw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function nE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ir{constructor(t,i,r,o,h=wt.min(),d=wt.min(),p=rn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cw{constructor(t){this.yt=t}}function hw(a){const t=sw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Fd(t,t.limit,"L"):t}class fw{constructor(){this.Cn=new dw}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(ur.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class dw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new He(ve.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new He(ve.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(iE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const hv="LruGarbageCollector",mw=1048576;function fv([a,t],[i,r]){const o=qt(a,i);return o===0?qt(t,r):o}class gw{constructor(t){this.Ir=t,this.buffer=new He(fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();fv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?ut(hv,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Vr(3e5)}))}}class yw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(nh.ce);const r=new gw(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(cv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,h,d,p,_,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(t,r,i)))).next((A=>(h=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(v=Date.now(),Ha()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function _w(a,t){return new yw(a,t)}class vw{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ew{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Tw{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&So(r.mutation,o,ai.empty(),ge.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ht()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ht()){const o=Gr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((h=>{let d=po();return h.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Gr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ht())))}populateOverlays(t,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,o){let h=ds();const d=bo(),p=(function(){return bo()})();return i.forEach(((_,v)=>{const b=r.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof ea)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),So(b.mutation,v,b.mutation.getFieldMask(),ge.now())):d.set(v.key,ai.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>p.set(v,new Ew(b,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=bo();let o=new Ee(((d,p)=>d-p)),h=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let b=r.get(_)||ai.empty();b=p.applyToLocalView(v,b),r.set(_,b);const A=(o.get(p.batchId)||Ht()).add(_);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,b=_.value,A=P0();b.forEach((U=>{if(!h.has(U)){const Z=G0(i.get(U),r.get(U));Z!==null&&A.set(U,Z),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):SA(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-h.size):J.resolve(Gr());let p=Io,_=h;return d.next((v=>J.forEach(v,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),h.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((U=>{_=_.insert(b,U)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,Ht()))).next((b=>({batchId:p,changes:L0(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((r=>{let o=po();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const h=i.collectionGroup;let d=po();return this.indexManager.getCollectionParents(t,h).next((p=>J.forEach(p,(_=>{const v=(function(A,U){return new rh(U,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((b=>{b.forEach(((A,U)=>{d=d.insert(A,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,o)))).next((d=>{h.forEach(((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,cn.newInvalidDocument(b)))}));let p=po();return d.forEach(((_,v)=>{const b=h.get(_);b!==void 0&&So(b.mutation,v,ai.empty(),ge.now()),lh(i,v)&&(p=p.insert(_,v))})),p}))}}class bw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:hw(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),J.resolve()}}class Sw{constructor(){this.overlays=new Ee(vt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Gr();return J.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,h)=>{this.St(t,i,h)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Gr(),h=i.length+1,d=new vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let h=new Ee(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=h.get(v.largestBatchId);b===null&&(b=Gr(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=Gr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,b)=>p.set(v,b))),!(p.size()>=o)););return J.resolve(p)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new BA(i,r));let h=this.qr.get(i);h===void 0&&(h=Ht(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class Aw{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Tm{constructor(){this.Qr=new He(Xe.$r),this.Ur=new He(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Xe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Xe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new vt(new ve([])),r=new Xe(i,t),o=new Xe(i,t+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new ve([])),r=new Xe(i,t),o=new Xe(i,t+1);let h=Ht();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Xe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}class ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new He(Xe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jA(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Xe(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new He(qt);return i.forEach((o=>{const h=new Xe(o,0),d=new Xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let h=r;vt.isDocumentKey(h)||(h=h.child(""));const d=new Xe(new vt(h),0);let p=new He(qt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ee(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const h=new Xe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Xe(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Rw{constructor(t){this.ri=t,this.docs=(function(){return new Ee(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let r=ds();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():cn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let h=ds();const d=i.path,p=new vt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||tA(WS(b),r)<=0||(o.has(b.key)||lh(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(t,i,r,o){bt(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Cw(this)}getSize(t){return J.resolve(this.size)}}class Cw extends vw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Iw{constructor(t){this.persistence=t,this.si=new ta((i=>mm(i)),gm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Tm,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new nl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class sE{constructor(t,i){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new Aw,this.referenceDelegate=t(this),this.Pi=new Iw(this),this.indexManager=new fw,this.remoteDocumentCache=(function(o){return new Rw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cw(i),this.Ii=new bw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Sw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new ww(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ut("MemoryPersistence","Starting transaction:",t);const o=new xw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class xw extends nA{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Ri=new Tm,this.Vi=null}static mi(t){return new bm(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=vt.fromPath(r);return this.gi(t,o).next((h=>{h||i.removeEntry(o,wt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Fc{constructor(t,i){this.persistence=t,this.pi=new ta((r=>rA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_w(this,i)}static mi(t,i){return new Fc(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,o)=>this.br(t,r,o).next((h=>h?J.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,h.removeEntry(d,wt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Sm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Ht(),o=Ht();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Sm(t,i.fromCache,r,o)}}class Nw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Dw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E1()?8:iA(hn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Nw;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Ha()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ha()<=Bt.DEBUG&&ut("QueryEngine","Query:",Ga(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ha()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):J.resolve())}ys(t,i){if(tv(i))return J.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Fd(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Ht(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(t,Fd(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,r,o){return tv(i)||o.isEqual(wt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?J.resolve(null):(Ha()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(i)),this.vs(t,d,i,$S(o,Io)).next((p=>p)))}))}Ds(t,i){let r=new He(U0(t));return i.forEach(((o,h)=>{lh(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,r){return Ha()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.ps.getDocumentsMatchingQuery(t,i,ur.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Am="LocalStore",Ow=3e8;class Vw{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Ee(qt),this.xs=new ta((h=>mm(h)),gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Tw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Mw(a,t,i,r){return new Vw(a,t,i,r)}async function rE(a,t){const i=Ct(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let _=Ht();for(const v of o){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of h){p.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Uw(a,t){const i=Ct(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,b){const A=v.batch,U=A.keys();let Z=J.resolve();return U.forEach((rt=>{Z=Z.next((()=>b.getEntry(_,rt))).next((at=>{const tt=v.docVersions.get(rt);ee(tt!==null,48541),at.version.compareTo(tt)<0&&(A.applyToRemoteDocument(at,v),at.isValidDocument()&&(at.setReadTime(v.commitVersion),b.addEntry(at)))}))})),Z.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ht();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function aE(a){const t=Ct(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function kw(a,t){const i=Ct(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const U=o.get(A);if(!U)return;p.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,A))));let Z=U.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(A)!==null?Z=Z.withResumeToken(rn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):b.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(b.resumeToken,r)),o=o.insert(A,Z),(function(at,tt,_t){return at.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=Ow?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0})(U,Z,b)&&p.push(i.Pi.updateTargetData(h,Z))}));let _=ds(),v=Ht();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),p.push(Lw(h,d,t.documentUpdates).next((b=>{_=b.ks,v=b.qs}))),!r.isEqual(wt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(b)}return J.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function Lw(a,t,i){let r=Ht(),o=Ht();return i.forEach((h=>r=r.add(h))),t.getEntries(a,r).next((h=>{let d=ds();return i.forEach(((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(wt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ut(Am,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Pw(a,t){const i=Ct(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=hm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function zw(a,t){const i=Ct(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ir(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Zd(a,t,i){const r=Ct(a),o=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;ut(Am,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function dv(a,t,i){const r=Ct(a);let o=wt.min(),h=Ht();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,b){const A=Ct(_),U=A.xs.get(b);return U!==void 0?J.resolve(A.Ms.get(U)):A.Pi.getTargetData(v,b)})(r,d,Vi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?o:wt.min(),i?h:Ht()))).next((p=>(jw(r,wA(t),p),{documents:p,Qs:h})))))}function jw(a,t,i){let r=a.Os.get(t)||wt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(t,r)}class mv{constructor(){this.activeTargetIds=DA()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Bw{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qw{Oo(t){}shutdown(){}}const gv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ec=null;function Jd(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}const Cd="RestConnection",Hw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Pc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,h){const d=Jd(),p=this.zo(t,i.toUriEncodedString());ut(Cd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(p),b=rl(v);return this.Jo(t,p,_,r,b).then((A=>(ut(Cd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw $a(Cd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(t,i,r,o,h,d){return this.Go(t,i,r,o,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),r&&r.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const r=Hw[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Fw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class Qw extends Gw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,h){const d=Jd();return new Promise(((p,_)=>{const v=new c0;v.setWithCredentials(!0),v.listenOnce(h0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case wc.NO_ERROR:const A=v.getResponseJson();ut(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case wc.TIMEOUT:ut(on,`RPC '${t}' ${d} timed out`),_(new dt($.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const U=v.getStatus();if(ut(on,`RPC '${t}' ${d} failed with status:`,U,"response text:",v.getResponseText()),U>0){let Z=v.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const rt=Z?.error;if(rt&&rt.status&&rt.message){const at=(function(_t){const nt=_t.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(nt)>=0?nt:$.UNKNOWN})(rt.status);_(new dt(at,rt.message))}else _(new dt($.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new dt($.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ut(on,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);ut(on,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",b,r,15)}))}T_(t,i,r){const o=Jd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=m0(),p=d0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const b=h.join("");ut(on,`Creating RPC '${t}' stream ${o}: ${b}`,_);const A=d.createWebChannel(b,_);this.I_(A);let U=!1,Z=!1;const rt=new Fw({Yo:tt=>{Z?ut(on,`Not sending because RPC '${t}' stream ${o} is closed:`,tt):(U||(ut(on,`Opening RPC '${t}' stream ${o} transport.`),A.open(),U=!0),ut(on,`RPC '${t}' stream ${o} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),at=(tt,_t,nt)=>{tt.listen(_t,(ft=>{try{nt(ft)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return at(A,go.EventType.OPEN,(()=>{Z||(ut(on,`RPC '${t}' stream ${o} transport opened.`),rt.o_())})),at(A,go.EventType.CLOSE,(()=>{Z||(Z=!0,ut(on,`RPC '${t}' stream ${o} transport closed`),rt.a_(),this.E_(A))})),at(A,go.EventType.ERROR,(tt=>{Z||(Z=!0,$a(on,`RPC '${t}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),rt.a_(new dt($.UNAVAILABLE,"The operation could not be completed")))})),at(A,go.EventType.MESSAGE,(tt=>{if(!Z){const _t=tt.data[0];ee(!!_t,16349);const nt=_t,ft=nt?.error||nt[0]?.error;if(ft){ut(on,`RPC '${t}' stream ${o} received error:`,ft);const ne=ft.status;let Yt=(function(S){const C=ze[S];if(C!==void 0)return Y0(C)})(ne),Ft=ft.message;Yt===void 0&&(Yt=$.INTERNAL,Ft="Unknown error status: "+ne+" with message "+ft.message),Z=!0,rt.a_(new dt(Yt,Ft)),A.close()}else ut(on,`RPC '${t}' stream ${o} received:`,_t),rt.u_(_t)}})),at(p,f0.STAT_EVENT,(tt=>{tt.stat===zd.PROXY?ut(on,`RPC '${t}' stream ${o} detected buffering proxy`):tt.stat===zd.NOPROXY&&ut(on,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{rt.__()}),0),rt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Id(){return typeof document<"u"?document:null}function hh(a){return new ZA(a,!0)}class lE{constructor(t,i,r=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class oE{constructor(t,i,r,o,h,d,p,_){this.Mi=t,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new dt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yw extends oE{constructor(t,i,r,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=WA(this.serializer,t),r=(function(h){if(!("targetChange"in h))return wt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?Mi(d.readTime):wt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Xd(this.serializer),i.addTarget=(function(h,d){let p;const _=d.target;if(p=Gd(_)?{documents:nw(h,_)}:{query:iw(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Z0(h,d.resumeToken);const v=Qd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(wt.min())>0){p.readTime=Gc(h,d.snapshotVersion.toTimestamp());const v=Qd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=rw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Xd(this.serializer),i.removeTarget=t,this.q_(i)}}class Kw extends oE{constructor(t,i,r,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=ew(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Xd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>tw(this.serializer,r)))};this.q_(i)}}class Xw{}class Zw extends Xw{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Yd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt($.UNKNOWN,h.toString())}))}Ho(t,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Yd(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Jw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class $w{constructor(t,i,r,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{na(this)&&(ut(Jr,"Restarting streams for network reachability change."),await(async function(_){const v=Ct(_);v.Ea.add(4),await Bo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await fh(v)})(this))}))})),this.Ra=new Jw(r,o)}}async function fh(a){if(na(a))for(const t of a.da)await t(!0)}async function Bo(a){for(const t of a.da)await t(!1)}function uE(a,t){const i=Ct(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Im(i)?Cm(i):cl(i).O_()&&Rm(i,t))}function wm(a,t){const i=Ct(a),r=cl(i);i.Ia.delete(t),r.O_()&&cE(i,t),i.Ia.size===0&&(r.O_()?r.L_():na(i)&&i.Ra.set("Unknown"))}function Rm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}cl(a).Y_(t)}function cE(a,t){a.Va.Ue(t),cl(a).Z_(t)}function Cm(a){a.Va=new QA({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),cl(a).start(),a.Ra.ua()}function Im(a){return na(a)&&!cl(a).x_()&&a.Ia.size>0}function na(a){return Ct(a).Ea.size===0}function hE(a){a.Va=void 0}async function Ww(a){a.Ra.set("Online")}async function t2(a){a.Ia.forEach(((t,i)=>{Rm(a,t)}))}async function e2(a,t){hE(a),Im(a)?(a.Ra.ha(t),Cm(a)):a.Ra.set("Unknown")}async function n2(a,t,i){if(a.Ra.set("Online"),t instanceof X0&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(r){ut(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Qc(a,r)}else if(t instanceof xc?a.Va.Ze(t):t instanceof K0?a.Va.st(t):a.Va.tt(t),!i.isEqual(wt.min()))try{const r=await aE(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.Ia.get(v);b&&h.Ia.set(v,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const b=h.Ia.get(_);if(!b)return;h.Ia.set(_,b.withResumeToken(rn.EMPTY_BYTE_STRING,b.snapshotVersion)),cE(h,_);const A=new ir(b.target,_,v,b.sequenceNumber);Rm(h,A)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){ut(Jr,"Failed to raise snapshot:",r),await Qc(a,r)}}async function Qc(a,t,i){if(!ul(t))throw t;a.Ea.add(1),await Bo(a),a.Ra.set("Offline"),i||(i=()=>aE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ut(Jr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await fh(a)}))}function fE(a,t){return t().catch((i=>Qc(a,i,t)))}async function dh(a){const t=Ct(a),i=dr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hm;for(;i2(t);)try{const o=await Pw(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,s2(t,o)}catch(o){await Qc(t,o)}dE(t)&&mE(t)}function i2(a){return na(a)&&a.Ta.length<10}function s2(a,t){a.Ta.push(t);const i=dr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function dE(a){return na(a)&&!dr(a).x_()&&a.Ta.length>0}function mE(a){dr(a).start()}async function r2(a){dr(a).ra()}async function a2(a){const t=dr(a);for(const i of a.Ta)t.ea(i.mutations)}async function l2(a,t,i){const r=a.Ta.shift(),o=_m.from(r,t,i);await fE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await dh(a)}async function o2(a,t){t&&dr(a).X_&&await(async function(r,o){if((function(d){return HA(d)&&d!==$.ABORTED})(o.code)){const h=r.Ta.shift();dr(r).B_(),await fE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await dh(r)}})(a,t),dE(a)&&mE(a)}async function _v(a,t){const i=Ct(a);i.asyncQueue.verifyOperationInProgress(),ut(Jr,"RemoteStore received new credentials");const r=na(i);i.Ea.add(3),await Bo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await fh(i)}async function u2(a,t){const i=Ct(a);t?(i.Ea.delete(2),await fh(i)):t||(i.Ea.add(2),await Bo(i),i.Ra.set("Unknown"))}function cl(a){return a.ma||(a.ma=(function(i,r,o){const h=Ct(i);return h.sa(),new Yw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:Ww.bind(null,a),t_:t2.bind(null,a),r_:e2.bind(null,a),H_:n2.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Im(a)?Cm(a):a.Ra.set("Unknown")):(await a.ma.stop(),hE(a))}))),a.ma}function dr(a){return a.fa||(a.fa=(function(i,r,o){const h=Ct(i);return h.sa(),new Kw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:r2.bind(null,a),r_:o2.bind(null,a),ta:a2.bind(null,a),na:l2.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await dh(a)):(await a.fa.stop(),a.Ta.length>0&&(ut(Jr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class xm{constructor(t,i,r,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,h){const d=Date.now()+r,p=new xm(t,i,d,o,h);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(a,t){if(fs("AsyncQueue",`${t}: ${a}`),ul(a))return new dt($.UNAVAILABLE,`${t}: ${a}`);throw a}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=po(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class vv{constructor(){this.ga=new Ee(vt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class il{constructor(t,i,r,o,h,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new il(t,i,Ya.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class c2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class h2{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ct(i),h=o.queries;o.queries=Ev(),h.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new dt($.ABORTED,"Firestore shutting down"))}}function Ev(){return new ta((a=>M0(a)),ah)}async function f2(a,t){const i=Ct(a);let r=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(r=2):(h=new c2,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Nm(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Dm(i)}async function d2(a,t){const i=Ct(a),r=t.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function m2(a,t){const i=Ct(a);let r=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Dm(i)}function g2(a,t,i){const r=Ct(a),o=r.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(t)}function Dm(a){a.Ca.forEach((t=>{t.next()}))}var $d,Tv;(Tv=$d||($d={})).Ma="default",Tv.Cache="cache";class p2{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new il(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$d.Cache}}class gE{constructor(t){this.key=t}}class pE{constructor(t){this.key=t}}class y2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=U0(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new vv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const U=o.get(b),Z=lh(this.query,A)?A:null,rt=!!U&&this.mutatedKeys.has(U.key),at=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let tt=!1;U&&Z?U.data.isEqual(Z.data)?rt!==at&&(r.track({type:3,doc:Z}),tt=!0):this.su(U,Z)||(r.track({type:2,doc:Z}),tt=!0,(_&&this.eu(Z,_)>0||v&&this.eu(Z,v)<0)&&(p=!0)):!U&&Z?(r.track({type:0,doc:Z}),tt=!0):U&&!Z&&(r.track({type:1,doc:U}),tt=!0,(_||v)&&(p=!0)),tt&&(Z?(d=d.add(Z),h=at?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Z,rt){const at=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:tt})}};return at(Z)-at(rt)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new il(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new pE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new gE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class _2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class v2{constructor(t){this.key=t,this.hu=!1}}class E2{constructor(t,i,r,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>M0(p)),ah),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(vt.comparator),this.Au=new Map,this.Ru=new Tm,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T2(a,t,i=!0){const r=bE(a);let o;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await yE(r,t,i,!0),o}async function b2(a,t){const i=bE(a);await yE(i,t,!0,!1)}async function yE(a,t,i,r){const o=await zw(a.localStore,Vi(t)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await S2(a,t,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&uE(a.remoteStore,o),p}async function S2(a,t,i,r,o){a.pu=(A,U,Z)=>(async function(at,tt,_t,nt){let ft=tt.view.ru(_t);ft.Cs&&(ft=await dv(at.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,ft))));const ne=nt&&nt.targetChanges.get(tt.targetId),Yt=nt&&nt.targetMismatches.get(tt.targetId)!=null,Ft=tt.view.applyChanges(ft,at.isPrimaryClient,ne,Yt);return Sv(at,tt.targetId,Ft.au),Ft.snapshot})(a,A,U,Z);const h=await dv(a.localStore,t,!0),d=new y2(t,h.Qs),p=d.ru(h.documents),_=jo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,_);Sv(a,i,v.au);const b=new _2(t,i,d);return a.Tu.set(t,b),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function A2(a,t,i){const r=Ct(a),o=r.Tu.get(t),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!ah(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&wm(r.remoteStore,o.targetId),Wd(r,o.targetId)})).catch(ol)):(Wd(r,o.targetId),await Zd(r.localStore,o.targetId,!0))}async function w2(a,t){const i=Ct(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),wm(i.remoteStore,r.targetId))}async function R2(a,t,i){const r=V2(a);try{const o=await(function(d,p){const _=Ct(d),v=ge.now(),b=p.reduce(((Z,rt)=>Z.add(rt.key)),Ht());let A,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(Z=>{let rt=ds(),at=Ht();return _.Ns.getEntries(Z,b).next((tt=>{rt=tt,rt.forEach(((_t,nt)=>{nt.isValidDocument()||(at=at.add(_t))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Z,rt))).next((tt=>{A=tt;const _t=[];for(const nt of p){const ft=PA(nt,A.get(nt.key).overlayedDocument);ft!=null&&_t.push(new ea(nt.key,ft,C0(ft.value.mapValue),cs.exists(!0)))}return _.mutationQueue.addMutationBatch(Z,v,_t,p)})).next((tt=>{U=tt;const _t=tt.applyToLocalDocumentSet(A,at);return _.documentOverlayCache.saveOverlays(Z,tt.batchId,_t)}))})).then((()=>({batchId:U.batchId,changes:L0(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ee(qt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await qo(r,o.changes),await dh(r.remoteStore)}catch(o){const h=Nm(o,"Failed to persist write");i.reject(h)}}async function _E(a,t){const i=Ct(a);try{const r=await kw(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ee(d.hu,14607):o.removedDocuments.size>0&&(ee(d.hu,42227),d.hu=!1))})),await qo(i,r,t)}catch(r){await ol(r)}}function bv(a,t,i){const r=Ct(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ct(d);_.onlineState=p;let v=!1;_.queries.forEach(((b,A)=>{for(const U of A.Sa)U.va(p)&&(v=!0)})),v&&Dm(_)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function C2(a,t,i){const r=Ct(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),h=o&&o.key;if(h){let d=new Ee(vt.comparator);d=d.insert(h,cn.newNoDocument(h,wt.min()));const p=Ht().add(h),_=new ch(wt.min(),new Map,new Ee(qt),d,p);await _E(r,_),r.du=r.du.remove(h),r.Au.delete(t),Vm(r)}else await Zd(r.localStore,t,!1).then((()=>Wd(r,t,i))).catch(ol)}async function I2(a,t){const i=Ct(a),r=t.batch.batchId;try{const o=await Uw(i.localStore,t);EE(i,r,null),vE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await qo(i,o)}catch(o){await ol(o)}}async function x2(a,t,i){const r=Ct(a);try{const o=await(function(d,p){const _=Ct(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return _.mutationQueue.lookupMutationBatch(v,p).next((A=>(ee(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(v,A)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>_.localDocuments.getDocuments(v,b)))}))})(r.localStore,t);EE(r,t,i),vE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await qo(r,o)}catch(o){await ol(o)}}function vE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function EE(a,t,i){const r=Ct(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Wd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||TE(a,r)}))}function TE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(wm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Vm(a))}function Sv(a,t,i){for(const r of i)r instanceof gE?(a.Ru.addReference(r.key,t),N2(a,r)):r instanceof pE?(ut(Om,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||TE(a,r.key)):bt(19791,{wu:r})}function N2(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ut(Om,"New document in limbo: "+i),a.Eu.add(r),Vm(a))}function Vm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new vt(ve.fromString(t)),r=a.fu.next();a.Au.set(r,new v2(i)),a.du=a.du.insert(i,r),uE(a.remoteStore,new ir(Vi(pm(i.path)),r,"TargetPurposeLimboResolution",nh.ce))}}async function qo(a,t,i){const r=Ct(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((v=>{if((v||i)&&r.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(v){o.push(v);const b=Sm.As(_.targetId,v);h.push(b)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const b=Ct(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(v,(U=>J.forEach(U.Es,(Z=>b.persistence.referenceDelegate.addReference(A,U.targetId,Z))).next((()=>J.forEach(U.ds,(Z=>b.persistence.referenceDelegate.removeReference(A,U.targetId,Z)))))))))}catch(A){if(!ul(A))throw A;ut(Am,"Failed to update sequence numbers: "+A)}for(const A of v){const U=A.targetId;if(!A.fromCache){const Z=b.Ms.get(U),rt=Z.snapshotVersion,at=Z.withLastLimboFreeSnapshotVersion(rt);b.Ms=b.Ms.insert(U,at)}}})(r.localStore,h))}async function D2(a,t){const i=Ct(a);if(!i.currentUser.isEqual(t)){ut(Om,"User change. New user:",t.toKey());const r=await rE(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((_=>{_.reject(new dt($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qo(i,r.Ls)}}function O2(a,t){const i=Ct(a),r=i.Au.get(t);if(r&&r.hu)return Ht().add(r.key);{let o=Ht();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function bE(a){const t=Ct(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C2.bind(null,t),t.Pu.H_=m2.bind(null,t.eventManager),t.Pu.yu=g2.bind(null,t.eventManager),t}function V2(a){const t=Ct(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,t),t}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Mw(this.persistence,new Dw,t.initialUser,this.serializer)}Cu(t){return new sE(bm.mi,this.serializer)}Du(t){return new Bw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class M2 extends Yc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ee(this.persistence.referenceDelegate instanceof Fc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new sE((r=>Fc.mi(r,i)),this.serializer)}}class tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new h2})()}createDatastore(t){const i=hh(t.databaseInfo.databaseId),r=(function(h){return new Qw(h)})(t.databaseInfo);return(function(h,d,p,_){return new Zw(h,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,h,d,p){return new $w(r,o,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>bv(this.syncEngine,i,0)),(function(){return pv.v()?new pv:new qw})())}createSyncEngine(t,i){return(function(o,h,d,p,_,v,b){const A=new E2(o,h,d,p,_,v);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ct(i);ut(Jr,"RemoteStore shutting down."),r.Ea.add(5),await Bo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class U2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const mr="FirestoreClient";class k2{constructor(t,i,r,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ut(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Nm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function xd(a,t){a.asyncQueue.verifyOperationInProgress(),ut(mr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await rE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Av(a,t){a.asyncQueue.verifyOperationInProgress();const i=await L2(a);ut(mr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>_v(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>_v(t.remoteStore,o))),a._onlineComponents=t}async function L2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(mr,"Using user provided OfflineComponentProvider");try{await xd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await xd(a,new Yc)}}else ut(mr,"Using default OfflineComponentProvider"),await xd(a,new M2(void 0));return a._offlineComponents}async function SE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(mr,"Using user provided OnlineComponentProvider"),await Av(a,a._uninitializedComponentsProvider._online)):(ut(mr,"Using default OnlineComponentProvider"),await Av(a,new tm))),a._onlineComponents}function P2(a){return SE(a).then((t=>t.syncEngine))}async function z2(a){const t=await SE(a),i=t.eventManager;return i.onListen=T2.bind(null,t.syncEngine),i.onUnlisten=A2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=b2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=w2.bind(null,t.syncEngine),i}function j2(a,t,i={}){const r=new or;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,_,v){const b=new U2({next:U=>{b.Nu(),d.enqueueAndForget((()=>d2(h,A)));const Z=U.docs.has(p);!Z&&U.fromCache?v.reject(new dt($.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&U.fromCache&&_&&_.source==="server"?v.reject(new dt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),A=new p2(pm(p.path),b,{includeMetadataChanges:!0,qa:!0});return f2(h,A)})(await z2(a),a.asyncQueue,t,i,r))),r.promise}function AE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const wv=new Map;const wE="firestore.googleapis.com",Rv=!0;class Cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wE,this.ssl=Rv}else this.host=t.host,this.ssl=t.ssl??Rv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mw)throw new dt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mm{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jS;switch(r.type){case"firstParty":return new GS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=wv.get(i);r&&(ut("ComponentProvider","Removing Datastore"),wv.delete(i),r.terminate())})(this),Promise.resolve()}}function B2(a,t,i,r={}){a=Co(a,Mm);const o=rl(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(e0(`https://${p}`),n0("Firestore",!0)),h.host!==wE&&h.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:o,emulatorOptions:r};if(!Kr(_,d)&&(a._setSettings(_),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=un.MOCK_USER;else{v=h1(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new dt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(A)}a._authCredentials=new BS(new p0(v,b))}}class Um{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Um(this.firestore,t,this._query)}}class Ze{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Po(i,Ze._jsonSchema))return new Ze(t,r||null,new vt(ve.fromString(i.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:je("string",Ze._jsonSchemaVersion),referencePath:je("string")};class Mo extends Um{constructor(t,i,r){super(t,i,pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new vt(t))}withConverter(t){return new Mo(this.firestore,t,this._path)}}function Tc(a,t,...i){if(a=Yn(a),arguments.length===1&&(t=um.newId()),ZS("doc","path",t),a instanceof Mm){const r=ve.fromString(t,...i);return B_(r),new Ze(a,null,new vt(r))}{if(!(a instanceof Ze||a instanceof Mo))throw new dt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ve.fromString(t,...i));return B_(r),new Ze(a.firestore,a instanceof Mo?a.converter:null,new vt(r))}}const Iv="AsyncQueue";class xv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const r=Id();r&&ut(Iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;ut(Iv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",Nv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=xm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Nv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class km extends Mm{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xv(t),this._firestoreClient=void 0,await t}}}function q2(a,t){const i=typeof a=="object"?a:a0(),r=typeof a=="string"?a:Pc,o=lm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=u1("firestore");h&&B2(o,...h)}return o}function RE(a){if(a._terminated)throw new dt($.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||H2(a),a._firestoreClient}function H2(a){const t=a._freezeSettings(),i=(function(o,h,d,p){return new oA(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new k2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(rn.fromBase64String(t))}catch(i){throw new dt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Po(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:je("string",Qn._jsonSchemaVersion),bytes:je("string")};class Lm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class CE{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Po(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:je("string",Ui._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Po(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ki(t.vectorValues);throw new dt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:je("string",ki._jsonSchemaVersion),vectorValues:je("object")};const G2=/^__.*__$/;class F2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,i,this.fieldTransforms):new zo(t,this.data,i,this.fieldTransforms)}}function IE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:a})}}class Pm{constructor(t,i,r,o,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Pm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IE(this.Ac)&&G2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||hh(t)}Cc(t,i,r,o=!1){return new Pm({Ac:t,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y2(a){const t=a._freezeSettings(),i=hh(a._databaseId);return new Q2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function K2(a,t,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,o);OE("Data must be an object, but it was:",d,r);const p=NE(r,d);let _,v;if(h.merge)_=new ai(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const A of h.mergeFields){const U=X2(t,A,i);if(!d.contains(U))throw new dt($.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);J2(b,U)||b.push(U)}_=new ai(b),v=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,v=d.fieldTransforms;return new F2(new Fn(p),_,v)}function xE(a,t){if(DE(a=Yn(a)))return OE("Unsupported field value:",t,a),NE(a,t);if(a instanceof CE)return(function(r,o){if(!IE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let _=xE(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(a,t)}return(function(r,o){if((r=Yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ge.fromDate(r);return{timestampValue:Gc(o.serializer,h)}}if(r instanceof ge){const h=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,h)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:Z0(o.serializer,r._byteString)};if(r instanceof Ze){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Em(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(d,p){return{mapValue:{fields:{[w0]:{stringValue:R0},[zc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return ym(p.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${cm(r)}`)})(a,t)}function NE(a,t){const i={};return v0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(a,((r,o)=>{const h=xE(o,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function DE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ge||a instanceof Ui||a instanceof Qn||a instanceof Ze||a instanceof CE||a instanceof ki)}function OE(a,t,i){if(!DE(i)||!y0(i)){const r=cm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function X2(a,t,i){if((t=Yn(t))instanceof Lm)return t._internalPath;if(typeof t=="string")return VE(a,t);throw Kc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Z2=new RegExp("[~\\*/\\[\\]]");function VE(a,t,i){if(t.search(Z2)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Lm(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Kc(a,t,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new dt($.INVALID_ARGUMENT,p+a+_)}function J2(a,t){return a.some((i=>i.isEqual(t)))}class ME{constructor(t,i,r,o,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(UE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $2 extends ME{data(){return super.data()}}function UE(a,t){return typeof t=="string"?VE(a,t):t instanceof Lm?t._internalPath:t._delegate._internalPath}class W2{convertValue(t,i="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Wr(t,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[zc].arrayValue?.values?.map((r=>Ne(r.doubleValue)));return new ki(i)}convertGeoPoint(t){return new Ui(Ne(t.latitude),Ne(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=sh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=cr(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ve.fromString(t);ee(nE(r),9688,{name:t});const o=new No(r.get(1),r.get(3)),h=new vt(r.popFirst(5));return o.isEqual(i)||fs(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function tR(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class _o{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends ME{constructor(t,i,r,o,h,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(UE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:je("string",Qr._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Nc extends Qr{data(t={}){return super.data(t)}}class Ao{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new _o(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Nc(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const _=new Nc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:eR(p.type),doc:_,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:a})}}function bc(a){a=Co(a,Ze);const t=Co(a.firestore,km);return j2(RE(t),a._key).then((i=>sR(t,a,i)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:je("string",Ao._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class nR extends W2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,i)}}function Nd(a,t,i){a=Co(a,Ze);const r=Co(a.firestore,km),o=tR(a.converter,t);return iR(r,[K2(Y2(r),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,cs.none())])}function iR(a,t){return(function(r,o){const h=new or;return r.asyncQueue.enqueueAndForget((async()=>R2(await P2(r),o,h))),h.promise})(RE(a),t)}function sR(a,t,i){const r=i.docs.get(t._key),o=new nR(a);return new Qr(a,o,t._key,r,new _o(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){ll=o})(al),Ja(new Xr("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new km(new qS(r.getProvider("auth-internal")),new FS(d,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new dt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(v.options.projectId,b)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),ar(L_,P_,t),ar(L_,P_,"esm2020")})();function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rR=kE,LE=new ko("auth","Firebase",kE());const Xc=new rm("@firebase/auth");function aR(a,...t){Xc.logLevel<=Bt.WARN&&Xc.warn(`Auth (${al}): ${a}`,...t)}function Dc(a,...t){Xc.logLevel<=Bt.ERROR&&Xc.error(`Auth (${al}): ${a}`,...t)}function ji(a,...t){throw jm(a,...t)}function oi(a,...t){return jm(a,...t)}function zm(a,t,i){const r={...rR(),[t]:i};return new ko("auth","Firebase",r).create(t,{appName:a.name})}function Yr(a){return zm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lR(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&ji(a,"argument-error"),zm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return LE.create(a,...t)}function At(a,t,...i){if(!a)throw jm(t,...i)}function os(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Dc(t),new Error(t)}function ms(a,t){a||os(t)}function em(){return typeof self<"u"&&self.location?.href||""}function oR(){return Dv()==="http:"||Dv()==="https:"}function Dv(){return typeof self<"u"&&self.location?.protocol||null}function uR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oR()||y1()||"connection"in navigator)?navigator.onLine:!0}function cR(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Ho{constructor(t,i){this.shortDelay=t,this.longDelay=i,ms(i>t,"Short delay should be less than long delay!"),this.isMobile=m1()||_1()}get(){return uR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(a,t){ms(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class PE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dR=new Ho(3e4,6e4);function qm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function hl(a,t,i,r,o={}){return zE(a,o,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const p=Lo({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...h};return p1()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&rl(a.emulatorConfig.host)&&(v.credentials="include"),PE.fetch()(await jE(a,a.config.apiHost,i,p),v)})}async function zE(a,t,i){a._canInitEmulator=!1;const r={...hR,...t};try{const o=new gR(a),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Sc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(a,"user-disabled",d);const b=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw zm(a,b,v);ji(a,b)}}catch(o){if(o instanceof gs)throw o;ji(a,"network-request-failed",{message:String(o)})}}async function mR(a,t,i,r,o={}){const h=await hl(a,t,i,r,o);return"mfaPendingCredential"in h&&ji(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function jE(a,t,i,r){const o=`${t}${i}?${r}`,h=a,d=h.config.emulator?Bm(a.config,o):`${a.config.apiScheme}://${o}`;return fR.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class gR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),dR.get())})}}function Sc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=oi(a,t,r);return o.customData._tokenResponse=i,o}async function pR(a,t){return hl(a,"POST","/v1/accounts:delete",t)}async function Zc(a,t){return hl(a,"POST","/v1/accounts:lookup",t)}function wo(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yR(a,t=!1){const i=Yn(a),r=await i.getIdToken(t),o=Hm(r);At(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:r,authTime:wo(Dd(o.auth_time)),issuedAtTime:wo(Dd(o.iat)),expirationTime:wo(Dd(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Dd(a){return Number(a)*1e3}function Hm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jv(i);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ov(a){const t=Hm(a);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Uo(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof gs&&_R(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function _R({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class vR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(a){const t=a.auth,i=await a.getIdToken(),r=await Uo(a,Zc(t,{idToken:i}));At(r?.users.length,t,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const h=o.providerUserInfo?.length?BE(o.providerUserInfo):[],d=TR(a.providerData,h),p=a.isAnonymous,_=!(a.email&&o.passwordHash)&&!d?.length,v=p?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(a,b)}async function ER(a){const t=Yn(a);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TR(a,t){return[...a.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function BE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bR(a,t){const i=await zE(a,{},async()=>{const r=Lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=a.config,d=await jE(a,o,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&rl(a.emulatorConfig.host)&&(_.credentials="include"),PE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function SR(a,t){return hl(a,"POST","/v2/accounts:revokeToken",qm(a,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=Ov(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:h}=await bR(t,i);this.updateTokensAndExpiration(r,o,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:h}=i,d=new Ka;return r&&(At(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(At(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(At(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return os("not implemented")}}function Ws(a,t){At(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new vR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yR(this,t)}reload(){return ER(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Yr(this.auth));const t=await this.getIdToken();return await Uo(this,pR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:U,isAnonymous:Z,providerData:rt,stsTokenManager:at}=i;At(A&&at,t,"internal-error");const tt=Ka.fromJSON(this.name,at);At(typeof A=="string",t,"internal-error"),Ws(r,t.name),Ws(o,t.name),At(typeof U=="boolean",t,"internal-error"),At(typeof Z=="boolean",t,"internal-error"),Ws(h,t.name),Ws(d,t.name),Ws(p,t.name),Ws(_,t.name),Ws(v,t.name),Ws(b,t.name);const _t=new li({uid:A,auth:t,email:o,emailVerified:U,displayName:r,isAnonymous:Z,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:tt,createdAt:v,lastLoginAt:b});return rt&&Array.isArray(rt)&&(_t.providerData=rt.map(nt=>({...nt}))),_&&(_t._redirectEventId=_),_t}static async _fromIdTokenResponse(t,i,r=!1){const o=new Ka;o.updateFromServerResponse(i);const h=new li({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Jc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];At(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?BE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,p=new Ka;p.updateFromIdToken(r);const _=new li({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(_,v),_}}const Vv=new Map;function us(a){ms(a instanceof Function,"Expected a class definition");let t=Vv.get(a);return t?(ms(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Vv.set(a,t),t)}class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qE.type="NONE";const Mv=qE;function Oc(a,t,i){return`firebase:${a}:${t}:${i}`}class Xa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:h}=this.auth;this.fullUserKey=Oc(this.userKey,o.apiKey,h),this.fullPersistenceKey=Oc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Xa(us(Mv),t,r);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||us(Mv);const d=Oc(r,t.config.apiKey,t.name);let p=null;for(const v of i)try{const b=await v._get(d);if(b){let A;if(typeof b=="string"){const U=await Zc(t,{idToken:b}).catch(()=>{});if(!U)break;A=await li._fromGetAccountInfoResponse(t,U,b)}else A=li._fromJSON(t,b);v!==h&&(p=A),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Xa(h,t,r):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Xa(h,t,r))}}function Uv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KE(t))return"Blackberry";if(XE(t))return"Webos";if(GE(t))return"Safari";if((t.includes("chrome/")||FE(t))&&!t.includes("edge/"))return"Chrome";if(YE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function HE(a=hn()){return/firefox\//i.test(a)}function GE(a=hn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FE(a=hn()){return/crios\//i.test(a)}function QE(a=hn()){return/iemobile/i.test(a)}function YE(a=hn()){return/android/i.test(a)}function KE(a=hn()){return/blackberry/i.test(a)}function XE(a=hn()){return/webos/i.test(a)}function Gm(a=hn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function AR(a=hn()){return Gm(a)&&!!window.navigator?.standalone}function wR(){return v1()&&document.documentMode===10}function ZE(a=hn()){return Gm(a)||YE(a)||XE(a)||KE(a)||/windows phone/i.test(a)||QE(a)}function JE(a,t=[]){let i;switch(a){case"Browser":i=Uv(hn());break;case"Worker":i=`${Uv(hn())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${r}`}class RR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,p)=>{try{const _=t(h);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function CR(a,t={}){return hl(a,"GET","/v2/passwordPolicy",qm(a,t))}const IR=6;class xR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??IR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class NR{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new RR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),r=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(Yr(this));const i=t?Yn(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CR(this),i=new xR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await SR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function mh(a){return Yn(a)}class kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=C1(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DR(a){Fm=a}function OR(a){return Fm.loadJS(a)}function VR(){return Fm.gapiScript}function MR(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function UR(a,t){const i=lm(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Kr(h,t??{}))return o;ji(o,"already-initialized")}return i.initialize({options:t})}function kR(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function LR(a,t,i){const r=mh(a);At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,h=$E(t),{host:d,port:p}=PR(t),_=p===null?"":`:${p}`,v={url:`${h}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){At(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),At(Kr(v,r.config.emulator)&&Kr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,rl(d)?(e0(`${h}//${d}${_}`),n0("Auth",!0)):zR()}function $E(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function PR(a){const t=$E(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const h=o[1];return{host:h,port:Lv(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:Lv(d)}}}function Lv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function zR(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class WE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function Za(a,t){return mR(a,"POST","/v1/accounts:signInWithIdp",qm(a,t))}const jR="http://localhost";class $r extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...h}=i;if(!r||!o)return null;const d=new $r(r,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:jR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Lo(i)}return t}}class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Go extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tr extends Go{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class ls extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ls.credential(i,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";class er extends Go{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends Go{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";class sl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const h=await li._fromIdTokenResponse(t,r,o),d=Pv(r);return new sl({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Pv(r);return new sl({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Pv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class $c extends gs{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new $c(t,i,r,o)}}function tT(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(a,h,t,r):h})}async function BR(a,t,i=!1){const r=await Uo(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return sl._forOperation(a,"link",r)}async function qR(a,t,i=!1){const{auth:r}=a;if(ri(r.app))return Promise.reject(Yr(r));const o="reauthenticate";try{const h=await Uo(a,tT(r,o,t,a),i);At(h.idToken,r,"internal-error");const d=Hm(h.idToken);At(d,r,"internal-error");const{sub:p}=d;return At(a.uid===p,r,"user-mismatch"),sl._forOperation(a,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),h}}async function HR(a,t,i=!1){if(ri(a.app))return Promise.reject(Yr(a));const r="signIn",o=await tT(a,r,t),h=await sl._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(h.user),h}function GR(a,t,i,r){return Yn(a).onIdTokenChanged(t,i,r)}function FR(a,t,i){return Yn(a).beforeAuthStateChanged(t,i)}function QR(a,t,i,r){return Yn(a).onAuthStateChanged(t,i,r)}function YR(a){return Yn(a).signOut()}const Wc="__sak";class eT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const KR=1e3,XR=10;class nT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);wR()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XR):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}nT.type="LOCAL";const ZR=nT;class iT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}iT.type="SESSION";const sT=iT;function JR(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,h)),_=await JR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Ym(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class $R{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((p,_)=>{const v=Ym("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const U=A;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(b),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(U.data.response);break;default:clearTimeout(b),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function WR(a){Li().location.href=a}function rT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function tC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eC(){return navigator?.serviceWorker?.controller||null}function nC(){return rT()?self:null}const aT="firebaseLocalStorageDb",iC=1,th="firebaseLocalStorage",lT="fbase_key";class Fo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(a,t){return a.transaction([th],t?"readwrite":"readonly").objectStore(th)}function sC(){const a=indexedDB.deleteDatabase(aT);return new Fo(a).toPromise()}function im(){const a=indexedDB.open(aT,iC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(th,{keyPath:lT})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(th)?t(r):(r.close(),await sC(),t(await im()))})})}async function zv(a,t,i){const r=ph(a,!0).put({[lT]:t,value:i});return new Fo(r).toPromise()}async function rC(a,t){const i=ph(a,!1).get(t),r=await new Fo(i).toPromise();return r===void 0?null:r.value}function jv(a,t){const i=ph(a,!0).delete(t);return new Fo(i).toPromise()}const aC=800,lC=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>lC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(nC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new $R(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await zv(t,Wc,"1"),await jv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>rC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>jv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=ph(o,!1).getAll();return new Fo(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const oC=oT;new Ho(3e4,6e4);function uT(a,t){return t?us(t):(At(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Km extends WE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function uC(a){return HR(a.auth,new Km(a),a.bypassAuthState)}function cC(a){const{auth:t,user:i}=a;return At(i,t,"internal-error"),qR(i,new Km(a),a.bypassAuthState)}async function hC(a){const{auth:t,user:i}=a;return At(i,t,"internal-error"),BR(i,new Km(a),a.bypassAuthState)}class cT{constructor(t,i,r,o,h=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return hC;case"reauthViaPopup":case"reauthViaRedirect":return cC;default:ji(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fC=new Ho(2e3,1e4);async function dC(a,t,i){if(ri(a.app))return Promise.reject(oi(a,"operation-not-supported-in-this-environment"));const r=mh(a);lR(a,t,Qm);const o=uT(r,i);return new Fr(r,"signInViaPopup",t,o).executeNotNull()}class Fr extends cT{constructor(t,i,r,o,h){super(t,i,o,h),this.provider=r,this.authWindow=null,this.pollId=null,Fr.currentPopupAction&&Fr.currentPopupAction.cancel(),Fr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fC.get())};t()}}Fr.currentPopupAction=null;const mC="pendingRedirect",Vc=new Map;class gC extends cT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const r=await pC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pC(a,t){const i=vC(t),r=_C(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function yC(a,t){Vc.set(a._key(),t)}function _C(a){return us(a._redirectPersistence)}function vC(a){return Oc(mC,a.config.apiKey,a.name)}async function EC(a,t,i=!1){if(ri(a.app))return Promise.reject(Yr(a));const r=mh(a),o=uT(r,t),d=await new gC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const TC=600*1e3;class bC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!hT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(oi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(t))}saveEventToCache(t){this.cachedEventUids.add(Bv(t)),this.lastProcessedEventTime=Date.now()}}function Bv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function hT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function SC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(a);default:return!1}}async function AC(a,t={}){return hl(a,"GET","/v1/projects",t)}const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RC=/^https?/;async function CC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await AC(a);for(const i of t)try{if(IC(i))return}catch{}ji(a,"unauthorized-domain")}function IC(a){const t=em(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!RC.test(i))return!1;if(wC.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const xC=new Ho(3e4,6e4);function qv(){const a=Li().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function NC(a){return new Promise((t,i)=>{function r(){qv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qv(),i(oi(a,"network-request-failed"))},timeout:xC.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=MR("iframefcb");return Li()[o]=()=>{gapi.load?r():i(oi(a,"network-request-failed"))},OR(`${VR()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function DC(a){return Mc=Mc||NC(a),Mc}const OC=new Ho(5e3,15e3),VC="__/auth/iframe",MC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(a){const t=a.config;At(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Bm(t,MC):`https://${a.config.authDomain}/${VC}`,r={apiKey:t.apiKey,appName:a.name,v:al},o=kC.get(a.config.apiHost);o&&(r.eid=o);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Lo(r).slice(1)}`}async function PC(a){const t=await DC(a),i=Li().gapi;return At(i,a,"internal-error"),t.open({where:document.body,url:LC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},r=>new Promise(async(o,h)=>{await r.restyle({setHideOnLeave:!1});const d=oi(a,"network-request-failed"),p=Li().setTimeout(()=>{h(d)},OC.get());function _(){Li().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{h(d)})}))}const zC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jC=500,BC=600,qC="_blank",HC="http://localhost";class Hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(a,t,i,r=jC,o=BC){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...zC,width:r.toString(),height:o.toString(),top:h,left:d},v=hn().toLowerCase();i&&(p=FE(v)?qC:i),HE(v)&&(t=t||HC,_.scrollbars="yes");const b=Object.entries(_).reduce((U,[Z,rt])=>`${U}${Z}=${rt},`,"");if(AR(v)&&p!=="_self")return FC(t||"",p),new Hv(null);const A=window.open(t||"",p,b);At(A,a,"popup-blocked");try{A.focus()}catch{}return new Hv(A)}function FC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const QC="__/auth/handler",YC="emulator/auth/handler",KC=encodeURIComponent("fac");async function Gv(a,t,i,r,o,h){At(a.config.authDomain,a,"auth-domain-config-required"),At(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:al,eventId:o};if(t instanceof Qm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",R1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Go){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await a._getAppCheckToken(),v=_?`#${KC}=${encodeURIComponent(_)}`:"";return`${XC(a)}?${Lo(p).slice(1)}${v}`}function XC({config:a}){return a.emulator?Bm(a,YC):`https://${a.authDomain}/${QC}`}const Od="webStorageSupport";class ZC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=EC,this._overrideRedirectResult=yC}async _openPopup(t,i,r,o){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Gv(t,i,r,em(),o);return GC(t,h,Ym())}async _openRedirect(t,i,r,o){await this._originValidation(t);const h=await Gv(t,i,r,em(),o);return WR(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(ms(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await PC(t),r=new bC(t);return i.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Od,{type:Od},o=>{const h=o?.[0]?.[Od];h!==void 0&&i(!!h),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=CC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ZE()||GE()||Gm()}}const JC=ZC;var Fv="@firebase/auth",Qv="1.12.0";class $C{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tI(a){Ja(new Xr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(a)},v=new NR(r,o,h,_);return kR(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ja(new Xr("auth-internal",t=>{const i=mh(t.getProvider("auth").getImmediate());return(r=>new $C(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(Fv,Qv,WC(a)),ar(Fv,Qv,"esm2020")}const eI=300,nI=t0("authIdTokenMaxAge")||eI;let Yv=null;const iI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>nI)return;const o=i?.token;Yv!==o&&(Yv=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sI(a=a0()){const t=lm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=UR(a,{popupRedirectResolver:JC,persistence:[oC,ZR,sT]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=iI(h.toString());FR(i,d,()=>d(i.currentUser)),GR(i,p=>d(p))}}const o=$v("auth");return o&&LR(i,`http://${o}`),i}function rI(){return document.getElementsByTagName("head")?.[0]??document}DR({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=o=>{const h=oi("internal-error");h.customData=o,i(h)},r.type="text/javascript",r.charset="UTF-8",rI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tI("Browser");const aI={apiKey:"AIzaSyCHC7orIw2DoRNnNHptjKc3eVY3DBm5Us0",authDomain:"yuka-morii-collection.firebaseapp.com",projectId:"yuka-morii-collection",storageBucket:"yuka-morii-collection.firebasestorage.app",messagingSenderId:"940128847250",appId:"1:940128847250:web:3707e587b7d569a93b6d4b"},fT=r0(aI),Vd=sI(fT),Ac=q2(fT),lI=new ls;function oI(){const[a,t]=Ae.useState(null),[i,r]=Ae.useState([]),[o,h]=Ae.useState(!0),[d,p]=Ae.useState(!1),[_,v]=Ae.useState(!1),[b,A]=Ae.useState("all"),[U,Z]=Ae.useState("all"),[rt,at]=Ae.useState(!1),[tt,_t]=Ae.useState(!1),[nt,ft]=Ae.useState(null),[ne,Yt]=Ae.useState(null),[Ft,I]=Ae.useState(null),[S,C]=Ae.useState("asc"),[V,D]=Ae.useState(null),[k,w]=Ae.useState(null),[fe,we]=Ae.useState("all");Ae.useEffect(()=>{const L=async()=>{try{const lt=await fetch("/yuka-morii-collection/cards.json");if(!lt.ok)throw new Error(`HTTP error! status: ${lt.status}`);const Et=await lt.json();console.log(" Loaded cards:",Et.length),r(Et),I(null)}catch(lt){console.error(" Error loading cards:",lt),I(`Failed to load cards.json: ${lt.message}`)}finally{h(!1)}},W=new URLSearchParams(window.location.search).get("user");if(W)v(!0),t({uid:W,email:"Shared Collection"}),L(),setTimeout(()=>G(W),500);else{const lt=QR(Vd,Et=>{Et?(t(Et),console.log(" User logged in:",Et.email)):at(!0)});return L(),lt}},[]);const G=async L=>{p(!0);try{const Q=Tc(Ac,"collections",L),W=await bc(Q);if(W.exists()){const lt=W.data(),Et=lt.ownerEmail||"A Collector";D(Et),t({uid:L,email:Et}),r(Vt=>Vt.map(yt=>({...yt,variations:it(yt.variations,lt[yt.id])})))}}catch(Q){console.error("Error loading shared collection:",Q)}finally{p(!1)}};Ae.useEffect(()=>{if(!a||_||i.length===0)return;(async()=>{p(!0);try{const Q=Tc(Ac,"collections",a.uid),W=await bc(Q);if(W.exists()){const lt=W.data();console.log(" Loaded user collection from Firebase"),r(Et=>Et.map(Vt=>({...Vt,variations:it(Vt.variations,lt[Vt.id])})))}}catch(Q){console.error("Error loading user collection:",Q)}finally{p(!1)}})()},[a,i.length]);const it=(L,Q)=>{if(!L)return{normal:{count:0,ordered:!1,languages:[]}};if(!Q)return L;const W={...L};return Object.keys(W).forEach(lt=>{Q[lt]&&(W[lt]={...W[lt],...Q[lt]})}),W};Ae.useEffect(()=>{if(nt){const L=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${L}px`,document.body.style.width="100%",document.body.dataset.scrollY=L.toString()}else{const L=parseInt(document.body.dataset.scrollY||"0");document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",L>0&&window.scrollTo(0,L)}return()=>{const L=parseInt(document.body.dataset.scrollY||"0");document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",delete document.body.dataset.scrollY,L>0&&window.scrollTo(0,L)}},[nt]);const mt=async()=>{try{const Q=(await dC(Vd,lI)).user,W=Tc(Ac,"collections",Q.uid),lt=await bc(W);if(!lt.exists())await Nd(W,{ownerEmail:Q.email,lastUpdated:new Date().toISOString()});else{const Et=lt.data();Et.ownerEmail||await Nd(W,{...Et,ownerEmail:Q.email,lastUpdated:new Date().toISOString()})}at(!1)}catch(L){if(console.error(" Google Sign-In error:",L),L.code==="auth/popup-closed-by-user"||L.code==="auth/cancelled-popup-request"){console.log("User cancelled sign-in");return}alert("Google Sign-In failed: "+L.message)}},Lt=(L,Q,W)=>{W&&W.stopPropagation(),!_&&r(lt=>{const Et=lt.map(yt=>{if(yt.id===L&&yt.variations[Q]){const pt=yt.variations[Q].ordered||!1;if((yt.variations[Q].count||0)>0)return yt;const xt={...yt.variations,[Q]:{...yt.variations[Q],ordered:!pt}};return Y(L,xt),{...yt,variations:xt}}return yt}),Vt=Et.find(yt=>yt.id===L);return Vt&&nt?.id===L&&ft(Vt),Et})},Kt=(L,Q,W)=>{W&&W.stopPropagation(),!_&&r(lt=>{const Et=lt.map(yt=>{if(yt.id===L&&yt.variations[Q]){const pt=yt.variations[Q].count||0,Ge=yt.variations[Q].available_languages||[],xt=yt.variations[Q].default_language||(Ge.length>0?Ge[0]:""),Mt={...yt.variations,[Q]:{...yt.variations[Q],count:pt+1,ordered:!1,languages:pt===0?xt?[xt]:[]:yt.variations[Q].languages||[]}};return Y(L,Mt),{...yt,variations:Mt}}return yt}),Vt=Et.find(yt=>yt.id===L);return Vt&&nt?.id===L&&ft(Vt),Et})},O=(L,Q,W)=>{W&&W.stopPropagation(),!_&&r(lt=>{const Et=lt.map(yt=>{if(yt.id===L&&yt.variations[Q]){const pt=yt.variations[Q].count||0,Ge=Math.max(0,pt-1),xt={...yt.variations,[Q]:{...yt.variations[Q],count:Ge,languages:Ge===0?[]:yt.variations[Q].languages||[]}};return Y(L,xt),{...yt,variations:xt}}return yt}),Vt=Et.find(yt=>yt.id===L);return Vt&&nt?.id===L&&ft(Vt),Et})},Y=async(L,Q)=>{if(!(!a||_))try{const W=Tc(Ac,"collections",a.uid),lt=await bc(W),Vt={...lt.exists()?lt.data():{},[L]:Q,lastUpdated:new Date().toISOString()};await Nd(W,Vt),console.log(` Successfully saved ${L}`)}catch(W){console.error(" Error saving to Firebase:",W)}},st=async()=>{try{await YR(Vd),t(null),r(L=>L.map(Q=>({...Q,variations:Object.keys(Q.variations||{}).reduce((W,lt)=>({...W,[lt]:{...Q.variations[lt],count:0,ordered:!1,languages:[]}}),{})}))),at(!0)}catch(L){console.error("Logout error:",L)}},ot=()=>{const L=`${window.location.origin}${window.location.pathname}?user=${a.uid}`;navigator.clipboard.writeText(L),alert("Share link copied to clipboard!")};function St(){return{"Unseen Forces":"https://static.tcgcollector.com/content/images/8b/69/08/8b690895e437bb8e05703beae93ab969d242e92fa3daf990301884ba09009fda.png","Delta Species":"https://static.tcgcollector.com/content/images/5c/a6/17/5ca6176f30689b2a44406af607118616d09ecf20e522bd2a317a3cd10a6a1803.png","Legend Maker":"https://www.tcgcollector.com/sets/1127/ex-legend-maker?setCardCountMode=anyCardVariant","Dragon Frontiers":"https://static.tcgcollector.com/content/images/8e/2d/44/8e2d443613a9641708c2418af15304a801e6b046367f65c84ba5ec99a4656ca7.png","Team Rocket Returns":"https://static.tcgcollector.com/content/images/78/8d/13/788d132009893c9127853650d194e307c22e1aa97ae05375504a06433901ff24.png",Deoxys:"https://static.tcgcollector.com/content/images/0e/15/fb/0e15fbb1fc543fc4ad62aeebcf73d05727768b2f87297116751c1bb668aabdd1.png",Emerald:"https://static.tcgcollector.com/content/images/f3/1e/52/f31e526e0e5972bc49611b9e96f62318c87558a70f697235b7dfe5dfd0173390.png","Mysterious Treasures":"https://static.tcgcollector.com/content/images/3f/a6/4e/3fa64e1cf41c21777401645a08260412a37958e87352306123eabd6a558c8f29.png","Stellar Crown":"https://static.tcgcollector.com/content/images/22/9d/b5/229db50764bfeb9e1a04db5c221fd5d2a4bc0d0e265d719bcc31667705a70de4.png"}}function It(L){if(!L.variations)return!1;const Q=Object.keys(L.variations).find(lt=>lt.toLowerCase().includes("expansion")&&lt.toLowerCase().includes("stamp"));if(!Q)return!1;const W=L.variations[Q];return W&&W.count>0}const Pt=L=>{const Q=[];return L&&((L.countdown_calendar?.count>0||L.holiday_calender_2023?.count>0)&&Q.push({type:"calendar",icon:"https://cdn-icons-png.flaticon.com/512/9141/9141642.png",alt:"Calendar"}),L.burger_king_collection_2008?.count>0&&Q.push({type:"burger_king",icon:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Burger_King_2020.svg/1024px-Burger_King_2020.svg.png",alt:"BK"}),(L.first_edition?.count>0||L.first_edition_holo?.count>0)&&Q.push({type:"first_edition",icon:"https://archives.bulbagarden.net/media/upload/0/0b/1st_edition_English.png",alt:"1st Ed"}),L["McDonal's_collections_2015"]?.count>0&&Q.push({type:"mcdonalds",icon:"https://static.tcgcollector.com/content/images/cd/68/ae/cd68aeeb12917f049a96466cda6f49c05f048663cf3a20b8102675037122767d.png",alt:"McDonald's"}),L.trick_or_trade_2023?.count>0&&Q.push({type:"trick_or_trade",icon:"https://static.tcgcollector.com/content/images/56/f2/0b/56f20b33b7fdbc299dcb083234a867e7df37aa7c468e1123f41c5affdb154c27.png",alt:"Trick or Trade"}),L["comic-con_san_diego_2007"]?.count>0&&Q.push({type:"comic_con",icon:"https://play-lh.googleusercontent.com/gNToWY4-nL4_uKA93aQw6qFmG8nE4Ukq6TX9RGaOZ8CxObRDKBoZOHlP2c5CyXPGXA=w600-h300-pc0xffffff-pd",alt:"Comic-Con"}),L["world_championship_deck_2004:_Blaziken_teach"]?.count>0&&Q.push({type:"world_championship_2004_blaziken_teach",icon:"https://static.tcgcollector.com/content/images/75/5f/25/755f25350a035533604832c437246b15b214a631d319a8e59ed760572b603eaf.png",alt:"World Championship 2004: Blaziken Teach"}),L.tropical_mega_battle_2001?.count>0&&Q.push({type:"tropical_mega_battle_2001",icon:"https://dextcg.com/cdn-cgi/image/w=2048,q=75,f=auto/https://static.dextcg.com/resources/variants/tropicalMegaBattle2001.webp",alt:"Tropical Mega Battle 2001"}),L.pokemon_center?.count>0&&Q.push({type:"pokemon_center",icon:"https://www.clipartmax.com/png/middle/30-301097_logo-pkmn-center-by-honokawa-pokemon-center.png",alt:"Pokemon Center"}),L["10th_anniversary"]?.count>0&&Q.push({type:"10th_anniversary",icon:"https://www.clipartmax.com/png/middle/213-2131138_pokmon-10th-anniversary-pokemon-10th-anniversary-logo.png",alt:"10th Anniversary"}),L.meiji?.count>0&&Q.push({type:"meiji",icon:"https://dextcg.com/cdn-cgi/image/w=2048,q=75,f=auto/https://static.dextcg.com/resources/variants/meiji.webp",alt:"Meiji"}),Object.keys(L).some(lt=>(lt.includes("expansion_stamp")||lt.includes("PRERELESE_stamp"))&&L[lt]?.count>0)&&Q.push({type:"stamp",icon:"https://dextcg.com/cdn-cgi/image/w=2048,q=75,f=auto/https://static.dextcg.com/resources/variants/StampVariant.webp",alt:"Stamp"}),L["play!_pokemon"]?.count>0&&Q.push({type:"play_pokemon",icon:"https://dextcg.com/cdn-cgi/image/w=2048,q=75,f=auto/https://static.dextcg.com/resources/variants/PlayPokemonVariant.webp",alt:"Play! Pokemon"}),L.cosmos_holo?.count>0&&Q.push({type:"cosmos_holo",icon:"https://dextcg.com/cdn-cgi/image/w=2048,q=75,f=auto/https://static.dextcg.com/resources/variants/HoloVariant.webp",alt:"Cosmos Holo"}),L.unpeeled_ditto?.count>0&&Q.push({type:"ditto",icon:"https://dextcg.com/cdn-cgi/image/w=2048,q=75,f=auto/https://static.dextcg.com/resources/variants/UnpeeledDittoVariant.webp",alt:"Ditto"})),Q},Te=(L,Q,W,lt)=>{lt&&lt.stopPropagation(),!_&&r(Et=>{const Vt=Et.map(pt=>{if(pt.id===L&&pt.variations[Q]){if((pt.variations[Q].count||0)===0)return pt;const xt=pt.variations[Q].languages||[],Mt=xt.includes(W)?xt.filter(Fe=>Fe!==W):[...xt,W],Xt={...pt.variations,[Q]:{...pt.variations[Q],languages:Mt}};return Y(L,Xt),{...pt,variations:Xt}}return pt}),yt=Vt.find(pt=>pt.id===L);return yt&&nt?.id===L&&ft(yt),Vt})},te=L=>{if(!L.variations)return{owned:"no",total:1};const Q=Object.values(L.variations),W=Q.some(Et=>Et.count&&Et.count>0),lt=!W&&Q.some(Et=>Et.ordered===!0&&(!Et.count||Et.count===0));return W?{owned:"yes",total:Q.length}:lt?{owned:"ordered",total:Q.length}:{owned:"no",total:Q.length}},Sn={total:i.length,owned:i.filter(L=>te(L).owned==="yes").length,ordered:i.filter(L=>te(L).owned==="ordered").length,needed:i.filter(L=>te(L).owned==="no").length,trade:i.filter(L=>L.variations&&Object.values(L.variations).some(Q=>(Q.count||0)>1)).length,completion:i.length>0?Math.round(i.filter(L=>te(L).owned==="yes").length/i.length*100):0},an=i.filter(L=>{const Q=te(L),W=L.variations&&Object.values(L.variations).some(Vt=>(Vt.count||0)>1),lt=b==="all"?!0:b==="trade"?W:Q.owned===b,Et=U==="all"||L.era===U;return lt&&Et}).sort((L,Q)=>{const W=parseInt(L.sheet_no)||0,lt=parseInt(Q.sheet_no)||0;return S==="asc"?W-lt:lt-W}),ps=["all",...new Set(i.map(L=>L.era).filter(Boolean))],ui=L=>{L&&L.stopPropagation();const Q=an.findIndex(Et=>Et.id===nt.id),W=Q>0?Q-1:an.length-1,lt=an[W];ft(lt),Yt(Object.keys(lt.variations)[0])},mn=L=>{L&&L.stopPropagation();const Q=an.findIndex(Et=>Et.id===nt.id),W=Q<an.length-1?Q+1:0,lt=an[W];ft(lt),Yt(Object.keys(lt.variations)[0])},[ys,Bi]=Ae.useState(null),[_s,vs]=Ae.useState(null),_e=50,Re=L=>{vs(null),Bi(L.targetTouches[0].clientX)},ci=L=>{vs(L.targetTouches[0].clientX)},fl=()=>{if(!ys||!_s)return;const L=ys-_s,Q=L>_e,W=L<-_e;Q&&mn(),W&&ui()};return o?x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-purple-500"}),x.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl",children:""})]}),x.jsx("div",{className:"text-white text-3xl font-bold mb-4 mt-8 tracking-wider",children:"YUKA MORII"}),x.jsx("div",{className:"text-purple-300 text-lg",children:"Loading Collection..."})]}):rt&&!a?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:x.jsxs("div",{className:"relative bg-slate-800 bg-opacity-90 backdrop-blur-xl rounded-2xl shadow-2xl p-10 max-w-md w-full border border-purple-500/20",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Yuka Morii"}),x.jsx("p",{className:"text-purple-300 text-sm",children:"Trading Card Collection"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{type:"button",onClick:mt,className:"w-full bg-white text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-3 shadow-lg",children:[x.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[x.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),x.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),x.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),x.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),x.jsx("p",{className:"text-center text-purple-300 text-xs",children:"Sign in to save and sync your collection across devices"})]})]})}):x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[k&&x.jsxs("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",onClick:()=>w(null),children:[x.jsx("button",{onClick:()=>w(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white text-2xl z-10 backdrop-blur-sm",children:""}),x.jsx("img",{src:k,alt:"Card Detail",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:L=>L.stopPropagation()})]}),tt&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 max-w-md w-full border border-purple-500/30",children:[x.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Share Collection"}),x.jsx("p",{className:"text-purple-200 mb-4",children:"Anyone with this link can view your collection:"}),x.jsx("div",{className:"bg-slate-700 p-4 rounded-xl mb-6 break-all text-sm font-mono text-purple-300 border border-slate-600",children:`${window.location.origin}${window.location.pathname}?user=${a.uid}`}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:ot,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl font-semibold",children:" Copy Link"}),x.jsx("button",{onClick:()=>_t(!1),className:"flex-1 bg-slate-700 text-purple-200 py-3 rounded-xl font-semibold",children:"Close"})]})]})}),nt&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-md",onClick:L=>{L.target===L.currentTarget&&(ft(null),Yt(null))},onTouchStart:Re,onTouchMove:ci,onTouchEnd:fl,children:x.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full max-w-4xl",children:[x.jsxs("div",{className:"hidden md:flex items-center justify-center w-full",children:[x.jsx("button",{onClick:ui,className:"w-10 h-10 bg-slate-700/80 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-xl border border-purple-500/50 hover:border-purple-400 transition-all z-10 flex-shrink-0",children:""}),x.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-lg w-full border border-purple-500/30 mx-4",children:[x.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-slate-800 p-4",children:[x.jsx("button",{onClick:()=>{ft(null),Yt(null)},className:"absolute top-2 right-2 w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-lg z-10",children:""}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:L=>{L.stopPropagation(),w(nt.imageUrl)},children:x.jsx("img",{src:nt.imageUrl,alt:nt.name,className:"w-48 h-auto rounded-lg shadow-xl hover:opacity-80 transition-opacity"})}),x.jsxs("div",{className:"flex-1 text-white min-w-0",children:[x.jsx("h2",{className:"text-xl font-bold mb-1 truncate",children:nt.name}),x.jsxs("p",{className:"text-purple-300 text-sm mb-3",children:["#",nt.number,"  ",nt.set]}),x.jsxs("div",{className:"space-y-2 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[x.jsx("span",{children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-slate-400 text-[10px]",children:"Illustrator"}),x.jsx("div",{className:"font-semibold",children:"Yuka Morii"})]})]}),nt.era&&x.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[x.jsx("span",{children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-slate-400 text-[10px]",children:"Era"}),x.jsx("div",{className:"font-semibold",children:nt.era})]})]})]})]})]})]}),x.jsxs("div",{className:"p-4 max-h-[40vh] overflow-y-auto",children:[x.jsxs("h3",{className:"text-sm font-bold text-white mb-3 flex items-center gap-3",children:[x.jsx("span",{children:""}),"Variants"]}),x.jsx("div",{className:"space-y-1.5",children:nt.variations&&Object.entries(nt.variations).map(([L,Q])=>{const W=Q.count||0,lt=Q.ordered||!1,Et=Q.languages||[],Vt=Q.available_languages||[],yt=L.replace(/_/g," ").replace(/\b\w/g,pt=>pt.toUpperCase());return x.jsx("div",{className:"bg-slate-700/50 rounded-lg p-2",children:x.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[x.jsx("div",{className:"text-white font-semibold w-full sm:w-48 leading-tight text-xs sm:text-sm mb-1 sm:mb-0",title:yt,children:yt}),x.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap w-full sm:w-auto",children:[_?x.jsx("div",{className:"text-white font-bold text-sm",children:W}):x.jsxs("div",{className:"flex items-center gap-1.5 w-20",children:[x.jsx("button",{onClick:pt=>O(nt.id,L,pt),className:"w-6 h-6 bg-slate-600 hover:bg-slate-500 rounded text-white font-bold text-sm",children:""}),x.jsx("div",{className:"w-8 text-center",children:x.jsx("span",{className:"text-white font-bold text-sm",children:W})}),x.jsx("button",{onClick:pt=>Kt(nt.id,L,pt),className:"w-6 h-6 bg-purple-600 hover:bg-purple-500 rounded text-white font-bold text-sm",children:"+"})]}),!_&&x.jsx("div",{className:"flex items-center gap-1.5 w-20",children:Vt.map(pt=>{const Ge=Et.includes(pt),xt=Vt.includes(pt),Mt=W===0||!xt;return x.jsx("button",{onClick:Xt=>!Mt&&Te(nt.id,L,pt,Xt),disabled:Mt,className:`px-2 py-0.5 rounded text-[10px] font-semibold transition-all min-w-[32px] ${Ge?"bg-blue-600 text-white":Mt?"bg-slate-800 text-slate-500 cursor-not-allowed opacity-40":"bg-slate-600 text-slate-300 hover:bg-slate-500"}`,children:pt},pt)})}),!_&&x.jsxs("div",{className:"flex items-center gap-1.5 w-20",children:[x.jsx("span",{className:"text-slate-400 text-[10px]",children:"Ordered"}),x.jsx("button",{onClick:pt=>W===0&&Lt(nt.id,L,pt),disabled:W>0,className:`w-8 h-4 rounded-full transition-all relative ${lt&&W===0?"bg-yellow-600":"bg-slate-600"} ${W>0?"opacity-40 cursor-not-allowed":""}`,children:x.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${lt&&W===0?"right-0.5":"left-0.5"}`})})]})]})]})},L)})})]})]}),x.jsx("button",{onClick:mn,className:"w-10 h-10 bg-slate-700/80 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-xl border border-purple-500/50 hover:border-purple-400 transition-all z-10 flex-shrink-0",children:""})]}),x.jsxs("div",{className:"md:hidden bg-slate-800 rounded-2xl w-full border border-purple-500/30",children:[x.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-slate-800 p-4",children:[x.jsx("button",{onClick:()=>{ft(null),Yt(null)},className:"absolute top-2 right-2 w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-lg z-10",children:""}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:L=>{L.stopPropagation(),w(nt.imageUrl)},children:x.jsx("img",{src:nt.imageUrl,alt:nt.name,className:"w-32 sm:w-48 h-auto rounded-lg shadow-xl hover:opacity-80 transition-opacity"})}),x.jsxs("div",{className:"flex-1 text-white min-w-0",children:[x.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-1 truncate",children:nt.name}),x.jsxs("p",{className:"text-purple-300 text-xs sm:text-sm mb-3",children:["#",nt.number,"  ",nt.set]}),x.jsxs("div",{className:"space-y-2 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[x.jsx("span",{children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-slate-400 text-[10px]",children:"Illustrator"}),x.jsx("div",{className:"font-semibold text-xs",children:"Yuka Morii"})]})]}),nt.era&&x.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg p-2",children:[x.jsx("span",{children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-slate-400 text-[10px]",children:"Era"}),x.jsx("div",{className:"font-semibold text-xs",children:nt.era})]})]})]})]})]})]}),x.jsxs("div",{className:"p-4 max-h-[35vh] overflow-y-auto",children:[x.jsxs("h3",{className:"text-sm font-bold text-white mb-3 flex items-center gap-3",children:[x.jsx("span",{children:""}),"Variants"]}),x.jsx("div",{className:"space-y-1.5",children:nt.variations&&Object.entries(nt.variations).map(([L,Q])=>{const W=Q.count||0,lt=Q.ordered||!1,Et=Q.languages||[],Vt=Q.available_languages||[],yt=L.replace(/_/g," ").replace(/\b\w/g,pt=>pt.toUpperCase());return x.jsx("div",{className:"bg-slate-700/50 rounded-lg p-2",children:x.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[x.jsx("div",{className:"text-white font-semibold w-full leading-tight text-xs mb-1",title:yt,children:yt}),x.jsxs("div",{className:"flex items-center gap-2 flex-wrap w-full",children:[_?x.jsx("div",{className:"text-white font-bold text-sm",children:W}):x.jsxs("div",{className:"flex items-center gap-1.5 w-20",children:[x.jsx("button",{onClick:pt=>O(nt.id,L,pt),className:"w-6 h-6 bg-slate-600 hover:bg-slate-500 rounded text-white font-bold text-sm",children:""}),x.jsx("div",{className:"w-8 text-center",children:x.jsx("span",{className:"text-white font-bold text-sm",children:W})}),x.jsx("button",{onClick:pt=>Kt(nt.id,L,pt),className:"w-6 h-6 bg-purple-600 hover:bg-purple-500 rounded text-white font-bold text-sm",children:"+"})]}),!_&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex items-center gap-1.5 w-20",children:Vt.map(pt=>{const Ge=Et.includes(pt),xt=Vt.includes(pt),Mt=W===0||!xt;return x.jsx("button",{onClick:Xt=>!Mt&&Te(nt.id,L,pt,Xt),disabled:Mt,className:`px-2 py-0.5 rounded text-[10px] font-semibold transition-all min-w-[32px] ${Ge?"bg-blue-600 text-white":Mt?"bg-slate-800 text-slate-500 cursor-not-allowed opacity-40":"bg-slate-600 text-slate-300 hover:bg-slate-500"}`,children:pt},pt)})}),x.jsxs("div",{className:"flex items-center gap-1.5 w-20",children:[x.jsx("span",{className:"text-slate-400 text-[10px]",children:"Ordered"}),x.jsx("button",{onClick:pt=>W===0&&Lt(nt.id,L,pt),disabled:W>0,className:`w-8 h-4 rounded-full transition-all relative ${lt&&W===0?"bg-yellow-600":"bg-slate-600"} ${W>0?"opacity-40 cursor-not-allowed":""}`,children:x.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${lt&&W===0?"right-0.5":"left-0.5"}`})})]})]})]})]})},L)})})]}),x.jsxs("div",{className:"flex justify-center gap-4 py-4 px-4",children:[x.jsx("button",{onClick:ui,className:"w-12 h-12 bg-slate-700/80 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-2xl border border-purple-500/50 hover:border-purple-400 transition-all",children:""}),x.jsx("button",{onClick:mn,className:"w-12 h-12 bg-slate-700/80 hover:bg-slate-600 rounded-full flex items-center justify-center text-white text-2xl border border-purple-500/50 hover:border-purple-400 transition-all",children:""})]})]})]})}),x.jsxs("div",{className:"relative max-w-7xl mx-auto p-4 sm:p-6",children:[x.jsx("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 mb-6 border border-purple-500/20",children:x.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[x.jsx("div",{children:x.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[x.jsx("div",{className:"text-5xl",children:""}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent",children:"Yuka Morii Collection"}),x.jsx("p",{className:"text-purple-300 mt-1 text-sm",children:_?` Viewing ${V}'s Collection`:` ${a?.email}`})]})]})}),x.jsxs("div",{className:"flex gap-3 flex-wrap",children:[x.jsx("button",{onClick:()=>{b==="trade"?A(fe):(we(b),A("trade"))},className:`px-6 py-3 rounded-xl font-semibold transition-all ${b==="trade"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-slate-700 text-purple-200 hover:bg-slate-600"}`,children:" Trade View"}),!_&&x.jsx("button",{onClick:()=>_t(!0),className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-all",children:" Share"}),!_&&x.jsx("button",{onClick:st,className:"px-6 py-3 bg-slate-700 text-purple-200 rounded-xl font-semibold hover:bg-slate-600 transition-all",children:"Sign Out"})]})]})}),x.jsx("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-6 mb-6 border border-purple-500/20",children:x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[x.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl border border-purple-500/20",children:[x.jsx("div",{className:"text-4xl font-bold text-purple-400",children:Sn.total}),x.jsx("div",{className:"text-purple-200 text-sm font-medium mt-2",children:"Total Cards"})]}),x.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-900/40 to-green-800/40 rounded-xl border border-green-500/30",children:[x.jsx("div",{className:"text-4xl font-bold text-green-400",children:Sn.owned}),x.jsx("div",{className:"text-green-200 text-sm font-medium mt-2",children:" Owned"})]}),x.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-900/40 to-blue-800/40 rounded-xl border border-blue-500/30",children:[x.jsx("div",{className:"text-4xl font-bold text-blue-400",children:Sn.ordered}),x.jsx("div",{className:"text-blue-200 text-sm font-medium mt-2",children:" Ordered"})]}),x.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl border border-slate-600",children:[x.jsx("div",{className:"text-4xl font-bold text-slate-400",children:Sn.needed}),x.jsx("div",{className:"text-slate-300 text-sm font-medium mt-2",children:"Needed"})]}),x.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-900/40 to-purple-900/40 rounded-xl border border-blue-500/30",children:[x.jsxs("div",{className:"text-4xl font-bold text-blue-400",children:[Sn.completion,"%"]}),x.jsx("div",{className:"text-blue-200 text-sm font-medium mt-2",children:"Owned %"})]})]})}),x.jsx("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-4 mb-6 border border-purple-500/20",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"font-semibold text-purple-300 mb-2 block text-sm",children:" Status"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["all","yes","ordered","no"].map(L=>x.jsx("button",{onClick:()=>A(L),className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${b===L?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-slate-700 text-purple-200"}`,children:L==="all"?"All":L==="yes"?" Owned":L==="ordered"?" Ordered":" Need"},L))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"font-semibold text-purple-300 mb-2 block text-sm",children:" Era"}),x.jsx("select",{value:U,onChange:L=>Z(L.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-purple-200 text-sm",children:ps.map(L=>x.jsx("option",{value:L,children:L==="all"?"All Eras":L},L))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"font-semibold text-purple-300 mb-2 block text-sm",children:" Sort"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>C("asc"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold ${S==="asc"?"bg-gradient-to-r from-green-600 to-teal-600 text-white":"bg-slate-700 text-purple-200"}`,children:" 1223"}),x.jsx("button",{onClick:()=>C("desc"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold ${S==="desc"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-slate-700 text-purple-200"}`,children:" 2231"})]})]})]})}),x.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-6 border border-purple-500/20",children:[x.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:[" Collection  ",an.length," Cards"]}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3",children:an.map(L=>{const Q=L.variations||{},W=Object.values(Q).reduce((xt,Mt)=>xt+(Mt.count||0),0),lt=Q.reverse_holo&&Q.reverse_holo.count>0,Et=Object.values(Q).some(xt=>xt.ordered===!0&&xt.count===0),Vt=W>0;Object.values(Q).reduce((xt,Mt)=>{const Xt=Mt.count||0,ce=(Mt.languages||[]).length||1,Es=Math.max(0,Xt-ce);return xt+Es},0);const pt=It(L)?St()[L.set]:null,Ge=Pt(Q);return x.jsxs("div",{onClick:()=>{!_&&b!=="trade"&&(ft(L),Yt(Object.keys(L.variations)[0]))},className:`relative bg-slate-700 rounded-xl overflow-hidden transition-all duration-300 border-2 border-slate-600 
      ${b==="trade"?"cursor-default":"hover:border-purple-500 cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20"}`,children:[x.jsxs("div",{className:"aspect-[2/3] relative bg-slate-900",children:[x.jsx("img",{src:L.imageUrl,alt:L.name,onClick:xt=>{b==="trade"&&(xt.stopPropagation(),w(L.imageUrl))},className:`w-full h-full object-contain p-2 ${b==="trade"?"cursor-pointer hover:opacity-90 transition-opacity":""}`}),b==="trade"?x.jsx(x.Fragment,{children:x.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-slate-900 via-slate-900/95 to-transparent p-2 pt-8",children:x.jsx("div",{className:"flex flex-col gap-1.5",children:Object.entries(Q).filter(([xt,Mt])=>{const Xt=Mt.count||0,ce=(Mt.languages||[]).length||1;return Xt>ce}).map(([xt,Mt])=>{const Xt=Mt.languages||[],Fe=Mt.count||0,ce=Xt.length||1,Es=Fe-ce;return x.jsx("div",{className:"bg-green-600 rounded-lg px-2 py-1.5 border-2 border-green-400 shadow-lg",children:x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("span",{className:"text-white text-[10px] font-bold flex-1 leading-tight",children:xt.replace(/_/g," ").replace(/\b\w/g,Ts=>Ts.toUpperCase())}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[Xt.includes("EN")&&x.jsx("span",{className:"text-xs",children:""}),Xt.includes("JP")&&x.jsx("span",{className:"text-xs",children:""}),x.jsxs("span",{className:"text-white font-black text-sm bg-green-800 px-1.5 py-0.5 rounded",children:[Es,""]})]})]})},xt)})})})}):x.jsxs(x.Fragment,{children:[pt&&x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:"75%",transform:"translate(-60%, -20%)"},children:x.jsx("div",{className:"w-24 h-24 flex items-center justify-center p-1.5",children:x.jsx("img",{src:pt,alt:"Expansion Stamp",className:"w-full h-full object-contain"})})}),x.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[Object.values(Q).some(xt=>xt.languages?.includes("EN"))&&x.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg text-xs font-bold",children:""}),Object.values(Q).some(xt=>xt.languages?.includes("JP"))&&x.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg text-xs font-bold",children:""})]}),Vt&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:x.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl",children:x.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),Et&&!Vt&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:x.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl",children:x.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3500/3500833.png",alt:"Ordered",className:"w-8 h-8 object-contain"})})}),x.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[W>1&&x.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg",children:x.jsx("span",{className:"text-black text-xs font-bold",children:W})}),lt&&x.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg overflow-hidden border border-purple-400/50",title:"Reverse Holo",children:x.jsx("img",{src:"https://static.dextcg.com/resources/variants/alternate/ReverseHoloVariant.webp",alt:"Reverse Holo",className:"w-5 h-5 object-contain invert"})}),Ge.map((xt,Mt)=>x.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-lg overflow-hidden border border-purple-400/50",title:xt.alt,children:x.jsx("img",{src:xt.icon,alt:xt.alt,className:"w-5 h-5 object-contain"})},`${xt.type}-${Mt}`))]})]})]}),x.jsxs("div",{className:"p-2 bg-slate-900/50",children:[x.jsx("div",{className:"font-bold text-white text-xs truncate",children:L.name}),x.jsxs("div",{className:"text-purple-300 text-[10px] truncate",children:["#",L.number]}),x.jsx("div",{className:"text-purple-400 text-[9px] truncate mt-0.5",children:L.set})]})]},L.id)})}),an.length===0&&x.jsxs("div",{className:"text-center text-purple-300 py-20",children:[x.jsx("div",{className:"text-7xl mb-6 opacity-50",children:""}),x.jsx("div",{className:"text-2xl font-semibold",children:"No cards match your filters"})]})]})]})]})}t1.createRoot(document.getElementById("root")).render(x.jsx(Qb.StrictMode,{children:x.jsx(oI,{})}));
